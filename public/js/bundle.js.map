{"version":3,"file":"js/bundle.js","mappings":"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;;;;;;ACAF;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAQ;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;ACAM;;;;;;;;;;;;;;;;ACAX;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAD;;;;;;;;;;;;;;;;ACAE;;;;;;;;;;;;;;;;ACAO;;;;;;;;;;;;;;;;ACAP;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAJ;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;ACAM;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;ACAG;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAb;;;;;;;;;;;;;;;;ACAM;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAI;;;;;;;;;;;;;;;;ACAD;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;ACAT;;;;;;;;;;;;;;;;ACAM;;;;;;;;;;;;;;;;ACAC;;;;;;;;;;;;;;;;ACAF;;;;;;;;;;;;;;;;ACAH;;;;;;;;;;;;;;;;ACAO;;;;;;;;;;;;;;;;ACAE;;;;;;;;;;;;;;;;ACAL;;;;;;;;;;;;;;;;ACAF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;U8EArM;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UElDA;UACA;UACA;UACA;UACA","sources":["webpack://thelounge/./client/components/MessageTypes/ sync nonrecursive \\.vue$","webpack://thelounge/./client/js/commands/ sync \\.ts$","webpack://thelounge/./client/components/MessageTypes/index.ts","webpack://thelounge/./client/js/auth.ts","webpack://thelounge/./client/js/autocompletion.ts","webpack://thelounge/./client/js/clipboard.ts","webpack://thelounge/./client/js/commands/collapse.ts","webpack://thelounge/./client/js/commands/expand.ts","webpack://thelounge/./client/js/commands/index.ts","webpack://thelounge/./client/js/commands/join.ts","webpack://thelounge/./client/js/commands/search.ts","webpack://thelounge/./client/js/constants.ts","webpack://thelounge/./client/js/eventbus.ts","webpack://thelounge/./client/js/helpers/collapseNetwork.ts","webpack://thelounge/./client/js/helpers/colorClass.ts","webpack://thelounge/./client/js/helpers/contextMenu.ts","webpack://thelounge/./client/js/helpers/distance.ts","webpack://thelounge/./client/js/helpers/friendlysize.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/anyIntersection.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/fill.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/findChannels.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/findEmoji.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/findNames.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/merge.ts","webpack://thelounge/./client/js/helpers/ircmessageparser/parseStyle.ts","webpack://thelounge/./client/js/helpers/isChannelCollapsed.ts","webpack://thelounge/./client/js/helpers/isIgnoredKeybind.ts","webpack://thelounge/./client/js/helpers/listenForTwoFingerSwipes.ts","webpack://thelounge/./client/js/helpers/localetime.ts","webpack://thelounge/./client/js/helpers/parse.ts","webpack://thelounge/./client/js/helpers/parseIrcUri.ts","webpack://thelounge/./client/js/helpers/roundBadgeNumber.ts","webpack://thelounge/./client/js/hooks/use-close-channel.ts","webpack://thelounge/./client/js/keybinds.ts","webpack://thelounge/./client/js/localStorage.ts","webpack://thelounge/./client/js/location.ts","webpack://thelounge/./client/js/router.ts","webpack://thelounge/./client/js/settings.ts","webpack://thelounge/./client/js/socket-events/auth.ts","webpack://thelounge/./client/js/socket-events/changelog.ts","webpack://thelounge/./client/js/socket-events/commands.ts","webpack://thelounge/./client/js/socket-events/configuration.ts","webpack://thelounge/./client/js/socket-events/connection.ts","webpack://thelounge/./client/js/socket-events/history_clear.ts","webpack://thelounge/./client/js/socket-events/index.ts","webpack://thelounge/./client/js/socket-events/init.ts","webpack://thelounge/./client/js/socket-events/join.ts","webpack://thelounge/./client/js/socket-events/mentions.ts","webpack://thelounge/./client/js/socket-events/more.ts","webpack://thelounge/./client/js/socket-events/msg.ts","webpack://thelounge/./client/js/socket-events/msg_preview.ts","webpack://thelounge/./client/js/socket-events/msg_special.ts","webpack://thelounge/./client/js/socket-events/mute_changed.ts","webpack://thelounge/./client/js/socket-events/names.ts","webpack://thelounge/./client/js/socket-events/network.ts","webpack://thelounge/./client/js/socket-events/nick.ts","webpack://thelounge/./client/js/socket-events/open.ts","webpack://thelounge/./client/js/socket-events/part.ts","webpack://thelounge/./client/js/socket-events/quit.ts","webpack://thelounge/./client/js/socket-events/search.ts","webpack://thelounge/./client/js/socket-events/sessions_list.ts","webpack://thelounge/./client/js/socket-events/setting.ts","webpack://thelounge/./client/js/socket-events/sign_out.ts","webpack://thelounge/./client/js/socket-events/sync_sort.ts","webpack://thelounge/./client/js/socket-events/topic.ts","webpack://thelounge/./client/js/socket-events/users.ts","webpack://thelounge/./client/js/socket.ts","webpack://thelounge/./client/js/store-settings.ts","webpack://thelounge/./client/js/store.ts","webpack://thelounge/./client/js/upload.ts","webpack://thelounge/./client/js/vue.ts","webpack://thelounge/./client/js/webpush.ts","webpack://thelounge/./client/components/App.vue","webpack://thelounge/./client/components/Channel.vue","webpack://thelounge/./client/components/ChannelWrapper.vue","webpack://thelounge/./client/components/Chat.vue","webpack://thelounge/./client/components/ChatInput.vue","webpack://thelounge/./client/components/ChatUserList.vue","webpack://thelounge/./client/components/ConfirmDialog.vue","webpack://thelounge/./client/components/ContextMenu.vue","webpack://thelounge/./client/components/DateMarker.vue","webpack://thelounge/./client/components/Draggable.vue","webpack://thelounge/./client/components/ImageViewer.vue","webpack://thelounge/./client/components/InlineChannel.vue","webpack://thelounge/./client/components/JoinChannel.vue","webpack://thelounge/./client/components/LinkPreview.vue","webpack://thelounge/./client/components/LinkPreviewFileSize.vue","webpack://thelounge/./client/components/LinkPreviewToggle.vue","webpack://thelounge/./client/components/Mentions.vue","webpack://thelounge/./client/components/Message.vue","webpack://thelounge/./client/components/MessageCondensed.vue","webpack://thelounge/./client/components/MessageList.vue","webpack://thelounge/./client/components/MessageSearchForm.vue","webpack://thelounge/./client/components/MessageTypes/away.vue","webpack://thelounge/./client/components/MessageTypes/back.vue","webpack://thelounge/./client/components/MessageTypes/chghost.vue","webpack://thelounge/./client/components/MessageTypes/ctcp.vue","webpack://thelounge/./client/components/MessageTypes/ctcp_request.vue","webpack://thelounge/./client/components/MessageTypes/error.vue","webpack://thelounge/./client/components/MessageTypes/invite.vue","webpack://thelounge/./client/components/MessageTypes/join.vue","webpack://thelounge/./client/components/MessageTypes/kick.vue","webpack://thelounge/./client/components/MessageTypes/mode.vue","webpack://thelounge/./client/components/MessageTypes/mode_channel.vue","webpack://thelounge/./client/components/MessageTypes/mode_user.vue","webpack://thelounge/./client/components/MessageTypes/monospace_block.vue","webpack://thelounge/./client/components/MessageTypes/nick.vue","webpack://thelounge/./client/components/MessageTypes/part.vue","webpack://thelounge/./client/components/MessageTypes/quit.vue","webpack://thelounge/./client/components/MessageTypes/raw.vue","webpack://thelounge/./client/components/MessageTypes/topic.vue","webpack://thelounge/./client/components/MessageTypes/topic_set_by.vue","webpack://thelounge/./client/components/MessageTypes/whois.vue","webpack://thelounge/./client/components/NetworkForm.vue","webpack://thelounge/./client/components/NetworkList.vue","webpack://thelounge/./client/components/NetworkLobby.vue","webpack://thelounge/./client/components/ParsedMessage.vue","webpack://thelounge/./client/components/RevealPassword.vue","webpack://thelounge/./client/components/RoutedChat.vue","webpack://thelounge/./client/components/Session.vue","webpack://thelounge/./client/components/Settings/Account.vue","webpack://thelounge/./client/components/Settings/Appearance.vue","webpack://thelounge/./client/components/Settings/General.vue","webpack://thelounge/./client/components/Settings/Navigation.vue","webpack://thelounge/./client/components/Settings/Notifications.vue","webpack://thelounge/./client/components/Settings/SettingTabItem.vue","webpack://thelounge/./client/components/Sidebar.vue","webpack://thelounge/./client/components/SidebarToggle.vue","webpack://thelounge/./client/components/Special/ListBans.vue","webpack://thelounge/./client/components/Special/ListChannels.vue","webpack://thelounge/./client/components/Special/ListIgnored.vue","webpack://thelounge/./client/components/Special/ListInvites.vue","webpack://thelounge/./client/components/Username.vue","webpack://thelounge/./client/components/VersionChecker.vue","webpack://thelounge/./client/components/Windows/Changelog.vue","webpack://thelounge/./client/components/Windows/Connect.vue","webpack://thelounge/./client/components/Windows/Help.vue","webpack://thelounge/./client/components/Windows/NetworkEdit.vue","webpack://thelounge/./client/components/Windows/SearchResults.vue","webpack://thelounge/./client/components/Windows/Settings.vue","webpack://thelounge/./client/components/Windows/SignIn.vue","webpack://thelounge/./shared/irc.ts","webpack://thelounge/./shared/linkify.ts","webpack://thelounge/./client/css/style.css?2506","webpack://thelounge/./client/components/ConfirmDialog.vue?82a6","webpack://thelounge/./client/components/Mentions.vue?8b12","webpack://thelounge/./client/components/MessageSearchForm.vue?4790","webpack://thelounge/./client/components/NetworkForm.vue?ee9d","webpack://thelounge/./client/components/NetworkList.vue?619d","webpack://thelounge/./client/components/Session.vue?5610","webpack://thelounge/./client/components/Settings/Appearance.vue?742c","webpack://thelounge/./client/components/Settings/Navigation.vue?960b","webpack://thelounge/./client/components/Windows/SearchResults.vue?45e8","webpack://thelounge/./client/components/App.vue?37fa","webpack://thelounge/./client/components/Channel.vue?19d6","webpack://thelounge/./client/components/ChannelWrapper.vue?8bb7","webpack://thelounge/./client/components/Chat.vue?9f2a","webpack://thelounge/./client/components/ChatInput.vue?83df","webpack://thelounge/./client/components/ChatUserList.vue?ef74","webpack://thelounge/./client/components/ConfirmDialog.vue?36a8","webpack://thelounge/./client/components/ContextMenu.vue?fdba","webpack://thelounge/./client/components/DateMarker.vue?205b","webpack://thelounge/./client/components/Draggable.vue?a413","webpack://thelounge/./client/components/ImageViewer.vue?2dfc","webpack://thelounge/./client/components/InlineChannel.vue?b1e5","webpack://thelounge/./client/components/JoinChannel.vue?d18e","webpack://thelounge/./client/components/LinkPreview.vue?77b7","webpack://thelounge/./client/components/LinkPreviewFileSize.vue?6888","webpack://thelounge/./client/components/LinkPreviewToggle.vue?bfed","webpack://thelounge/./client/components/Mentions.vue?dcdf","webpack://thelounge/./client/components/Message.vue?dd80","webpack://thelounge/./client/components/MessageCondensed.vue?0c2b","webpack://thelounge/./client/components/MessageList.vue?f60d","webpack://thelounge/./client/components/MessageSearchForm.vue?6f16","webpack://thelounge/./client/components/MessageTypes/away.vue?c451","webpack://thelounge/./client/components/MessageTypes/back.vue?a43b","webpack://thelounge/./client/components/MessageTypes/chghost.vue?ab01","webpack://thelounge/./client/components/MessageTypes/ctcp.vue?cacf","webpack://thelounge/./client/components/MessageTypes/ctcp_request.vue?2dcb","webpack://thelounge/./client/components/MessageTypes/error.vue?3d38","webpack://thelounge/./client/components/MessageTypes/invite.vue?0d58","webpack://thelounge/./client/components/MessageTypes/join.vue?8f48","webpack://thelounge/./client/components/MessageTypes/kick.vue?24a1","webpack://thelounge/./client/components/MessageTypes/mode.vue?86d9","webpack://thelounge/./client/components/MessageTypes/mode_channel.vue?8348","webpack://thelounge/./client/components/MessageTypes/mode_user.vue?70f4","webpack://thelounge/./client/components/MessageTypes/monospace_block.vue?5357","webpack://thelounge/./client/components/MessageTypes/nick.vue?d15a","webpack://thelounge/./client/components/MessageTypes/part.vue?e2a6","webpack://thelounge/./client/components/MessageTypes/quit.vue?6cc8","webpack://thelounge/./client/components/MessageTypes/raw.vue?56b1","webpack://thelounge/./client/components/MessageTypes/topic.vue?2f75","webpack://thelounge/./client/components/MessageTypes/topic_set_by.vue?2f65","webpack://thelounge/./client/components/MessageTypes/whois.vue?a6be","webpack://thelounge/./client/components/NetworkForm.vue?97fe","webpack://thelounge/./client/components/NetworkList.vue?403b","webpack://thelounge/./client/components/NetworkLobby.vue?7d17","webpack://thelounge/./client/components/ParsedMessage.vue?11f7","webpack://thelounge/./client/components/RevealPassword.vue?c069","webpack://thelounge/./client/components/RoutedChat.vue?f310","webpack://thelounge/./client/components/Session.vue?1e0d","webpack://thelounge/./client/components/Settings/Account.vue?8037","webpack://thelounge/./client/components/Settings/Appearance.vue?aba1","webpack://thelounge/./client/components/Settings/General.vue?e603","webpack://thelounge/./client/components/Settings/Navigation.vue?538b","webpack://thelounge/./client/components/Settings/Notifications.vue?6626","webpack://thelounge/./client/components/Settings/SettingTabItem.vue?8598","webpack://thelounge/./client/components/Sidebar.vue?9985","webpack://thelounge/./client/components/SidebarToggle.vue?5dae","webpack://thelounge/./client/components/Special/ListBans.vue?e125","webpack://thelounge/./client/components/Special/ListChannels.vue?727e","webpack://thelounge/./client/components/Special/ListIgnored.vue?78d6","webpack://thelounge/./client/components/Special/ListInvites.vue?3ace","webpack://thelounge/./client/components/Username.vue?2f83","webpack://thelounge/./client/components/VersionChecker.vue?f024","webpack://thelounge/./client/components/Windows/Changelog.vue?eb05","webpack://thelounge/./client/components/Windows/Connect.vue?3910","webpack://thelounge/./client/components/Windows/Help.vue?3de4","webpack://thelounge/./client/components/Windows/NetworkEdit.vue?3546","webpack://thelounge/./client/components/Windows/SearchResults.vue?abb7","webpack://thelounge/./client/components/Windows/Settings.vue?b26a","webpack://thelounge/./client/components/Windows/SignIn.vue?15cf","webpack://thelounge/./client/components/App.vue?6b40","webpack://thelounge/./client/components/Channel.vue?1828","webpack://thelounge/./client/components/ChannelWrapper.vue?afbf","webpack://thelounge/./client/components/Chat.vue?fa19","webpack://thelounge/./client/components/ChatInput.vue?0237","webpack://thelounge/./client/components/ChatUserList.vue?7c2c","webpack://thelounge/./client/components/ConfirmDialog.vue?3439","webpack://thelounge/./client/components/ContextMenu.vue?7b51","webpack://thelounge/./client/components/DateMarker.vue?1568","webpack://thelounge/./client/components/Draggable.vue?bd24","webpack://thelounge/./client/components/ImageViewer.vue?c7a5","webpack://thelounge/./client/components/InlineChannel.vue?1a83","webpack://thelounge/./client/components/JoinChannel.vue?f25a","webpack://thelounge/./client/components/LinkPreview.vue?c91e","webpack://thelounge/./client/components/LinkPreviewFileSize.vue?303b","webpack://thelounge/./client/components/LinkPreviewToggle.vue?0a79","webpack://thelounge/./client/components/Mentions.vue?0a65","webpack://thelounge/./client/components/Message.vue?44e5","webpack://thelounge/./client/components/MessageCondensed.vue?358c","webpack://thelounge/./client/components/MessageList.vue?a442","webpack://thelounge/./client/components/MessageSearchForm.vue?0e49","webpack://thelounge/./client/components/MessageTypes/away.vue?fc69","webpack://thelounge/./client/components/MessageTypes/back.vue?b481","webpack://thelounge/./client/components/MessageTypes/chghost.vue?e231","webpack://thelounge/./client/components/MessageTypes/ctcp.vue?4202","webpack://thelounge/./client/components/MessageTypes/ctcp_request.vue?a543","webpack://thelounge/./client/components/MessageTypes/error.vue?54a9","webpack://thelounge/./client/components/MessageTypes/invite.vue?1f4a","webpack://thelounge/./client/components/MessageTypes/join.vue?31d1","webpack://thelounge/./client/components/MessageTypes/kick.vue?032f","webpack://thelounge/./client/components/MessageTypes/mode.vue?0998","webpack://thelounge/./client/components/MessageTypes/mode_channel.vue?fdbf","webpack://thelounge/./client/components/MessageTypes/mode_user.vue?7bcf","webpack://thelounge/./client/components/MessageTypes/monospace_block.vue?9367","webpack://thelounge/./client/components/MessageTypes/nick.vue?f0e9","webpack://thelounge/./client/components/MessageTypes/part.vue?eb55","webpack://thelounge/./client/components/MessageTypes/quit.vue?5b2b","webpack://thelounge/./client/components/MessageTypes/raw.vue?3115","webpack://thelounge/./client/components/MessageTypes/topic.vue?3385","webpack://thelounge/./client/components/MessageTypes/topic_set_by.vue?7795","webpack://thelounge/./client/components/MessageTypes/whois.vue?0b8c","webpack://thelounge/./client/components/NetworkForm.vue?46e0","webpack://thelounge/./client/components/NetworkList.vue?fd8c","webpack://thelounge/./client/components/NetworkLobby.vue?fdde","webpack://thelounge/./client/components/ParsedMessage.vue?d94a","webpack://thelounge/./client/components/RevealPassword.vue?ca47","webpack://thelounge/./client/components/RoutedChat.vue?d284","webpack://thelounge/./client/components/Session.vue?c7a4","webpack://thelounge/./client/components/Settings/Account.vue?5c52","webpack://thelounge/./client/components/Settings/Appearance.vue?a7e6","webpack://thelounge/./client/components/Settings/General.vue?545e","webpack://thelounge/./client/components/Settings/Navigation.vue?a93c","webpack://thelounge/./client/components/Settings/Notifications.vue?8745","webpack://thelounge/./client/components/Settings/SettingTabItem.vue?e860","webpack://thelounge/./client/components/Sidebar.vue?64ad","webpack://thelounge/./client/components/SidebarToggle.vue?e7b3","webpack://thelounge/./client/components/Special/ListBans.vue?396b","webpack://thelounge/./client/components/Special/ListChannels.vue?04e4","webpack://thelounge/./client/components/Special/ListIgnored.vue?7f92","webpack://thelounge/./client/components/Special/ListInvites.vue?3860","webpack://thelounge/./client/components/Username.vue?c8da","webpack://thelounge/./client/components/VersionChecker.vue?6100","webpack://thelounge/./client/components/Windows/Changelog.vue?09e0","webpack://thelounge/./client/components/Windows/Connect.vue?2faf","webpack://thelounge/./client/components/Windows/Help.vue?5b98","webpack://thelounge/./client/components/Windows/NetworkEdit.vue?ee20","webpack://thelounge/./client/components/Windows/SearchResults.vue?5534","webpack://thelounge/./client/components/Windows/Settings.vue?0480","webpack://thelounge/./client/components/Windows/SignIn.vue?14b0","webpack://thelounge/./client/components/App.vue?feec","webpack://thelounge/./client/components/Channel.vue?c51a","webpack://thelounge/./client/components/ChannelWrapper.vue?3e2b","webpack://thelounge/./client/components/Chat.vue?7a6b","webpack://thelounge/./client/components/ChatInput.vue?b6a7","webpack://thelounge/./client/components/ChatUserList.vue?a5dd","webpack://thelounge/./client/components/ConfirmDialog.vue?eb87","webpack://thelounge/./client/components/ContextMenu.vue?ef79","webpack://thelounge/./client/components/DateMarker.vue?4535","webpack://thelounge/./client/components/Draggable.vue?8030","webpack://thelounge/./client/components/ImageViewer.vue?7c7d","webpack://thelounge/./client/components/InlineChannel.vue?9728","webpack://thelounge/./client/components/JoinChannel.vue?d5aa","webpack://thelounge/./client/components/LinkPreview.vue?05d5","webpack://thelounge/./client/components/LinkPreviewFileSize.vue?caba","webpack://thelounge/./client/components/LinkPreviewToggle.vue?2924","webpack://thelounge/./client/components/Mentions.vue?6167","webpack://thelounge/./client/components/Message.vue?a5e7","webpack://thelounge/./client/components/MessageCondensed.vue?c4f0","webpack://thelounge/./client/components/MessageList.vue?2fd0","webpack://thelounge/./client/components/MessageSearchForm.vue?97a0","webpack://thelounge/./client/components/MessageTypes/away.vue?1dc8","webpack://thelounge/./client/components/MessageTypes/back.vue?63d8","webpack://thelounge/./client/components/MessageTypes/chghost.vue?2314","webpack://thelounge/./client/components/MessageTypes/ctcp.vue?3398","webpack://thelounge/./client/components/MessageTypes/ctcp_request.vue?d5d4","webpack://thelounge/./client/components/MessageTypes/error.vue?aaa4","webpack://thelounge/./client/components/MessageTypes/invite.vue?f380","webpack://thelounge/./client/components/MessageTypes/join.vue?3539","webpack://thelounge/./client/components/MessageTypes/kick.vue?b2f0","webpack://thelounge/./client/components/MessageTypes/mode.vue?088f","webpack://thelounge/./client/components/MessageTypes/mode_channel.vue?ec57","webpack://thelounge/./client/components/MessageTypes/mode_user.vue?fb29","webpack://thelounge/./client/components/MessageTypes/monospace_block.vue?4d98","webpack://thelounge/./client/components/MessageTypes/nick.vue?a1eb","webpack://thelounge/./client/components/MessageTypes/part.vue?df46","webpack://thelounge/./client/components/MessageTypes/quit.vue?7201","webpack://thelounge/./client/components/MessageTypes/raw.vue?24ac","webpack://thelounge/./client/components/MessageTypes/topic.vue?58f5","webpack://thelounge/./client/components/MessageTypes/topic_set_by.vue?a397","webpack://thelounge/./client/components/MessageTypes/whois.vue?c4ce","webpack://thelounge/./client/components/NetworkForm.vue?a78d","webpack://thelounge/./client/components/NetworkList.vue?e0a8","webpack://thelounge/./client/components/NetworkLobby.vue?5bee","webpack://thelounge/./client/components/RevealPassword.vue?6548","webpack://thelounge/./client/components/RoutedChat.vue?10a1","webpack://thelounge/./client/components/Session.vue?4ed8","webpack://thelounge/./client/components/Settings/Account.vue?2a55","webpack://thelounge/./client/components/Settings/Appearance.vue?6a76","webpack://thelounge/./client/components/Settings/General.vue?b786","webpack://thelounge/./client/components/Settings/Navigation.vue?3f85","webpack://thelounge/./client/components/Settings/Notifications.vue?d519","webpack://thelounge/./client/components/Settings/SettingTabItem.vue?ac36","webpack://thelounge/./client/components/Sidebar.vue?88b1","webpack://thelounge/./client/components/SidebarToggle.vue?56e2","webpack://thelounge/./client/components/Special/ListBans.vue?2cd1","webpack://thelounge/./client/components/Special/ListChannels.vue?65c2","webpack://thelounge/./client/components/Special/ListIgnored.vue?00c3","webpack://thelounge/./client/components/Special/ListInvites.vue?d39e","webpack://thelounge/./client/components/Username.vue?6925","webpack://thelounge/./client/components/VersionChecker.vue?9ebf","webpack://thelounge/./client/components/Windows/Changelog.vue?8134","webpack://thelounge/./client/components/Windows/Connect.vue?38b2","webpack://thelounge/./client/components/Windows/Help.vue?1cfc","webpack://thelounge/./client/components/Windows/NetworkEdit.vue?9835","webpack://thelounge/./client/components/Windows/SearchResults.vue?d485","webpack://thelounge/./client/components/Windows/Settings.vue?a5c7","webpack://thelounge/./client/components/Windows/SignIn.vue?1d5d","webpack://thelounge/./client/components/ConfirmDialog.vue?866e","webpack://thelounge/./client/components/Mentions.vue?222f","webpack://thelounge/./client/components/MessageSearchForm.vue?ef03","webpack://thelounge/./client/components/NetworkForm.vue?7b8b","webpack://thelounge/./client/components/NetworkList.vue?77b8","webpack://thelounge/./client/components/Session.vue?8e5c","webpack://thelounge/./client/components/Settings/Appearance.vue?27a5","webpack://thelounge/./client/components/Settings/Navigation.vue?50a1","webpack://thelounge/./client/components/Windows/SearchResults.vue?2737","webpack://thelounge/webpack/bootstrap","webpack://thelounge/webpack/runtime/chunk loaded","webpack://thelounge/webpack/runtime/compat get default export","webpack://thelounge/webpack/runtime/define property getters","webpack://thelounge/webpack/runtime/global","webpack://thelounge/webpack/runtime/hasOwnProperty shorthand","webpack://thelounge/webpack/runtime/make namespace object","webpack://thelounge/webpack/runtime/jsonp chunk loading","webpack://thelounge/webpack/before-startup","webpack://thelounge/webpack/startup","webpack://thelounge/webpack/after-startup"],"sourcesContent":["var map = {\n\t\"./away.vue\": \"./client/components/MessageTypes/away.vue\",\n\t\"./back.vue\": \"./client/components/MessageTypes/back.vue\",\n\t\"./chghost.vue\": \"./client/components/MessageTypes/chghost.vue\",\n\t\"./ctcp.vue\": \"./client/components/MessageTypes/ctcp.vue\",\n\t\"./ctcp_request.vue\": \"./client/components/MessageTypes/ctcp_request.vue\",\n\t\"./error.vue\": \"./client/components/MessageTypes/error.vue\",\n\t\"./invite.vue\": \"./client/components/MessageTypes/invite.vue\",\n\t\"./join.vue\": \"./client/components/MessageTypes/join.vue\",\n\t\"./kick.vue\": \"./client/components/MessageTypes/kick.vue\",\n\t\"./mode.vue\": \"./client/components/MessageTypes/mode.vue\",\n\t\"./mode_channel.vue\": \"./client/components/MessageTypes/mode_channel.vue\",\n\t\"./mode_user.vue\": \"./client/components/MessageTypes/mode_user.vue\",\n\t\"./monospace_block.vue\": \"./client/components/MessageTypes/monospace_block.vue\",\n\t\"./nick.vue\": \"./client/components/MessageTypes/nick.vue\",\n\t\"./part.vue\": \"./client/components/MessageTypes/part.vue\",\n\t\"./quit.vue\": \"./client/components/MessageTypes/quit.vue\",\n\t\"./raw.vue\": \"./client/components/MessageTypes/raw.vue\",\n\t\"./topic.vue\": \"./client/components/MessageTypes/topic.vue\",\n\t\"./topic_set_by.vue\": \"./client/components/MessageTypes/topic_set_by.vue\",\n\t\"./whois.vue\": \"./client/components/MessageTypes/whois.vue\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./client/components/MessageTypes sync \\\\.vue$\";","var map = {\n\t\"./collapse.ts\": \"./client/js/commands/collapse.ts\",\n\t\"./expand.ts\": \"./client/js/commands/expand.ts\",\n\t\"./index.ts\": \"./client/js/commands/index.ts\",\n\t\"./join.ts\": \"./client/js/commands/join.ts\",\n\t\"./search.ts\": \"./client/js/commands/search.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./client/js/commands sync recursive \\\\.ts$\";","// This creates a version of `require()` in the context of the current\n// directory, so we iterate over its content, which is a map statically built by\n// Webpack.\n// Second argument says it's recursive, third makes sure we only load templates.\nconst requireViews = require.context(\".\", false, /\\.vue$/);\n\nexport default requireViews.keys().reduce((acc: Record<string, any>, path) => {\n\tacc[\"message-\" + path.substring(2, path.length - 4)] = requireViews(path).default;\n\n\treturn acc;\n}, {});\n","import storage from \"./localStorage\";\nimport location from \"./location\";\n\nexport default class Auth {\n\tstatic signout() {\n\t\tstorage.clear();\n\t\tlocation.reload();\n\t}\n}\n","import constants from \"./constants\";\n\nimport Mousetrap from \"mousetrap\";\nimport {Strategy, Textcomplete, StrategyProps} from \"@textcomplete/core\";\nimport {TextareaEditor} from \"@textcomplete/textarea\";\n\nimport fuzzy from \"fuzzy\";\n\nimport emojiMap from \"./helpers/simplemap.json\";\nimport {store} from \"./store\";\n\nexport default enableAutocomplete;\n\nconst emojiSearchTerms = Object.keys(emojiMap);\nconst emojiStrategy: StrategyProps = {\n\tid: \"emoji\",\n\tmatch: /(^|\\s):([-+\\w:?]{2,}):?$/,\n\tsearch(term: string, callback: (matches) => void) {\n\t\t// Trim colon from the matched term,\n\t\t// as we are unable to get a clean string from match regex\n\t\tterm = term.replace(/:$/, \"\");\n\t\tcallback(fuzzyGrep(term, emojiSearchTerms));\n\t},\n\ttemplate([string, original]: [string, string]) {\n\t\treturn `<span class=\"emoji\">${String(emojiMap[original])}</span> ${string}`;\n\t},\n\treplace([, original]: [string, string]) {\n\t\treturn \"$1\" + String(emojiMap[original]);\n\t},\n\tindex: 2,\n};\n\nconst nicksStrategy: StrategyProps = {\n\tid: \"nicks\",\n\tmatch: /(^|\\s)(@([a-zA-Z_[\\]\\\\^{}|`@][a-zA-Z0-9_[\\]\\\\^{}|`-]*)?)$/,\n\tsearch(term: string, callback: (matches: string[] | string[][]) => void) {\n\t\tterm = term.slice(1);\n\n\t\tif (term[0] === \"@\") {\n\t\t\t// TODO: type\n\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\tcallback(completeNicks(term.slice(1), true).map((val) => [\"@\" + val[0], \"@\" + val[1]]));\n\t\t} else {\n\t\t\tcallback(completeNicks(term, true));\n\t\t}\n\t},\n\ttemplate([string]: [string, string]) {\n\t\treturn string;\n\t},\n\treplace([, original]: [string, string]) {\n\t\treturn \"$1\" + replaceNick(original);\n\t},\n\tindex: 2,\n};\n\nconst chanStrategy: StrategyProps = {\n\tid: \"chans\",\n\tmatch: /(^|\\s)((?:#|\\+|&|![A-Z0-9]{5})(?:[^\\s]+)?)$/,\n\tsearch(term: string, callback: (matches: string[][]) => void) {\n\t\tcallback(completeChans(term));\n\t},\n\ttemplate([string]: [string, string]) {\n\t\treturn string;\n\t},\n\treplace([, original]: [string, string]) {\n\t\treturn \"$1\" + original;\n\t},\n\tindex: 2,\n};\n\nconst commandStrategy: StrategyProps = {\n\tid: \"commands\",\n\tmatch: /^\\/(\\w*)$/,\n\tsearch(term: string, callback: (matches: string[][]) => void) {\n\t\tcallback(completeCommands(\"/\" + term));\n\t},\n\ttemplate([string]: [string, string]) {\n\t\treturn string;\n\t},\n\treplace([, original]: [string, string]) {\n\t\treturn original;\n\t},\n\tindex: 1,\n};\n\nconst foregroundColorStrategy: StrategyProps = {\n\tid: \"foreground-colors\",\n\tmatch: /\\x03(\\d{0,2}|[A-Za-z ]{0,10})$/,\n\tsearch(term: string, callback: (matches: string[][]) => void) {\n\t\tterm = term.toLowerCase();\n\n\t\tconst matchingColorCodes = constants.colorCodeMap\n\t\t\t.filter((i) => fuzzy.test(term, i[0]) || fuzzy.test(term, i[1]))\n\t\t\t.map((i) => {\n\t\t\t\tif (fuzzy.test(term, i[1])) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\ti[0],\n\t\t\t\t\t\tfuzzy.match(term, i[1], {\n\t\t\t\t\t\t\tpre: \"<b>\",\n\t\t\t\t\t\t\tpost: \"</b>\",\n\t\t\t\t\t\t}).rendered,\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn i;\n\t\t\t});\n\n\t\tcallback(matchingColorCodes);\n\t},\n\ttemplate(value: string[]) {\n\t\treturn `<span class=\"irc-fg${parseInt(value[0], 10)}\">${value[1]}</span>`;\n\t},\n\treplace(value: string) {\n\t\treturn \"\\x03\" + value[0];\n\t},\n\tindex: 1,\n};\n\nconst backgroundColorStrategy: StrategyProps = {\n\tid: \"background-colors\",\n\tmatch: /\\x03(\\d{2}),(\\d{0,2}|[A-Za-z ]{0,10})$/,\n\tsearch(term: string, callback: (matchingColorCodes: string[][]) => void, match: string[]) {\n\t\tterm = term.toLowerCase();\n\t\tconst matchingColorCodes = constants.colorCodeMap\n\t\t\t.filter((i) => fuzzy.test(term, i[0]) || fuzzy.test(term, i[1]))\n\t\t\t.map((pair) => {\n\t\t\t\tif (fuzzy.test(term, pair[1])) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\tpair[0],\n\t\t\t\t\t\tfuzzy.match(term, pair[1], {\n\t\t\t\t\t\t\tpre: \"<b>\",\n\t\t\t\t\t\t\tpost: \"</b>\",\n\t\t\t\t\t\t}).rendered,\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn pair;\n\t\t\t})\n\t\t\t.map((pair) => pair.concat(match[1])); // Needed to pass fg color to `template`...\n\n\t\tcallback(matchingColorCodes);\n\t},\n\ttemplate(value: string[]) {\n\t\treturn `<span class=\"irc-fg${parseInt(value[2], 10)} irc-bg irc-bg${parseInt(\n\t\t\tvalue[0],\n\t\t\t10\n\t\t)}\">${value[1]}</span>`;\n\t},\n\treplace(value: string[]) {\n\t\treturn \"\\x03$1,\" + value[0];\n\t},\n\tindex: 2,\n};\n\nfunction enableAutocomplete(input: HTMLTextAreaElement) {\n\tlet tabCount = 0;\n\tlet lastMatch = \"\";\n\tlet currentMatches: string[] | string[][] = [];\n\n\tinput.addEventListener(\"input\", (e) => {\n\t\tif ((e as CustomEvent).detail === \"autocomplete\") {\n\t\t\treturn;\n\t\t}\n\n\t\ttabCount = 0;\n\t\tcurrentMatches = [];\n\t\tlastMatch = \"\";\n\t});\n\n\tMousetrap(input).bind(\n\t\t\"tab\",\n\t\t(e) => {\n\t\t\tif (store.state.isAutoCompleting) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\n\t\t\tconst text = input.value;\n\n\t\t\tif (tabCount === 0) {\n\t\t\t\tlastMatch = text.substring(0, input.selectionStart).split(/\\s/).pop() || \"\";\n\n\t\t\t\tif (lastMatch.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcurrentMatches = completeNicks(lastMatch, false);\n\n\t\t\t\tif (currentMatches.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst position = input.selectionStart - lastMatch.length;\n\t\t\tconst newMatch = replaceNick(\n\t\t\t\t// TODO: type this properly\n\t\t\t\tString(currentMatches[tabCount % currentMatches.length]),\n\t\t\t\tposition\n\t\t\t);\n\t\t\tconst remainder = text.substring(input.selectionStart);\n\n\t\t\tinput.value = text.substr(0, position) + newMatch + remainder;\n\n\t\t\tinput.selectionStart -= remainder.length;\n\t\t\tinput.selectionEnd = input.selectionStart;\n\n\t\t\t// Propagate change to Vue model\n\t\t\tinput.dispatchEvent(\n\t\t\t\tnew CustomEvent(\"input\", {\n\t\t\t\t\tdetail: \"autocomplete\",\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tlastMatch = newMatch;\n\t\t\ttabCount++;\n\t\t},\n\t\t\"keydown\"\n\t);\n\n\tconst strategies = [\n\t\temojiStrategy,\n\t\tnicksStrategy,\n\t\tchanStrategy,\n\t\tcommandStrategy,\n\t\tforegroundColorStrategy,\n\t\tbackgroundColorStrategy,\n\t];\n\n\tconst editor = new TextareaEditor(input);\n\tconst textcomplete = new Textcomplete(editor, strategies, {\n\t\tdropdown: {\n\t\t\tclassName: \"textcomplete-menu\",\n\t\t\tplacement: \"top\",\n\t\t},\n\t});\n\n\ttextcomplete.on(\"show\", () => {\n\t\tstore.commit(\"isAutoCompleting\", true);\n\t});\n\n\ttextcomplete.on(\"hidden\", () => {\n\t\tstore.commit(\"isAutoCompleting\", false);\n\t});\n\n\treturn {\n\t\thide() {\n\t\t\ttextcomplete.hide();\n\t\t},\n\t\tdestroy() {\n\t\t\ttextcomplete.destroy();\n\t\t\tstore.commit(\"isAutoCompleting\", false);\n\t\t},\n\t};\n}\n\nfunction replaceNick(original: string, position = 1) {\n\t// If no postfix specified, return autocompleted nick as-is\n\tif (!store.state.settings.nickPostfix) {\n\t\treturn original;\n\t}\n\n\t// If there is whitespace in the input already, append space to nick\n\tif (position > 0 && /\\s/.test(store.state.activeChannel?.channel.pendingMessage || \"\")) {\n\t\treturn original + \" \";\n\t}\n\n\t// If nick is first in the input, append specified postfix\n\treturn original + store.state.settings.nickPostfix;\n}\n\nfunction fuzzyGrep<T>(term: string, array: Array<T>) {\n\tconst results = fuzzy.filter(term, array, {\n\t\tpre: \"<b>\",\n\t\tpost: \"</b>\",\n\t});\n\treturn results.map((el) => [el.string, el.original]);\n}\n\nfunction rawNicks() {\n\tif (!store.state.activeChannel) {\n\t\treturn [];\n\t}\n\n\tif (store.state.activeChannel.channel.users.length > 0) {\n\t\tconst users = store.state.activeChannel.channel.users.slice();\n\n\t\treturn users.sort((a, b) => b.lastMessage - a.lastMessage).map((u) => u.nick);\n\t}\n\n\tconst me = store.state.activeChannel.network.nick;\n\tconst otherUser = store.state.activeChannel.channel.name;\n\n\t// If this is a query, add their name to autocomplete\n\tif (me !== otherUser && store.state.activeChannel.channel.type === \"query\") {\n\t\treturn [otherUser, me];\n\t}\n\n\t// Return our own name by default for anything that isn't a channel or query\n\treturn [me];\n}\n\nfunction completeNicks(word: string, isFuzzy: boolean) {\n\tconst users = rawNicks();\n\tword = word.toLowerCase();\n\n\tif (isFuzzy) {\n\t\treturn fuzzyGrep(word, users);\n\t}\n\n\treturn users.filter((w) => !w.toLowerCase().indexOf(word));\n}\n\nfunction getCommands() {\n\tlet cmds = constants.commands.slice();\n\n\tif (!store.state.settings.searchEnabled) {\n\t\tcmds = cmds.filter((c) => c !== \"/search\");\n\t}\n\n\treturn cmds;\n}\n\nfunction completeCommands(word: string) {\n\tconst commands = getCommands();\n\treturn fuzzyGrep(word, commands);\n}\n\nfunction completeChans(word: string) {\n\tconst words: string[] = [];\n\n\tif (store.state.activeChannel) {\n\t\tfor (const channel of store.state.activeChannel.network.channels) {\n\t\t\t// Push all channels that start with the same CHANTYPE\n\t\t\tif (channel.type === \"channel\" && channel.name[0] === word[0]) {\n\t\t\t\twords.push(channel.name);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fuzzyGrep(word, words);\n}\n","export default function (chat: HTMLDivElement) {\n\t// Disable in Firefox as it already copies flex text correctly\n\t// @ts-expect-error Property 'InstallTrigger' does not exist on type 'Window & typeof globalThis'.ts(2339)\n\tif (typeof window.InstallTrigger !== \"undefined\") {\n\t\treturn;\n\t}\n\n\tconst selection = window.getSelection();\n\n\tif (!selection) {\n\t\treturn;\n\t}\n\n\t// If selection does not span multiple elements, do nothing\n\tif (selection.anchorNode === selection.focusNode) {\n\t\treturn;\n\t}\n\n\tconst range = selection.getRangeAt(0);\n\tconst documentFragment = range.cloneContents();\n\tconst div = document.createElement(\"div\");\n\n\tdiv.id = \"js-copy-hack\";\n\tdiv.appendChild(documentFragment);\n\tchat.appendChild(div);\n\n\tselection.selectAllChildren(div);\n\n\twindow.setTimeout(() => {\n\t\tchat.removeChild(div);\n\t\tselection.removeAllRanges();\n\t\tselection.addRange(range);\n\t}, 0);\n}\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nfunction input() {\n\tif (!store.state.activeChannel) {\n\t\treturn;\n\t}\n\n\tconst messageIds: number[] = [];\n\n\tfor (const message of store.state.activeChannel.channel.messages) {\n\t\tlet toggled = false;\n\n\t\tfor (const preview of message.previews) {\n\t\t\tif (preview.shown) {\n\t\t\t\tpreview.shown = false;\n\t\t\t\ttoggled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (toggled) {\n\t\t\tmessageIds.push(message.id);\n\t\t}\n\t}\n\n\t// Tell the server we're toggling so it remembers at page reload\n\tif (!document.body.classList.contains(\"public\") && messageIds.length > 0) {\n\t\tsocket.emit(\"msg:preview:toggle\", {\n\t\t\ttarget: store.state.activeChannel?.channel.id,\n\t\t\tmessageIds: messageIds,\n\t\t\tshown: false,\n\t\t});\n\t}\n\n\treturn true;\n}\n\nexport default {input};\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nfunction input() {\n\tif (!store.state.activeChannel) {\n\t\treturn;\n\t}\n\n\tconst messageIds: number[] = [];\n\n\tfor (const message of store.state.activeChannel.channel.messages) {\n\t\tlet toggled = false;\n\n\t\tfor (const preview of message.previews) {\n\t\t\tif (!preview.shown) {\n\t\t\t\tpreview.shown = true;\n\t\t\t\ttoggled = true;\n\t\t\t}\n\t\t}\n\n\t\tif (toggled) {\n\t\t\tmessageIds.push(message.id);\n\t\t}\n\t}\n\n\t// Tell the server we're toggling so it remembers at page reload\n\tif (!document.body.classList.contains(\"public\") && messageIds.length > 0) {\n\t\tsocket.emit(\"msg:preview:toggle\", {\n\t\t\ttarget: store.state.activeChannel?.channel.id,\n\t\t\tmessageIds: messageIds,\n\t\t\tshown: true,\n\t\t});\n\t}\n\n\treturn true;\n}\n\nexport default {input};\n","// Taken from views/index.js\n\n// This creates a version of `require()` in the context of the current\n// directory, so we iterate over its content, which is a map statically built by\n// Webpack.\n// Second argument says it's recursive, third makes sure we only load javascript.\nconst commands = require.context(\"./\", true, /\\.ts$/);\n\nexport default commands.keys().reduce<Record<string, unknown>>((acc, path) => {\n\tconst command = path.substring(2, path.length - 3);\n\n\tif (command === \"index\") {\n\t\treturn acc;\n\t}\n\n\tacc[command] = commands(path).default;\n\n\treturn acc;\n}, {});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\n\nfunction input(args: string[]) {\n\tif (args.length > 0) {\n\t\tlet channels = args[0];\n\n\t\tif (channels.length > 0) {\n\t\t\tconst chanTypes = store.state.activeChannel?.network.serverOptions.CHANTYPES;\n\t\t\tconst channelList = args[0].split(\",\");\n\n\t\t\tif (chanTypes && chanTypes.length > 0) {\n\t\t\t\tfor (let c = 0; c < channelList.length; c++) {\n\t\t\t\t\tif (!chanTypes.includes(channelList[c][0])) {\n\t\t\t\t\t\tchannelList[c] = chanTypes[0] + channelList[c];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tchannels = channelList.join(\",\");\n\n\t\t\tconst chan = store.getters.findChannelOnCurrentNetwork(channels);\n\n\t\t\tif (chan) {\n\t\t\t\tswitchToChannel(chan);\n\t\t\t} else {\n\t\t\t\tif (store.state.activeChannel) {\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttext: `/join ${channels} ${args.length > 1 ? args[1] : \"\"}`,\n\t\t\t\t\t\ttarget: store.state.activeChannel.channel.id,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} else if (store.state.activeChannel?.channel.type === \"channel\") {\n\t\t// If `/join` command is used without any arguments, re-join current channel\n\t\tsocket.emit(\"input\", {\n\t\t\ttarget: store.state.activeChannel.channel.id,\n\t\t\ttext: `/join ${store.state.activeChannel.channel.name}`,\n\t\t});\n\n\t\treturn true;\n\t}\n}\n\nexport default {input};\n","import {store} from \"../store\";\nimport {router} from \"../router\";\n\nfunction input(args: string[]) {\n\tif (!store.state.settings.searchEnabled) {\n\t\treturn false;\n\t}\n\n\trouter\n\t\t.push({\n\t\t\tname: \"SearchResults\",\n\t\t\tparams: {\n\t\t\t\tid: store.state.activeChannel?.channel.id,\n\t\t\t},\n\t\t\tquery: {\n\t\t\t\tq: args.join(\" \"),\n\t\t\t},\n\t\t})\n\t\t.catch((e: Error) => {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(`Failed to push SearchResults route: ${e.message}`);\n\t\t});\n\n\treturn true;\n}\n\nexport default {input};\n","const colorCodeMap = [\n\t[\"00\", \"White\"],\n\t[\"01\", \"Black\"],\n\t[\"02\", \"Blue\"],\n\t[\"03\", \"Green\"],\n\t[\"04\", \"Red\"],\n\t[\"05\", \"Brown\"],\n\t[\"06\", \"Magenta\"],\n\t[\"07\", \"Orange\"],\n\t[\"08\", \"Yellow\"],\n\t[\"09\", \"Light Green\"],\n\t[\"10\", \"Cyan\"],\n\t[\"11\", \"Light Cyan\"],\n\t[\"12\", \"Light Blue\"],\n\t[\"13\", \"Pink\"],\n\t[\"14\", \"Grey\"],\n\t[\"15\", \"Light Grey\"],\n];\n\nconst timeFormats = {\n\tmsgDefault: \"HH:mm\",\n\tmsgWithSeconds: \"HH:mm:ss\",\n\tmsg12h: \"hh:mm A\",\n\tmsg12hWithSeconds: \"hh:mm:ss A\",\n};\n\nexport default {\n\tcolorCodeMap,\n\tcommands: [] as string[],\n\ttimeFormats,\n\t// Same value as media query in CSS that forces sidebars to become overlays\n\tmobileViewportPixels: 768,\n};\n","const events = new Map();\n\nclass EventBus {\n\t/**\n\t * Register an event handler for the given type.\n\t *\n\t * @param  {String} type    Type of event to listen for.\n\t * @param  {Function} handler Function to call in response to given event.\n\t */\n\ton(type: string, handler: (...evt: any[]) => void) {\n\t\tif (events.has(type)) {\n\t\t\tevents.get(type).push(handler);\n\t\t} else {\n\t\t\tevents.set(type, [handler]);\n\t\t}\n\t}\n\n\t/**\n\t * Remove an event handler for the given type.\n\t *\n\t * @param  {String} type    Type of event to unregister `handler` from.\n\t * @param  {Function} handler Handler function to remove.\n\t */\n\toff(type: string, handler: (...evt: any[]) => void) {\n\t\tif (events.has(type)) {\n\t\t\tevents.set(\n\t\t\t\ttype,\n\t\t\t\tevents.get(type).filter((item: (...evt: any[]) => void) => item !== handler)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Invoke all handlers for the given type.\n\t *\n\t * @param {String} type  The event type to invoke.\n\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler.\n\t */\n\temit(type: string, ...evt: any) {\n\t\tif (events.has(type)) {\n\t\t\tevents\n\t\t\t\t.get(type)\n\t\t\t\t.slice()\n\t\t\t\t.map((handler: (...evts: any[]) => void) => {\n\t\t\t\t\thandler(...evt);\n\t\t\t\t});\n\t\t}\n\t}\n}\n\nexport default new EventBus();\n","import storage from \"../localStorage\";\n\nexport default (network, isCollapsed) => {\n\tconst stored = storage.get(\"thelounge.networks.collapsed\");\n\tconst networks = stored ? new Set(JSON.parse(stored)) : new Set();\n\n\tnetwork.isCollapsed = isCollapsed;\n\n\tif (isCollapsed) {\n\t\tnetworks.add(network.uuid);\n\t} else {\n\t\tnetworks.delete(network.uuid);\n\t}\n\n\tstorage.set(\"thelounge.networks.collapsed\", JSON.stringify([...networks]));\n};\n","// Generates a string from \"color-1\" to \"color-32\" based on an input string\nexport default (str: string) => {\n\tlet hash = 0;\n\n\tfor (let i = 0; i < str.length; i++) {\n\t\thash += str.charCodeAt(i);\n\t}\n\n\t/*\n\t\tModulo 32 lets us be case insensitive for ascii\n\t\tdue to A being ascii 65 (100 0001)\n\t\t while a being ascii 97 (110 0001)\n\t*/\n\treturn \"color-\" + (1 + (hash % 32)).toString();\n};\n","import socket from \"../socket\";\nimport eventbus from \"../eventbus\";\nimport type {ClientChan, ClientNetwork, ClientUser} from \"../types\";\nimport {switchToChannel} from \"../router\";\nimport {TypedStore} from \"../store\";\nimport useCloseChannel from \"../hooks/use-close-channel\";\n\ntype BaseContextMenuItem = {\n\tlabel: string;\n\ttype: string;\n\tclass: string;\n};\n\ntype ContextMenuItemWithAction = BaseContextMenuItem & {\n\taction: () => void;\n};\n\ntype ContextMenuItemWithLink = BaseContextMenuItem & {\n\tlink?: string;\n};\n\ntype ContextMenuDividerItem = {\n\ttype: \"divider\";\n};\n\nexport type ContextMenuItem =\n\t| ContextMenuItemWithAction\n\t| ContextMenuItemWithLink\n\t| ContextMenuDividerItem;\n\nexport function generateChannelContextMenu(\n\tchannel: ClientChan,\n\tnetwork: ClientNetwork\n): ContextMenuItem[] {\n\tconst closeChannel = useCloseChannel(channel);\n\n\tconst typeMap = {\n\t\tlobby: \"network\",\n\t\tchannel: \"chan\",\n\t\tquery: \"query\",\n\t\tspecial: \"chan\",\n\t};\n\n\tconst closeMap = {\n\t\tlobby: \"Remove\",\n\t\tchannel: \"Leave\",\n\t\tquery: \"Close\",\n\t\tspecial: \"Close\",\n\t};\n\n\tlet items: ContextMenuItem[] = [\n\t\t{\n\t\t\tlabel: channel.name,\n\t\t\ttype: \"item\",\n\t\t\tclass: typeMap[channel.type],\n\t\t\tlink: `/chan-${channel.id}`,\n\t\t},\n\t\t{\n\t\t\ttype: \"divider\",\n\t\t},\n\t];\n\n\t// Add menu items for lobbies\n\tif (channel.type === \"lobby\") {\n\t\titems = [\n\t\t\t...items,\n\t\t\t{\n\t\t\t\tlabel: \"Edit this network\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"edit\",\n\t\t\t\tlink: `/edit-network/${network.uuid}`,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Join a channel\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"join\",\n\t\t\t\taction: () => (network.isJoinChannelShown = true),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"List all channels\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"list\",\n\t\t\t\taction: () =>\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/list\",\n\t\t\t\t\t}),\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"List ignored users\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"list\",\n\t\t\t\taction: () =>\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/ignorelist\",\n\t\t\t\t\t}),\n\t\t\t},\n\t\t\tnetwork.status.connected\n\t\t\t\t? {\n\t\t\t\t\t\tlabel: \"Disconnect\",\n\t\t\t\t\t\ttype: \"item\",\n\t\t\t\t\t\tclass: \"disconnect\",\n\t\t\t\t\t\taction: () =>\n\t\t\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\t\t\ttext: \"/disconnect\",\n\t\t\t\t\t\t\t}),\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tlabel: \"Connect\",\n\t\t\t\t\t\ttype: \"item\",\n\t\t\t\t\t\tclass: \"connect\",\n\t\t\t\t\t\taction: () =>\n\t\t\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\t\t\ttext: \"/connect\",\n\t\t\t\t\t\t\t}),\n\t\t\t\t  },\n\t\t];\n\t}\n\n\t// Add menu items for channels\n\tif (channel.type === \"channel\") {\n\t\titems.push({\n\t\t\tlabel: \"Edit topic\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"edit\",\n\t\t\taction() {\n\t\t\t\tchannel.editTopic = true;\n\t\t\t\tswitchToChannel(channel);\n\t\t\t},\n\t\t});\n\t\titems.push({\n\t\t\tlabel: \"List banned users\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"list\",\n\t\t\taction() {\n\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\ttext: \"/banlist\",\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\t}\n\n\t// Add menu items for queries\n\tif (channel.type === \"query\") {\n\t\titems.push(\n\t\t\t{\n\t\t\t\tlabel: \"User information\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"action-whois\",\n\t\t\t\taction() {\n\t\t\t\t\tswitchToChannel(channel);\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/whois \" + channel.name,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Ignore user\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"action-ignore\",\n\t\t\t\taction() {\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/ignore \" + channel.name,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n\n\tif (channel.type === \"channel\" || channel.type === \"query\") {\n\t\titems.push({\n\t\t\tlabel: \"Clear history\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"clear-history\",\n\t\t\taction() {\n\t\t\t\teventbus.emit(\n\t\t\t\t\t\"confirm-dialog\",\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Clear history\",\n\t\t\t\t\t\ttext: `Are you sure you want to clear history for ${channel.name}? This cannot be undone.`,\n\t\t\t\t\t\tbutton: \"Clear history\",\n\t\t\t\t\t},\n\t\t\t\t\t(result) => {\n\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsocket.emit(\"history:clear\", {\n\t\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\t}\n\n\tconst humanFriendlyChanTypeMap: Record<string, string> = {\n\t\tlobby: \"network\",\n\t\tchannel: \"channel\",\n\t\tquery: \"conversation\",\n\t};\n\n\t// We don't allow the muting of ChanType.SPECIAL channels\n\tconst mutableChanTypes = Object.keys(humanFriendlyChanTypeMap);\n\n\tif (mutableChanTypes.includes(channel.type)) {\n\t\tconst chanType = humanFriendlyChanTypeMap[channel.type];\n\n\t\titems.push({\n\t\t\tlabel: channel.muted ? `Unmute ${chanType}` : `Mute ${chanType}`,\n\t\t\ttype: \"item\",\n\t\t\tclass: \"mute\",\n\t\t\taction() {\n\t\t\t\tsocket.emit(\"mute:change\", {\n\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\tsetMutedTo: !channel.muted,\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\t}\n\n\t// Add close menu item\n\titems.push({\n\t\tlabel: closeMap[channel.type],\n\t\ttype: \"item\",\n\t\tclass: \"close\",\n\t\taction() {\n\t\t\tcloseChannel();\n\t\t},\n\t});\n\n\treturn items;\n}\n\nexport function generateInlineChannelContextMenu(\n\tstore: TypedStore,\n\tchan: string,\n\tnetwork: ClientNetwork\n): ContextMenuItem[] {\n\tconst join = () => {\n\t\tconst channel = network.channels.find((c) => c.name === chan);\n\n\t\tif (channel) {\n\t\t\tswitchToChannel(channel);\n\t\t}\n\n\t\tif (store.state.activeChannel) {\n\t\t\tsocket.emit(\"input\", {\n\t\t\t\ttarget: store.state.activeChannel.channel.id,\n\t\t\t\ttext: \"/join \" + chan,\n\t\t\t});\n\t\t} else {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\"Unable to join channel: activeChannel is undefined\");\n\t\t}\n\t};\n\n\tconst channel = network.channels.find((c) => c.name === chan);\n\n\tif (channel) {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: \"Go to channel\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"chan\",\n\t\t\t\tlink: `/chan-${channel.id}`,\n\t\t\t},\n\t\t];\n\t}\n\n\treturn [\n\t\t{\n\t\t\tlabel: \"Join channel\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"join\",\n\t\t\taction: join,\n\t\t},\n\t];\n}\n\nexport function generateUserContextMenu(\n\tstore: TypedStore,\n\tchannel: ClientChan,\n\tnetwork: ClientNetwork,\n\tuser: Pick<ClientUser, \"nick\" | \"modes\">\n): ContextMenuItem[] {\n\tconst currentChannelUser: ClientUser | Record<string, never> = channel\n\t\t? channel.users.find((u) => u.nick === network.nick) || {}\n\t\t: {};\n\n\tconst whois = () => {\n\t\tconst chan = network.channels.find((c) => c.name === user.nick);\n\n\t\tif (chan) {\n\t\t\tswitchToChannel(chan);\n\t\t}\n\n\t\tsocket.emit(\"input\", {\n\t\t\ttarget: channel.id,\n\t\t\ttext: \"/whois \" + user.nick,\n\t\t});\n\t};\n\n\tconst items: ContextMenuItem[] = [\n\t\t{\n\t\t\tlabel: user.nick,\n\t\t\ttype: \"item\",\n\t\t\tclass: \"user\",\n\t\t\taction: whois,\n\t\t},\n\t\t{\n\t\t\ttype: \"divider\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"User information\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"action-whois\",\n\t\t\taction: whois,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Ignore user\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"action-ignore\",\n\t\t\taction() {\n\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\ttext: \"/ignore \" + user.nick,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: \"Direct messages\",\n\t\t\ttype: \"item\",\n\t\t\tclass: \"action-query\",\n\t\t\taction() {\n\t\t\t\tconst chan = store.getters.findChannelOnCurrentNetwork(user.nick);\n\n\t\t\t\tif (chan) {\n\t\t\t\t\tswitchToChannel(chan);\n\t\t\t\t}\n\n\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\ttext: \"/query \" + user.nick,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t];\n\n\t// Bail because we're in a query or we don't have a special mode.\n\tif (!currentChannelUser.modes || currentChannelUser.modes.length < 1) {\n\t\treturn items;\n\t}\n\n\t// Names of the standard modes we are able to change\n\tconst modeCharToName = {\n\t\t\"~\": \"owner\",\n\t\t\"&\": \"admin\",\n\t\t\"@\": \"operator\",\n\t\t\"%\": \"half-op\",\n\t\t\"+\": \"voice\",\n\t};\n\n\t// Labels for the mode changes.  For example .rev({mode: \"a\", symbol: \"&\"}) => 'Revoke admin (-a)'\n\tconst modeTextTemplate = {\n\t\trevoke(m: {symbol: string; mode: string}) {\n\t\t\tconst name = modeCharToName[m.symbol];\n\n\t\t\tif (typeof name !== \"string\") {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tconst res = name ? `Revoke ${name} (-${m.mode})` : `Mode -${m.mode}`;\n\t\t\treturn res;\n\t\t},\n\t\tgive(m: {symbol: string; mode: string}) {\n\t\t\tconst name = modeCharToName[m.symbol];\n\n\t\t\tif (typeof name !== \"string\") {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tconst res = name ? `Give ${name} (+${m.mode})` : `Mode +${m.mode}`;\n\t\t\treturn res;\n\t\t},\n\t};\n\n\tconst networkModeSymbols = network.serverOptions.PREFIX.symbols;\n\n\t/**\n\t * Determine whether the prefix of mode p1 has access to perform actions on p2.\n\t *\n\t * EXAMPLE:\n\t *    compare('@', '@') => true\n\t *    compare('&', '@') => true\n\t *    compare('+', '~') => false\n\t * @param {string} p1 The mode performing an action\n\t * @param {string} p2 The target mode\n\t *\n\t * @return {boolean} whether p1 can perform an action on p2\n\t */\n\tfunction compare(p1: string, p2: string): boolean {\n\t\t// The modes ~ and @ can perform actions on their own mode.  The others on modes below.\n\t\treturn \"~@\".indexOf(p1) > -1\n\t\t\t? networkModeSymbols.indexOf(p1) <= networkModeSymbols.indexOf(p2)\n\t\t\t: networkModeSymbols.indexOf(p1) < networkModeSymbols.indexOf(p2);\n\t}\n\n\tnetwork.serverOptions.PREFIX.prefix.forEach((mode) => {\n\t\tif (!compare(currentChannelUser.modes[0], mode.symbol)) {\n\t\t\t// Our highest mode is below the current mode.  Bail.\n\t\t\treturn;\n\t\t}\n\n\t\tif (!user.modes.includes(mode.symbol)) {\n\t\t\t// The target doesn't already have this mode, therefore we can set it.\n\t\t\titems.push({\n\t\t\t\tlabel: modeTextTemplate.give(mode),\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"action-set-mode\",\n\t\t\t\taction() {\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/mode +\" + mode.mode + \" \" + user.nick,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\titems.push({\n\t\t\t\tlabel: modeTextTemplate.revoke(mode),\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"action-revoke-mode\",\n\t\t\t\taction() {\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/mode -\" + mode.mode + \" \" + user.nick,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t});\n\n\t// Determine if we are half-op or op depending on the network modes so we can kick.\n\tif (!compare(networkModeSymbols.indexOf(\"%\") > -1 ? \"%\" : \"@\", currentChannelUser.modes[0])) {\n\t\t// Check if the target user has no mode or a mode lower than ours.\n\t\tif (user.modes.length === 0 || compare(currentChannelUser.modes[0], user.modes[0])) {\n\t\t\titems.push({\n\t\t\t\tlabel: \"Kick\",\n\t\t\t\ttype: \"item\",\n\t\t\t\tclass: \"action-kick\",\n\t\t\t\taction() {\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\ttext: \"/kick \" + user.nick,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\treturn items;\n}\n","function distance([x1, y1]: [number, number], [x2, y2]: [number, number]) {\n\treturn Math.hypot(x1 - x2, y1 - y2);\n}\n\nexport default distance;\n","const sizes = [\"Bytes\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\n\nexport default (size: number) => {\n\t// Loosely inspired from https://stackoverflow.com/a/18650828/1935861\n\tconst i = size > 0 ? Math.floor(Math.log(size) / Math.log(1024)) : 0;\n\tconst fixedSize = parseFloat((size / Math.pow(1024, i)).toFixed(1));\n\treturn `${fixedSize} ${sizes[i]}`;\n};\n","// Return true if any section of \"a\" or \"b\" parts (defined by their start/end\n\nimport {Part} from \"./merge\";\n\n// markers) intersect each other, false otherwise.\nfunction anyIntersection(a: Part, b: Part) {\n\treturn (\n\t\t(a.start <= b.start && b.start < a.end) ||\n\t\t(a.start < b.end && b.end <= a.end) ||\n\t\t(b.start <= a.start && a.start < b.end) ||\n\t\t(b.start < a.end && a.end <= b.end)\n\t);\n}\n\nexport default anyIntersection;\n","// Create plain text entries corresponding to areas of the text that match no\n// existing entries. Returns an empty array if all parts of the text have been\n\nimport {Part} from \"./merge\";\n\n// parsed into recognizable entries already.\nfunction fill(existingEntries: Part[], text: string) {\n\tlet position = 0;\n\n\t// Fill inner parts of the text. For example, if text is `foobarbaz` and both\n\t// `foo` and `baz` have matched into an entry, this will return a dummy entry\n\t// corresponding to `bar`.\n\tconst result = existingEntries.reduce<Part[]>((acc, textSegment) => {\n\t\tif (textSegment.start > position) {\n\t\t\tacc.push({\n\t\t\t\tstart: position,\n\t\t\t\tend: textSegment.start,\n\t\t\t});\n\t\t}\n\n\t\tposition = textSegment.end;\n\t\treturn acc;\n\t}, []);\n\n\t// Complete the unmatched end of the text with a dummy entry\n\tif (position < text.length) {\n\t\tresult.push({\n\t\t\tstart: position,\n\t\t\tend: text.length,\n\t\t});\n\t}\n\n\treturn result;\n}\n\nexport default fill;\n","// Escapes the RegExp special characters \"^\", \"$\", \"\", \".\", \"*\", \"+\", \"?\", \"(\",\n// \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in string.\n// See https://lodash.com/docs/#escapeRegExp\nimport escapeRegExp from \"lodash/escapeRegExp\";\nimport {Part} from \"./merge\";\n\nexport type ChannelPart = Part & {\n\tchannel: string;\n};\n\n// escapes a regex in a way that's compatible to shove it in\n// a regex char set (meaning it also escapes -)\nfunction escapeRegExpCharSet(raw: string): string {\n\tconst escaped: string = escapeRegExp(raw);\n\treturn escaped.replace(\"-\", \"\\\\-\");\n}\n\n// Given an array of channel prefixes (such as \"#\" and \"&\") and an array of user\n// modes (such as \"@\" and \"+\"), this function extracts channels and nicks from a\n// text.\n// It returns an array of objects for each channel found with their start index,\n// end index and channel name.\nfunction findChannels(text: string, channelPrefixes: string[], userModes: string[]) {\n\t// `userModePattern` is necessary to ignore user modes in /whois responses.\n\t// For example, a voiced user in #thelounge will have a /whois response of:\n\t// > foo is on the following channels: +#thelounge\n\t// We need to explicitly ignore user modes to parse such channels correctly.\n\tconst userModePattern = userModes.map(escapeRegExpCharSet).join(\"\");\n\tconst channelPrefixPattern = channelPrefixes.map(escapeRegExpCharSet).join(\"\");\n\tconst channelPattern = `(?:^|\\\\s)[${userModePattern}]*([${channelPrefixPattern}][^ \\u0007]+)`;\n\tconst channelRegExp = new RegExp(channelPattern, \"g\");\n\n\tconst result: ChannelPart[] = [];\n\tlet match: RegExpExecArray | null;\n\n\tdo {\n\t\t// With global (\"g\") regexes, calling `exec` multiple times will find\n\t\t// successive matches in the same string.\n\t\tmatch = channelRegExp.exec(text);\n\n\t\tif (match) {\n\t\t\tresult.push({\n\t\t\t\tstart: match.index + match[0].length - match[1].length,\n\t\t\t\tend: match.index + match[0].length,\n\t\t\t\tchannel: match[1],\n\t\t\t});\n\t\t}\n\t} while (match);\n\n\treturn result;\n}\n\nexport default findChannels;\n","import emojiRegExp from \"emoji-regex\";\nimport {Part} from \"./merge\";\n\nconst regExp = emojiRegExp();\n\nexport type EmojiPart = Part & {\n\temoji: string;\n};\n\nfunction findEmoji(text: string) {\n\tconst result: EmojiPart[] = [];\n\tlet match: RegExpExecArray | null;\n\n\twhile ((match = regExp.exec(text))) {\n\t\tresult.push({\n\t\t\tstart: match.index,\n\t\t\tend: match.index + match[0].length,\n\t\t\temoji: match[0],\n\t\t});\n\t}\n\n\treturn result;\n}\n\nexport default findEmoji;\n","import {Part} from \"./merge\";\n\nconst nickRegExp = /([\\w[\\]\\\\`^{|}-]+)/g;\n\nexport type NamePart = Part & {\n\tnick: string;\n};\n\nfunction findNames(text: string, nicks: string[]): NamePart[] {\n\tconst result: NamePart[] = [];\n\n\t// Return early if we don't have any nicknames to find\n\tif (nicks.length === 0) {\n\t\treturn result;\n\t}\n\n\tlet match: RegExpExecArray | null;\n\n\twhile ((match = nickRegExp.exec(text))) {\n\t\tif (nicks.indexOf(match[1]) > -1) {\n\t\t\tresult.push({\n\t\t\t\tstart: match.index,\n\t\t\t\tend: match.index + match[1].length,\n\t\t\t\tnick: match[1],\n\t\t\t});\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport default findNames;\n","import anyIntersection from \"./anyIntersection\";\nimport fill from \"./fill\";\nimport {ChannelPart} from \"./findChannels\";\nimport {EmojiPart} from \"./findEmoji\";\nimport {LinkPart} from \"../../../../shared/linkify\";\nimport {NamePart} from \"./findNames\";\n\nexport type Part = {\n\tstart: number;\n\tend: number;\n};\n\ntype TextPart = Part & {\n\ttext: string;\n};\n\ntype Fragment = {\n\tstart: number;\n\tend: number;\n\ttext: string;\n};\n\ntype PartWithFragments = Part & {\n\tfragments: Fragment[];\n};\n\n// Merge text part information within a styling fragment\nfunction assign(textPart: Part, fragment: Fragment) {\n\tconst fragStart = fragment.start;\n\tconst start = Math.max(fragment.start, textPart.start);\n\tconst end = Math.min(fragment.end, textPart.end);\n\tconst text = fragment.text.slice(start - fragStart, end - fragStart);\n\n\treturn Object.assign({}, fragment, {start, end, text});\n}\n\nfunction sortParts(a: Part, b: Part) {\n\treturn a.start - b.start || b.end - a.end;\n}\n\nexport type MergedParts = (TextPart | NamePart | EmojiPart | ChannelPart | LinkPart)[];\n\n// Merge the style fragments within the text parts, taking into account\n// boundaries and text sections that have not matched to links or channels.\n// For example, given a string \"foobar\" where \"foo\" and \"bar\" have been\n// identified as parts (channels, links, etc.) and \"fo\", \"ob\" and \"ar\" have 3\n// different styles, the first resulting part will contain fragments \"fo\" and\n// \"o\", and the second resulting part will contain \"b\" and \"ar\". \"o\" and \"b\"\n// fragments will contain duplicate styling attributes.\nfunction merge(\n\tparts: MergedParts,\n\tstyleFragments: Fragment[],\n\tcleanText: string\n): PartWithFragments[] {\n\t// Remove overlapping parts\n\tparts = parts.sort(sortParts).reduce<MergedParts>((prev, curr) => {\n\t\tconst intersection = prev.some((p) => anyIntersection(p, curr));\n\n\t\tif (intersection) {\n\t\t\treturn prev;\n\t\t}\n\n\t\treturn prev.concat([curr]);\n\t}, []);\n\n\t// Every section of the original text that has not been captured in a \"part\"\n\t// is filled with \"text\" parts, dummy objects with start/end but no extra\n\t// metadata.\n\n\tconst filled = fill(parts, cleanText) as TextPart[];\n\tconst allParts: MergedParts = [...parts, ...filled].sort(sortParts); // Sort all parts identified based on their position in the original text\n\n\t// Distribute the style fragments within the text parts\n\treturn allParts.map((part: any) => {\n\t\tpart.fragments = styleFragments\n\t\t\t.filter((fragment) => anyIntersection(part, fragment))\n\t\t\t.map((fragment) => assign(part, fragment));\n\n\t\treturn part as PartWithFragments;\n\t});\n}\n\nexport default merge;\n","// Styling control codes\nconst BOLD = \"\\x02\";\nconst COLOR = \"\\x03\";\nconst HEX_COLOR = \"\\x04\";\nconst RESET = \"\\x0f\";\nconst REVERSE = \"\\x16\";\nconst ITALIC = \"\\x1d\";\nconst UNDERLINE = \"\\x1f\";\nconst STRIKETHROUGH = \"\\x1e\";\nconst MONOSPACE = \"\\x11\";\n\nexport type ParsedStyle = {\n\tbold?: boolean;\n\ttextColor?: string;\n\tbgColor?: string;\n\thexColor?: string;\n\thexBgColor?: string;\n\titalic?: boolean;\n\tunderline?: boolean;\n\tstrikethrough?: boolean;\n\tmonospace?: boolean;\n\ttext: string;\n\tstart: number;\n\tend: number;\n};\n\n// Color code matcher, with format `XX,YY` where both `XX` and `YY` are\n// integers, `XX` is the text color and `YY` is an optional background color.\nconst colorRx = /^(\\d{1,2})(?:,(\\d{1,2}))?/;\n\n// 6-char Hex color code matcher\nconst hexColorRx = /^([0-9a-f]{6})(?:,([0-9a-f]{6}))?/i;\n\n// Represents all other control codes that to be ignored/filtered from the text\n// This regex allows line feed character\nconst controlCodesRx = /[\\u0000-\\u0009\\u000B-\\u001F]/g;\n\n// Converts a given text into an array of objects, each of them representing a\n// similarly styled section of the text. Each object carries the `text`, style\n// information (`bold`, `textColor`, `bgcolor`, `italic`,\n// `underline`, `strikethrough`, `monospace`), and `start`/`end` cursors.\nfunction parseStyle(text: string) {\n\tconst result: ParsedStyle[] = [];\n\tlet start = 0;\n\tlet position = 0;\n\n\t// At any given time, these carry style information since last time a styling\n\t// control code was met.\n\tlet colorCodes,\n\t\tbold,\n\t\ttextColor,\n\t\tbgColor,\n\t\thexColor,\n\t\thexBgColor,\n\t\titalic,\n\t\tunderline,\n\t\tstrikethrough,\n\t\tmonospace;\n\n\tconst resetStyle = () => {\n\t\tbold = false;\n\t\ttextColor = undefined;\n\t\tbgColor = undefined;\n\t\thexColor = undefined;\n\t\thexBgColor = undefined;\n\t\titalic = false;\n\t\tunderline = false;\n\t\tstrikethrough = false;\n\t\tmonospace = false;\n\t};\n\n\tresetStyle();\n\n\t// When called, this \"closes\" the current fragment by adding an entry to the\n\t// `result` array using the styling information set last time a control code\n\t// was met.\n\tconst emitFragment = () => {\n\t\t// Uses the text fragment starting from the last control code position up to\n\t\t// the current position\n\t\tconst textPart = text.slice(start, position);\n\n\t\t// Filters out all non-style related control codes present in this text\n\t\tconst processedText = textPart.replace(controlCodesRx, \" \");\n\n\t\tif (processedText.length) {\n\t\t\t// Current fragment starts where the previous one ends, or at 0 if none\n\t\t\tconst fragmentStart = result.length ? result[result.length - 1].end : 0;\n\n\t\t\tresult.push({\n\t\t\t\tbold,\n\t\t\t\ttextColor,\n\t\t\t\tbgColor,\n\t\t\t\thexColor,\n\t\t\t\thexBgColor,\n\t\t\t\titalic,\n\t\t\t\tunderline,\n\t\t\t\tstrikethrough,\n\t\t\t\tmonospace,\n\t\t\t\ttext: processedText,\n\t\t\t\tstart: fragmentStart,\n\t\t\t\tend: fragmentStart + processedText.length,\n\t\t\t});\n\t\t}\n\n\t\t// Now that a fragment has been \"closed\", the next one will start after that\n\t\tstart = position + 1;\n\t};\n\n\t// This loop goes through each character of the given text one by one by\n\t// bumping the `position` cursor. Every time a new special \"styling\" character\n\t// is met, an object gets created (with `emitFragment()`)information on text\n\t// encountered since the previous styling character.\n\twhile (position < text.length) {\n\t\tswitch (text[position]) {\n\t\t\tcase RESET:\n\t\t\t\temitFragment();\n\t\t\t\tresetStyle();\n\t\t\t\tbreak;\n\n\t\t\t// Meeting a BOLD character means that the ongoing text is either going to\n\t\t\t// be in bold or that the previous one was in bold and the following one\n\t\t\t// must be reset.\n\t\t\t// This same behavior applies to COLOR, REVERSE, ITALIC, and UNDERLINE.\n\t\t\tcase BOLD:\n\t\t\t\temitFragment();\n\t\t\t\tbold = !bold;\n\t\t\t\tbreak;\n\n\t\t\tcase COLOR:\n\t\t\t\temitFragment();\n\n\t\t\t\t// Go one step further to find the corresponding color\n\t\t\t\tcolorCodes = text.slice(position + 1).match(colorRx);\n\n\t\t\t\tif (colorCodes) {\n\t\t\t\t\ttextColor = Number(colorCodes[1]);\n\n\t\t\t\t\tif (colorCodes[2]) {\n\t\t\t\t\t\tbgColor = Number(colorCodes[2]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Color code length is > 1, so bump the current position cursor by as\n\t\t\t\t\t// much (and reset the start cursor for the current text block as well)\n\t\t\t\t\tposition += colorCodes[0].length;\n\t\t\t\t\tstart = position + 1;\n\t\t\t\t} else {\n\t\t\t\t\t// If no color codes were found, toggles back to no colors (like BOLD).\n\t\t\t\t\ttextColor = undefined;\n\t\t\t\t\tbgColor = undefined;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase HEX_COLOR:\n\t\t\t\temitFragment();\n\n\t\t\t\tcolorCodes = text.slice(position + 1).match(hexColorRx);\n\n\t\t\t\tif (colorCodes) {\n\t\t\t\t\thexColor = colorCodes[1].toUpperCase();\n\n\t\t\t\t\tif (colorCodes[2]) {\n\t\t\t\t\t\thexBgColor = colorCodes[2].toUpperCase();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Color code length is > 1, so bump the current position cursor by as\n\t\t\t\t\t// much (and reset the start cursor for the current text block as well)\n\t\t\t\t\tposition += colorCodes[0].length;\n\t\t\t\t\tstart = position + 1;\n\t\t\t\t} else {\n\t\t\t\t\t// If no color codes were found, toggles back to no colors (like BOLD).\n\t\t\t\t\thexColor = undefined;\n\t\t\t\t\thexBgColor = undefined;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase REVERSE: {\n\t\t\t\temitFragment();\n\t\t\t\tconst tmp = bgColor;\n\t\t\t\tbgColor = textColor;\n\t\t\t\ttextColor = tmp;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase ITALIC:\n\t\t\t\temitFragment();\n\t\t\t\titalic = !italic;\n\t\t\t\tbreak;\n\n\t\t\tcase UNDERLINE:\n\t\t\t\temitFragment();\n\t\t\t\tunderline = !underline;\n\t\t\t\tbreak;\n\n\t\t\tcase STRIKETHROUGH:\n\t\t\t\temitFragment();\n\t\t\t\tstrikethrough = !strikethrough;\n\t\t\t\tbreak;\n\n\t\t\tcase MONOSPACE:\n\t\t\t\temitFragment();\n\t\t\t\tmonospace = !monospace;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Evaluate the next character at the next iteration\n\t\tposition += 1;\n\t}\n\n\t// The entire text has been parsed, so we finalize the current text fragment.\n\temitFragment();\n\n\treturn result;\n}\n\nconst properties = [\n\t\"bold\",\n\t\"textColor\",\n\t\"bgColor\",\n\t\"hexColor\",\n\t\"hexBgColor\",\n\t\"italic\",\n\t\"underline\",\n\t\"strikethrough\",\n\t\"monospace\",\n];\n\nfunction prepare(text: string) {\n\treturn (\n\t\tparseStyle(text)\n\t\t\t// This optimizes fragments by combining them together when all their values\n\t\t\t// for the properties defined above are equal.\n\t\t\t.reduce((prev: ParsedStyle[], curr) => {\n\t\t\t\tif (prev.length) {\n\t\t\t\t\tconst lastEntry = prev[prev.length - 1];\n\n\t\t\t\t\tif (properties.every((key) => curr[key] === lastEntry[key])) {\n\t\t\t\t\t\tlastEntry.text += curr.text;\n\t\t\t\t\t\tlastEntry.end += curr.text.length;\n\t\t\t\t\t\treturn prev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn prev.concat([curr]);\n\t\t\t}, [])\n\t);\n}\n\nexport default prepare;\n","import {store} from \"../store\";\n\nexport default (network, channel) => {\n\tif (!network.isCollapsed || channel.highlight || channel.type === \"lobby\") {\n\t\treturn false;\n\t}\n\n\tif (store.state.activeChannel && channel === store.state.activeChannel.channel) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n","export default (event: MouseEvent | Mousetrap.ExtendedKeyboardEvent) => {\n\tif (\n\t\t(event.target as HTMLElement).tagName !== \"TEXTAREA\" &&\n\t\t(event.target as HTMLElement).tagName !== \"INPUT\"\n\t) {\n\t\treturn false;\n\t}\n\n\t// If focus is in a textarea, do not handle keybinds if user has typed anything\n\t// This is done to prevent keyboard layout binds conflicting with ours\n\t// For example alt+shift+left on macos selects a word\n\treturn !!(event.target as any).value;\n};\n","import distance from \"./distance\";\n\n// onTwoFingerSwipe will be called with a cardinal direction (\"n\", \"e\", \"s\" or\n// \"w\") as its only argument.\nfunction listenForTwoFingerSwipes(onTwoFingerSwipe) {\n\tlet history: {\n\t\tcenter: number[];\n\t\ttimestamp: number;\n\t}[] = [];\n\n\tdocument.body.addEventListener(\n\t\t\"touchmove\",\n\t\tfunction (event) {\n\t\t\tif (event.touches.length !== 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst a = event.touches.item(0);\n\t\t\tconst b = event.touches.item(1);\n\n\t\t\tif (!a || !b) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst timestamp = window.performance.now();\n\t\t\tconst center = [(a.screenX + b.screenX) / 2, (a.screenY + b.screenY) / 2];\n\n\t\t\tif (history.length > 0) {\n\t\t\t\tconst last = history[history.length - 1];\n\t\t\t\tconst centersAreEqual =\n\t\t\t\t\tlast.center[0] === center[0] && last.center[1] === center[1];\n\n\t\t\t\tif (last.timestamp === timestamp || centersAreEqual) {\n\t\t\t\t\t// Touches with the same timestamps or center don't help us\n\t\t\t\t\t// see the speed of movement. Ignore them.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thistory.push({timestamp, center});\n\t\t},\n\t\t{passive: true}\n\t);\n\n\tdocument.body.addEventListener(\n\t\t\"touchend\",\n\t\tfunction (event) {\n\t\t\tif (event.touches.length >= 2) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst direction = getSwipe(history);\n\n\t\t\t\tif (direction) {\n\t\t\t\t\tonTwoFingerSwipe(direction);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\thistory = [];\n\t\t\t}\n\t\t},\n\t\t{passive: true}\n\t);\n\n\tdocument.body.addEventListener(\n\t\t\"touchcancel\",\n\t\tfunction () {\n\t\t\thistory = [];\n\t\t},\n\t\t{passive: true}\n\t);\n}\n\n// Returns the cardinal direction of the swipe or null if there is no swipe.\nfunction getSwipe(hist) {\n\t// Speed is in pixels/millisecond. Must be maintained throughout swipe.\n\tconst MIN_SWIPE_SPEED = 0.2;\n\n\tif (hist.length < 2) {\n\t\treturn null;\n\t}\n\n\tfor (let i = 1; i < hist.length; ++i) {\n\t\tconst previous = hist[i - 1];\n\t\tconst current = hist[i];\n\n\t\tconst speed =\n\t\t\tdistance(previous.center, current.center) /\n\t\t\tMath.abs(previous.timestamp - current.timestamp);\n\n\t\tif (speed < MIN_SWIPE_SPEED) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn getCardinalDirection(hist[0].center, hist[hist.length - 1].center);\n}\n\nfunction getCardinalDirection([x1, y1], [x2, y2]) {\n\t// If  is the angle of the vector then this is tan()\n\tconst tangent = (y2 - y1) / (x2 - x1);\n\n\t// All values of |tan(-45 to 45)| are less than 1, same for 145 to 225\n\tif (Math.abs(tangent) < 1) {\n\t\treturn x1 < x2 ? \"e\" : \"w\";\n\t}\n\n\treturn y1 < y2 ? \"s\" : \"n\";\n}\n\nexport default listenForTwoFingerSwipes;\n","import dayjs from \"dayjs\";\n\nexport default (time: Date | number) => dayjs(time).format(\"D MMMM YYYY, HH:mm:ss\");\n","// TODO: type\n// @ts-nocheck\n\nimport {h as createElement, VNode} from \"vue\";\nimport parseStyle from \"./ircmessageparser/parseStyle\";\nimport findChannels from \"./ircmessageparser/findChannels\";\nimport {findLinks} from \"../../../shared/linkify\";\nimport findEmoji from \"./ircmessageparser/findEmoji\";\nimport findNames from \"./ircmessageparser/findNames\";\nimport merge, {MergedParts} from \"./ircmessageparser/merge\";\nimport emojiMap from \"./fullnamemap.json\";\nimport LinkPreviewToggle from \"../../components/LinkPreviewToggle.vue\";\nimport LinkPreviewFileSize from \"../../components/LinkPreviewFileSize.vue\";\nimport InlineChannel from \"../../components/InlineChannel.vue\";\nimport Username from \"../../components/Username.vue\";\nimport {ClientMessage, ClientNetwork} from \"../types\";\n\nconst emojiModifiersRegex = /[\\u{1f3fb}-\\u{1f3ff}]|\\u{fe0f}/gu;\n\ntype Fragment = {\n\tclass?: string[];\n\ttext?: string;\n};\n\ntype StyledFragment = Fragment & {\n\ttextColor?: string;\n\tbgColor?: string;\n\thexColor?: string;\n\thexBgColor?: string;\n\n\tbold?: boolean;\n\titalic?: boolean;\n\tunderline?: boolean;\n\tmonospace?: boolean;\n\tstrikethrough?: boolean;\n};\n\n// Create an HTML `span` with styling information for a given fragment\nfunction createFragment(fragment: StyledFragment): VNode | string | undefined {\n\tconst classes: string[] = [];\n\n\tif (fragment.bold) {\n\t\tclasses.push(\"irc-bold\");\n\t}\n\n\tif (fragment.textColor !== undefined) {\n\t\tclasses.push(\"irc-fg\" + fragment.textColor);\n\t}\n\n\tif (fragment.bgColor !== undefined) {\n\t\tclasses.push(\"irc-bg\" + fragment.bgColor);\n\t}\n\n\tif (fragment.italic) {\n\t\tclasses.push(\"irc-italic\");\n\t}\n\n\tif (fragment.underline) {\n\t\tclasses.push(\"irc-underline\");\n\t}\n\n\tif (fragment.strikethrough) {\n\t\tclasses.push(\"irc-strikethrough\");\n\t}\n\n\tif (fragment.monospace) {\n\t\tclasses.push(\"irc-monospace\");\n\t}\n\n\tconst data: {\n\t\tclass?: string[];\n\t\tstyle?: Record<string, string>;\n\t} = {\n\t\tclass: undefined,\n\t\tstyle: undefined,\n\t};\n\n\tlet hasData = false;\n\n\tif (classes.length > 0) {\n\t\thasData = true;\n\t\tdata.class = classes;\n\t}\n\n\tif (fragment.hexColor) {\n\t\thasData = true;\n\t\tdata.style = {\n\t\t\tcolor: `#${fragment.hexColor}`,\n\t\t};\n\n\t\tif (fragment.hexBgColor) {\n\t\t\tdata.style[\"background-color\"] = `#${fragment.hexBgColor}`;\n\t\t}\n\t}\n\n\treturn hasData ? createElement(\"span\", data, fragment.text) : fragment.text;\n}\n\n// Transform an IRC message potentially filled with styling control codes, URLs,\n// nicknames, and channels into a string of HTML elements to display on the client.\nfunction parse(text: string, message?: ClientMessage, network?: ClientNetwork) {\n\t// Extract the styling information and get the plain text version from it\n\tconst styleFragments = parseStyle(text);\n\tconst cleanText = styleFragments.map((fragment) => fragment.text).join(\"\");\n\n\t// On the plain text, find channels and URLs, returned as \"parts\". Parts are\n\t// arrays of objects containing start and end markers, as well as metadata\n\t// depending on what was found (channel or link).\n\tconst channelPrefixes = network ? network.serverOptions.CHANTYPES : [\"#\", \"&\"];\n\tconst userModes = network\n\t\t? network.serverOptions.PREFIX?.prefix?.map((pref) => pref.symbol)\n\t\t: [\"!\", \"@\", \"%\", \"+\"];\n\tconst channelParts = findChannels(cleanText, channelPrefixes, userModes);\n\tconst linkParts = findLinks(cleanText);\n\tconst emojiParts = findEmoji(cleanText);\n\tconst nameParts = findNames(cleanText, message ? message.users || [] : []);\n\n\tconst parts = (channelParts as MergedParts)\n\t\t.concat(linkParts)\n\t\t.concat(emojiParts)\n\t\t.concat(nameParts);\n\n\t// Merge the styling information with the channels / URLs / nicks / text objects and\n\t// generate HTML strings with the resulting fragments\n\treturn merge(parts, styleFragments, cleanText).map((textPart) => {\n\t\tconst fragments = textPart.fragments.map((fragment) => createFragment(fragment));\n\n\t\t// Wrap these potentially styled fragments with links and channel buttons\n\t\tif (textPart.link) {\n\t\t\tconst preview =\n\t\t\t\tmessage &&\n\t\t\t\tmessage.previews &&\n\t\t\t\tmessage.previews.find((p) => p.link === textPart.link);\n\t\t\tconst link = createElement(\n\t\t\t\t\"a\",\n\t\t\t\t{\n\t\t\t\t\thref: textPart.link,\n\t\t\t\t\tdir: preview ? null : \"auto\",\n\t\t\t\t\ttarget: \"_blank\",\n\t\t\t\t\trel: \"noopener\",\n\t\t\t\t},\n\t\t\t\tfragments\n\t\t\t);\n\n\t\t\tif (!preview) {\n\t\t\t\treturn link;\n\t\t\t}\n\n\t\t\tconst linkEls = [link];\n\n\t\t\tif (preview.size > 0) {\n\t\t\t\tlinkEls.push(\n\t\t\t\t\tcreateElement(LinkPreviewFileSize, {\n\t\t\t\t\t\tsize: preview.size,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlinkEls.push(\n\t\t\t\tcreateElement(LinkPreviewToggle, {\n\t\t\t\t\tlink: preview,\n\t\t\t\t\tmessage: message,\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t// We wrap the link, size, and the toggle button into <span dir=\"auto\">\n\t\t\t// to correctly keep the left-to-right order of these elements\n\t\t\treturn createElement(\n\t\t\t\t\"span\",\n\t\t\t\t{\n\t\t\t\t\tdir: \"auto\",\n\t\t\t\t},\n\t\t\t\tlinkEls\n\t\t\t);\n\t\t} else if (textPart.channel) {\n\t\t\treturn createElement(\n\t\t\t\tInlineChannel,\n\t\t\t\t{\n\t\t\t\t\tchannel: textPart.channel,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdefault: () => fragments,\n\t\t\t\t}\n\t\t\t);\n\t\t} else if (textPart.emoji) {\n\t\t\tconst emojiWithoutModifiers = textPart.emoji.replace(emojiModifiersRegex, \"\");\n\t\t\tconst title = emojiMap[emojiWithoutModifiers]\n\t\t\t\t? // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t  `Emoji: ${emojiMap[emojiWithoutModifiers]}`\n\t\t\t\t: null;\n\n\t\t\treturn createElement(\n\t\t\t\t\"span\",\n\t\t\t\t{\n\t\t\t\t\tclass: [\"emoji\"],\n\t\t\t\t\trole: \"img\",\n\t\t\t\t\t\"aria-label\": title,\n\t\t\t\t\ttitle: title,\n\t\t\t\t},\n\t\t\t\tfragments\n\t\t\t);\n\t\t} else if (textPart.nick) {\n\t\t\treturn createElement(\n\t\t\t\tUsername,\n\t\t\t\t{\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tnick: textPart.nick,\n\t\t\t\t\t},\n\t\t\t\t\tdir: \"auto\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdefault: () => fragments,\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn fragments;\n\t});\n}\n\nexport default parse;\n","export default (stringUri: string) => {\n\tconst data = {\n\t\tname: \"\",\n\t\thost: \"\",\n\t\tport: \"\",\n\t\tjoin: \"\",\n\t\ttls: false,\n\t};\n\n\ttry {\n\t\t// https://tools.ietf.org/html/draft-butcher-irc-url-04\n\t\tconst uri = new URL(stringUri);\n\n\t\t// Replace protocol with a \"special protocol\" (that's what it's called in WHATWG spec)\n\t\t// So that the uri can be properly parsed\n\t\tif (uri.protocol === \"irc:\") {\n\t\t\turi.protocol = \"http:\";\n\n\t\t\tif (!uri.port) {\n\t\t\t\turi.port = \"6667\";\n\t\t\t}\n\t\t} else if (uri.protocol === \"ircs:\") {\n\t\t\turi.protocol = \"https:\";\n\n\t\t\tif (!uri.port) {\n\t\t\t\turi.port = \"6697\";\n\t\t\t}\n\n\t\t\tdata.tls = true;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!uri.hostname) {\n\t\t\treturn {};\n\t\t}\n\n\t\tdata.host = data.name = uri.hostname;\n\t\tdata.port = uri.port;\n\n\t\tlet channel = \"\";\n\n\t\tif (uri.pathname.length > 1) {\n\t\t\tchannel = uri.pathname.substr(1); // Remove slash\n\t\t}\n\n\t\tif (uri.hash.length > 1) {\n\t\t\tchannel += uri.hash;\n\t\t}\n\n\t\t// We don't split channels or append # here because the connect window takes care of that\n\t\tdata.join = channel;\n\t} catch (e) {\n\t\t// do nothing on invalid uri\n\t}\n\n\treturn data;\n};\n","export default (count: number) => {\n\tif (count < 1000) {\n\t\treturn count.toString();\n\t}\n\n\treturn (count / 1000).toFixed(2).slice(0, -1) + \"k\";\n};\n","import eventbus from \"../eventbus\";\nimport socket from \"../socket\";\nimport {ClientChan} from \"../types\";\n\nexport default function useCloseChannel(channel: ClientChan) {\n\treturn () => {\n\t\tif (channel.type === \"lobby\") {\n\t\t\teventbus.emit(\n\t\t\t\t\"confirm-dialog\",\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Remove network\",\n\t\t\t\t\ttext: `Are you sure you want to quit and remove ${channel.name}? This cannot be undone.`,\n\t\t\t\t\tbutton: \"Remove network\",\n\t\t\t\t},\n\t\t\t\t(result: boolean) => {\n\t\t\t\t\tif (!result) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tchannel.closed = true;\n\t\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\t\ttarget: Number(channel.id),\n\t\t\t\t\t\ttext: \"/quit\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tchannel.closed = true;\n\n\t\tsocket.emit(\"input\", {\n\t\t\ttarget: Number(channel.id),\n\t\t\ttext: \"/close\",\n\t\t});\n\t};\n}\n","import Mousetrap from \"mousetrap\";\n\nimport {store} from \"./store\";\nimport {switchToChannel, router, navigate} from \"./router\";\nimport isChannelCollapsed from \"./helpers/isChannelCollapsed\";\nimport isIgnoredKeybind from \"./helpers/isIgnoredKeybind\";\nimport listenForTwoFingerSwipes from \"./helpers/listenForTwoFingerSwipes\";\nimport {ClientChan} from \"./types\";\n\n// Switch to the next/previous window in the channel list.\nMousetrap.bind([\"alt+up\", \"alt+down\"], function (e, keys) {\n\tif (isIgnoredKeybind(e)) {\n\t\treturn true;\n\t}\n\n\tnavigateWindow(keys.split(\"+\").pop() === \"up\" ? -1 : 1);\n\n\treturn false;\n});\n\nlistenForTwoFingerSwipes(function (cardinalDirection: string) {\n\tif (cardinalDirection === \"e\" || cardinalDirection === \"w\") {\n\t\tnavigateWindow(cardinalDirection === \"e\" ? -1 : 1);\n\t}\n});\n\nfunction navigateWindow(direction: number) {\n\tif (store.state.networks.length === 0) {\n\t\treturn;\n\t}\n\n\tconst flatChannels: ClientChan[] = [];\n\tlet index = -1;\n\n\tfor (const network of store.state.networks) {\n\t\tfor (const channel of network.channels) {\n\t\t\tif (isChannelCollapsed(network, channel)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (index === -1 && store.state.activeChannel?.channel === channel) {\n\t\t\t\tindex = flatChannels.length;\n\t\t\t}\n\n\t\t\tflatChannels.push(channel);\n\t\t}\n\t}\n\n\t// Circular array, and a modulo bug workaround because in JS it stays negative\n\tconst length = flatChannels.length;\n\tindex = (((index + direction) % length) + length) % length;\n\n\tjumpToChannel(flatChannels[index]);\n}\n\n// Switch to the next/previous lobby in the channel list\nMousetrap.bind([\"alt+shift+up\", \"alt+shift+down\"], function (e, keys) {\n\tif (isIgnoredKeybind(e)) {\n\t\treturn true;\n\t}\n\n\tconst length = store.state.networks.length;\n\n\tif (length === 0) {\n\t\treturn false;\n\t}\n\n\tconst direction = keys.split(\"+\").pop() === \"up\" ? -1 : 1;\n\tlet index = 0;\n\n\t// If we're in another window, jump to first lobby\n\tif (store.state.activeChannel) {\n\t\tindex = store.state.networks.findIndex((n) => n === store.state.activeChannel?.network);\n\n\t\t// If we're in a channel, and it's not the lobby, jump to lobby of this network when going up\n\t\tif (direction !== -1 || store.state.activeChannel?.channel.type === \"lobby\") {\n\t\t\tindex = (((index + direction) % length) + length) % length;\n\t\t}\n\t}\n\n\tjumpToChannel(store.state.networks[index].channels[0]);\n\n\treturn false;\n});\n\n// Jump to the first window with a highlight in it, or the first with unread\n// activity if there are none with highlights.\nMousetrap.bind([\"alt+a\"], function (e) {\n\tif (isIgnoredKeybind(e)) {\n\t\treturn true;\n\t}\n\n\tlet targetChannel;\n\n\touter_loop: for (const network of store.state.networks) {\n\t\tfor (const chan of network.channels) {\n\t\t\tif (chan.highlight) {\n\t\t\t\ttargetChannel = chan;\n\t\t\t\tbreak outer_loop;\n\t\t\t}\n\n\t\t\tif (chan.unread && !targetChannel) {\n\t\t\t\ttargetChannel = chan;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (targetChannel) {\n\t\tjumpToChannel(targetChannel);\n\t}\n\n\treturn false;\n});\n\n// Show the help menu.\nMousetrap.bind([\"alt+/\"], function (e) {\n\tif (isIgnoredKeybind(e)) {\n\t\treturn true;\n\t}\n\n\t/* eslint-disable no-console */\n\tnavigate(\"Help\").catch((err) => console.log(err));\n\treturn false;\n});\n\nfunction jumpToChannel(targetChannel: ClientChan) {\n\tswitchToChannel(targetChannel);\n\n\tconst element = document.querySelector(\n\t\t`#sidebar .channel-list-item[aria-controls=\"#chan-${targetChannel.id}\"]`\n\t);\n\n\tif (element) {\n\t\tscrollIntoViewNicely(element);\n\t}\n}\n\n// Ignored keys which should not automatically focus the input bar\nconst ignoredKeys = {\n\t8: true, // Backspace\n\t9: true, // Tab\n\t12: true, // Clear\n\t16: true, // Shift\n\t17: true, // Control\n\t18: true, // Alt\n\t19: true, // Pause\n\t20: true, // CapsLock\n\t27: true, // Escape\n\t35: true, // End\n\t36: true, // Home\n\t37: true, // ArrowLeft\n\t38: true, // ArrowUp\n\t39: true, // ArrowRight\n\t40: true, // ArrowDown\n\t45: true, // Insert\n\t46: true, // Delete\n\t112: true, // F1\n\t113: true, // F2\n\t114: true, // F3\n\t115: true, // F4\n\t116: true, // F5\n\t117: true, // F6\n\t118: true, // F7\n\t119: true, // F8\n\t120: true, // F9\n\t121: true, // F10\n\t122: true, // F11\n\t123: true, // F12\n\t144: true, // NumLock\n\t145: true, // ScrollLock\n\t224: true, // Meta\n};\n\ndocument.addEventListener(\"keydown\", (e) => {\n\t// Allow navigating back to the previous page when on the help screen.\n\tif (e.key === \"Escape\" && router.currentRoute.value.name === \"Help\") {\n\t\trouter.go(-1);\n\t\treturn;\n\t}\n\n\t// Ignore any key that uses alt modifier\n\t// Ignore keys defined above\n\tif (e.altKey || ignoredKeys[e.which]) {\n\t\treturn;\n\t}\n\n\t// Ignore all ctrl keys except for ctrl+v to allow pasting\n\tif ((e.ctrlKey || e.metaKey) && e.which !== 86) {\n\t\treturn;\n\t}\n\n\t// Redirect pagedown/pageup keys to messages container so it scrolls\n\tif (e.which === 33 || e.which === 34) {\n\t\tconst chat = document.querySelector(\".window .chat-content .chat\");\n\n\t\tif (chat) {\n\t\t\t(chat as HTMLDivElement).focus();\n\t\t}\n\n\t\treturn;\n\t}\n\n\tconst tagName = (e.target as HTMLElement).tagName;\n\n\t// Ignore if we're already typing into <input> or <textarea>\n\tif (tagName === \"INPUT\" || tagName === \"TEXTAREA\") {\n\t\treturn;\n\t}\n\n\tconst input = document.getElementById(\"input\");\n\n\tif (!input) {\n\t\treturn;\n\t}\n\n\tinput.focus();\n\n\t// On enter, focus the input but do not propagate the event\n\t// This way, a new line is not inserted\n\tif (e.which === 13) {\n\t\te.preventDefault();\n\t}\n});\n\nfunction scrollIntoViewNicely(el) {\n\t// Ideally this would use behavior: \"smooth\", but that does not consistently work in e.g. Chrome\n\t// https://github.com/iamdustan/smoothscroll/issues/28#issuecomment-364061459\n\tel.scrollIntoView({block: \"center\", inline: \"nearest\"});\n}\n","// This is a simple localStorage wrapper because browser can throw errors\n// in different situations, including:\n// - Unable to store data if storage is full\n// - Local storage is blocked if \"third-party cookies and site data\" is disabled\n//\n// For more details, see:\n// https://stackoverflow.com/q/14555347/1935861\n// https://github.com/thelounge/thelounge/issues/2699\n// https://www.chromium.org/for-testers/bug-reporting-guidelines/uncaught-securityerror-failed-to-read-the-localstorage-property-from-window-access-is-denied-for-this-document\n\nexport default {\n\tset(key: string, value: string) {\n\t\ttry {\n\t\t\twindow.localStorage.setItem(key, value);\n\t\t} catch (e) {\n\t\t\t//\n\t\t}\n\t},\n\tget(key: string) {\n\t\ttry {\n\t\t\treturn window.localStorage.getItem(key);\n\t\t} catch (e) {\n\t\t\t// Return null as if data is not set\n\t\t\treturn null;\n\t\t}\n\t},\n\tremove(key: string) {\n\t\ttry {\n\t\t\twindow.localStorage.removeItem(key);\n\t\t} catch (e) {\n\t\t\t//\n\t\t}\n\t},\n\tclear() {\n\t\ttry {\n\t\t\twindow.localStorage.clear();\n\t\t} catch (e) {\n\t\t\t//\n\t\t}\n\t},\n};\n","// This is a thin wrapper around `window.location`, in order to contain the\n// side-effects. Do not add logic to it as it cannot be tested, only mocked.\nexport default {\n\treload() {\n\t\twindow.location.reload();\n\t},\n};\n","import constants from \"./constants\";\n\nimport {createRouter, createWebHashHistory} from \"vue-router\";\nimport SignIn from \"../components/Windows/SignIn.vue\";\nimport Connect from \"../components/Windows/Connect.vue\";\nimport Settings from \"../components/Windows/Settings.vue\";\nimport Help from \"../components/Windows/Help.vue\";\nimport Changelog from \"../components/Windows/Changelog.vue\";\nimport NetworkEdit from \"../components/Windows/NetworkEdit.vue\";\nimport SearchResults from \"../components/Windows/SearchResults.vue\";\nimport RoutedChat from \"../components/RoutedChat.vue\";\nimport {store} from \"./store\";\n\nimport AppearanceSettings from \"../components/Settings/Appearance.vue\";\nimport GeneralSettings from \"../components/Settings/General.vue\";\nimport AccountSettings from \"../components/Settings/Account.vue\";\nimport NotificationSettings from \"../components/Settings/Notifications.vue\";\nimport {ClientChan} from \"./types\";\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes: [\n\t\t{\n\t\t\tname: \"SignIn\",\n\t\t\tpath: \"/sign-in\",\n\t\t\tcomponent: SignIn,\n\t\t\tbeforeEnter(to, from, next) {\n\t\t\t\t// Prevent navigating to sign-in when already signed in\n\t\t\t\tif (store.state.appLoaded) {\n\t\t\t\t\tnext(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tnext();\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tname: \"Connect\",\n\t\t\tpath: \"/connect\",\n\t\t\tcomponent: Connect,\n\t\t\tprops: (route) => ({queryParams: route.query}),\n\t\t},\n\t\t{\n\t\t\tpath: \"/settings\",\n\t\t\tcomponent: Settings,\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tname: \"General\",\n\t\t\t\t\tpath: \"\",\n\t\t\t\t\tcomponent: GeneralSettings,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Appearance\",\n\t\t\t\t\tpath: \"appearance\",\n\t\t\t\t\tcomponent: AppearanceSettings,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Account\",\n\t\t\t\t\tpath: \"account\",\n\t\t\t\t\tcomponent: AccountSettings,\n\t\t\t\t\tprops: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Notifications\",\n\t\t\t\t\tpath: \"notifications\",\n\t\t\t\t\tcomponent: NotificationSettings,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tname: \"Help\",\n\t\t\tpath: \"/help\",\n\t\t\tcomponent: Help,\n\t\t},\n\t\t{\n\t\t\tname: \"Changelog\",\n\t\t\tpath: \"/changelog\",\n\t\t\tcomponent: Changelog,\n\t\t},\n\t\t{\n\t\t\tname: \"NetworkEdit\",\n\t\t\tpath: \"/edit-network/:uuid\",\n\t\t\tcomponent: NetworkEdit,\n\t\t},\n\t\t{\n\t\t\tname: \"RoutedChat\",\n\t\t\tpath: \"/chan-:id\",\n\t\t\tcomponent: RoutedChat,\n\t\t},\n\t\t{\n\t\t\tname: \"SearchResults\",\n\t\t\tpath: \"/chan-:id/search\",\n\t\t\tcomponent: SearchResults,\n\t\t},\n\t],\n});\n\nrouter.beforeEach((to, from, next) => {\n\t// If user is not yet signed in, wait for appLoaded state to change\n\t// unless they are trying to open SignIn (which can be triggered in auth.js)\n\tif (!store.state.appLoaded && to.name !== \"SignIn\") {\n\t\tstore.watch(\n\t\t\t(state) => state.appLoaded,\n\t\t\t() => next()\n\t\t);\n\n\t\treturn;\n\t}\n\n\tnext();\n});\n\nrouter.beforeEach((to, from, next) => {\n\t// Disallow navigating to non-existing routes\n\tif (!to.matched.length) {\n\t\tnext(false);\n\t\treturn;\n\t}\n\n\t// Disallow navigating to invalid channels\n\tif (to.name === \"RoutedChat\" && !store.getters.findChannel(Number(to.params.id))) {\n\t\tnext(false);\n\t\treturn;\n\t}\n\n\t// Disallow navigating to invalid networks\n\tif (to.name === \"NetworkEdit\" && !store.getters.findNetwork(String(to.params.uuid))) {\n\t\tnext(false);\n\t\treturn;\n\t}\n\n\tnext();\n});\n\nrouter.afterEach((to) => {\n\tif (store.state.appLoaded) {\n\t\tif (window.innerWidth <= constants.mobileViewportPixels) {\n\t\t\tstore.commit(\"sidebarOpen\", false);\n\t\t}\n\t}\n\n\tif (store.state.activeChannel) {\n\t\tconst channel = store.state.activeChannel.channel;\n\n\t\tif (to.name !== \"RoutedChat\") {\n\t\t\tstore.commit(\"activeChannel\", undefined);\n\t\t}\n\n\t\t// When switching out of a channel, mark everything as read\n\t\tif (channel.messages?.length > 0) {\n\t\t\tchannel.firstUnread = channel.messages[channel.messages.length - 1].id;\n\t\t}\n\n\t\tif (channel.messages?.length > 100) {\n\t\t\tchannel.messages.splice(0, channel.messages.length - 100);\n\t\t\tchannel.moreHistoryAvailable = true;\n\t\t}\n\t}\n});\n\nasync function navigate(routeName: string, params: any = {}) {\n\tif (router.currentRoute.value.name) {\n\t\tawait router.push({name: routeName, params});\n\t} else {\n\t\t// If current route is null, replace the history entry\n\t\t// This prevents invalid entries from lingering in history,\n\t\t// and then the route guard preventing proper navigation\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tawait router.replace({name: routeName, params}).catch(() => {});\n\t}\n}\n\nfunction switchToChannel(channel: ClientChan) {\n\tvoid navigate(\"RoutedChat\", {id: channel.id});\n}\n\nif (\"serviceWorker\" in navigator) {\n\tnavigator.serviceWorker.addEventListener(\"message\", (event) => {\n\t\tif (event.data && event.data.type === \"open\") {\n\t\t\tconst id = parseInt(event.data.channel.substring(5), 10); // remove \"chan-\" prefix\n\n\t\t\tconst channelTarget = store.getters.findChannel(id);\n\n\t\t\tif (channelTarget) {\n\t\t\t\tswitchToChannel(channelTarget.channel);\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport {router, navigate, switchToChannel};\n","import socket from \"./socket\";\nimport type {TypedStore} from \"./store\";\n\nconst defaultSettingConfig = {\n\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\tapply() {},\n\tdefault: null,\n\tsync: null,\n};\n\nconst defaultConfig = {\n\tsyncSettings: {\n\t\tdefault: true,\n\t\tsync: \"never\",\n\t\tapply(store: TypedStore, value: boolean, auto = false) {\n\t\t\t// If applied by settings/applyAll, do not emit to server\n\t\t\tif (value && !auto) {\n\t\t\t\tsocket.emit(\"setting:get\");\n\t\t\t}\n\t\t},\n\t},\n\tadvanced: {\n\t\tdefault: false,\n\t},\n\tautocomplete: {\n\t\tdefault: true,\n\t},\n\tnickPostfix: {\n\t\tdefault: \"\",\n\t},\n\tcoloredNicks: {\n\t\tdefault: true,\n\t},\n\tdesktopNotifications: {\n\t\tdefault: false,\n\t\tsync: \"never\",\n\t\tapply(store: TypedStore, value: boolean) {\n\t\t\t// Commit a mutation. options can have root: true that allows to commit root mutations in namespaced modules.\n\t\t\t// https://vuex.vuejs.org/api/#store-instance-methods. not typed?\n\t\t\tstore.commit(\"refreshDesktopNotificationState\", null, {root: true});\n\n\t\t\tif (\"Notification\" in window && value && Notification.permission !== \"granted\") {\n\t\t\t\tNotification.requestPermission(() =>\n\t\t\t\t\tstore.commit(\"refreshDesktopNotificationState\", null, {root: true})\n\t\t\t\t).catch((e) => {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\thighlights: {\n\t\tdefault: \"\",\n\t\tsync: \"always\",\n\t},\n\thighlightExceptions: {\n\t\tdefault: \"\",\n\t\tsync: \"always\",\n\t},\n\tawayMessage: {\n\t\tdefault: \"\",\n\t\tsync: \"always\",\n\t},\n\tlinks: {\n\t\tdefault: true,\n\t},\n\tmotd: {\n\t\tdefault: true,\n\t},\n\tnotification: {\n\t\tdefault: true,\n\t\tsync: \"never\",\n\t},\n\tnotifyAllMessages: {\n\t\tdefault: false,\n\t},\n\tshowSeconds: {\n\t\tdefault: false,\n\t},\n\tuse12hClock: {\n\t\tdefault: false,\n\t},\n\tstatusMessages: {\n\t\tdefault: \"condensed\",\n\t},\n\ttheme: {\n\t\tdefault: document.getElementById(\"theme\")?.dataset.serverTheme,\n\t\tapply(store: TypedStore, value: string) {\n\t\t\tconst themeEl = document.getElementById(\"theme\");\n\t\t\tconst themeUrl = `themes/${value}.css`;\n\n\t\t\tif (!(themeEl instanceof HTMLLinkElement)) {\n\t\t\t\tthrow new Error(\"theme element is not a link\");\n\t\t\t}\n\n\t\t\tconst hrefAttr = themeEl.attributes.getNamedItem(\"href\");\n\n\t\t\tif (!hrefAttr) {\n\t\t\t\tthrow new Error(\"theme is missing href attribute\");\n\t\t\t}\n\n\t\t\tif (hrefAttr.value === themeUrl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\threfAttr.value = themeUrl;\n\n\t\t\tif (!store.state.serverConfiguration) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newTheme = store.state.serverConfiguration?.themes.filter(\n\t\t\t\t(theme) => theme.name === value\n\t\t\t)[0];\n\n\t\t\tconst metaSelector = document.querySelector('meta[name=\"theme-color\"]');\n\n\t\t\tif (!(metaSelector instanceof HTMLMetaElement)) {\n\t\t\t\tthrow new Error(\"theme meta element is not a meta element\");\n\t\t\t}\n\n\t\t\tif (metaSelector) {\n\t\t\t\tconst themeColor = newTheme.themeColor || metaSelector.content;\n\t\t\t\tmetaSelector.content = themeColor;\n\t\t\t}\n\t\t},\n\t},\n\tmedia: {\n\t\tdefault: true,\n\t},\n\tuploadCanvas: {\n\t\tdefault: true,\n\t},\n\tuserStyles: {\n\t\tdefault: \"\",\n\t\tapply(store: TypedStore, value: string) {\n\t\t\tif (!/[?&]nocss/.test(window.location.search)) {\n\t\t\t\tconst element = document.getElementById(\"user-specified-css\");\n\n\t\t\t\tif (element) {\n\t\t\t\t\telement.innerHTML = value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tsearchEnabled: {\n\t\tdefault: false,\n\t},\n};\n\nexport const config = normalizeConfig(defaultConfig);\n\nexport function createState() {\n\tconst state = {};\n\n\tfor (const settingName in config) {\n\t\tstate[settingName] = config[settingName].default;\n\t}\n\n\treturn state;\n}\n\nfunction normalizeConfig(obj: any) {\n\tconst newConfig: Partial<typeof defaultConfig> = {};\n\n\tfor (const settingName in obj) {\n\t\tnewConfig[settingName] = {...defaultSettingConfig, ...obj[settingName]};\n\t}\n\n\treturn newConfig as typeof defaultConfig;\n}\n\n// flatten to type of default\nexport type SettingsState = {\n\t[key in keyof typeof defaultConfig]: typeof defaultConfig[key][\"default\"];\n};\n","import socket from \"../socket\";\nimport storage from \"../localStorage\";\nimport {router, navigate} from \"../router\";\nimport {store} from \"../store\";\nimport location from \"../location\";\nlet lastServerHash: number | null = null;\n\ndeclare global {\n\tinterface Window {\n\t\tg_TheLoungeRemoveLoading?: () => void;\n\t}\n}\n\nsocket.on(\"auth:success\", function () {\n\tstore.commit(\"currentUserVisibleError\", \"Loading messages\");\n\tupdateLoadingMessage();\n});\n\nsocket.on(\"auth:failed\", async function () {\n\tstorage.remove(\"token\");\n\n\tif (store.state.appLoaded) {\n\t\treturn reloadPage(\"Authentication failed, reloading\");\n\t}\n\n\tawait showSignIn();\n});\n\nsocket.on(\"auth:start\", async function (serverHash) {\n\t// If we reconnected and serverHash differs, that means the server restarted\n\t// And we will reload the page to grab the latest version\n\tif (lastServerHash && serverHash !== lastServerHash) {\n\t\treturn reloadPage(\"Server restarted, reloading\");\n\t}\n\n\tlastServerHash = serverHash;\n\n\tconst user = storage.get(\"user\");\n\tconst token = storage.get(\"token\");\n\tconst doFastAuth = user && token;\n\n\t// If we reconnect and no longer have a stored token, reload the page\n\tif (store.state.appLoaded && !doFastAuth) {\n\t\treturn reloadPage(\"Authentication failed, reloading\");\n\t}\n\n\t// If we have user and token stored, perform auth without showing sign-in first\n\tif (doFastAuth) {\n\t\tstore.commit(\"currentUserVisibleError\", \"Authorizing\");\n\t\tupdateLoadingMessage();\n\n\t\tlet lastMessage = -1;\n\n\t\tfor (const network of store.state.networks) {\n\t\t\tfor (const chan of network.channels) {\n\t\t\t\tif (chan.messages.length > 0) {\n\t\t\t\t\tconst id = chan.messages[chan.messages.length - 1].id;\n\n\t\t\t\t\tif (lastMessage < id) {\n\t\t\t\t\t\tlastMessage = id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst openChannel =\n\t\t\t(store.state.activeChannel && store.state.activeChannel.channel.id) || null;\n\n\t\tsocket.emit(\"auth:perform\", {\n\t\t\tuser,\n\t\t\ttoken,\n\t\t\tlastMessage,\n\t\t\topenChannel,\n\t\t\thasConfig: store.state.serverConfiguration !== null,\n\t\t});\n\t} else {\n\t\tawait showSignIn();\n\t}\n});\n\nasync function showSignIn() {\n\t// TODO: this flashes grey background because it takes a little time for vue to mount signin\n\tif (window.g_TheLoungeRemoveLoading) {\n\t\twindow.g_TheLoungeRemoveLoading();\n\t}\n\n\tif (router.currentRoute.value.name !== \"SignIn\") {\n\t\tawait navigate(\"SignIn\");\n\t}\n}\n\nfunction reloadPage(message: string) {\n\tsocket.disconnect();\n\tstore.commit(\"currentUserVisibleError\", message);\n\tlocation.reload();\n}\n\nfunction updateLoadingMessage() {\n\tconst loading = document.getElementById(\"loading-page-message\");\n\n\tif (loading) {\n\t\tloading.textContent = store.state.currentUserVisibleError;\n\t}\n}\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"changelog\", function (data) {\n\tstore.commit(\"versionData\", data);\n\tstore.commit(\"versionDataExpired\", false);\n\n\tlet status;\n\n\tif (data.latest) {\n\t\tstatus = \"new-version\";\n\t} else if (data.packages) {\n\t\tstatus = \"new-packages\";\n\t} else if (data.current.changelog) {\n\t\tstatus = \"up-to-date\";\n\t} else {\n\t\tstatus = \"error\";\n\t}\n\n\tstore.commit(\"versionStatus\", status);\n\n\t// When there is a button to refresh the checker available, display it when\n\t// data is expired. Before that, server would return same information anyway.\n\tif (data.expiresAt) {\n\t\tconst expires = data.expiresAt - Date.now();\n\n\t\tif (expires > 0) {\n\t\t\tsetTimeout(() => store.commit(\"versionDataExpired\", true), expires);\n\t\t} else {\n\t\t\tstore.commit(\"versionDataExpired\", true);\n\t\t}\n\t}\n});\n\nsocket.on(\"changelog:newversion\", () => {\n\tif (!store.state.serverConfiguration) {\n\t\treturn;\n\t}\n\n\tstore.state.serverConfiguration.isUpdateAvailable = true;\n});\n","import constants from \"../constants\";\nimport socket from \"../socket\";\n\nsocket.on(\"commands\", function (commands) {\n\tif (commands) {\n\t\tconstants.commands = commands;\n\t}\n});\n","import socket from \"../socket\";\nimport upload from \"../upload\";\nimport {store} from \"../store\";\n\nsocket.once(\"configuration\", function (data) {\n\tstore.commit(\"serverConfiguration\", data);\n\n\t// 'theme' setting depends on serverConfiguration.themes so\n\t// settings cannot be applied before this point\n\tvoid store.dispatch(\"settings/applyAll\");\n\n\tif (data.fileUpload) {\n\t\tupload.initialize();\n\t}\n\n\t// If localStorage contains a theme that does not exist on this server, switch\n\t// back to its default theme.\n\tconst currentTheme = data.themes.find((t) => t.name === store.state.settings.theme);\n\n\tif (currentTheme === undefined) {\n\t\tvoid store.dispatch(\"settings/update\", {\n\t\t\tname: \"theme\",\n\t\t\tvalue: data.defaultTheme,\n\t\t\tsync: true,\n\t\t});\n\t} else if (currentTheme.themeColor) {\n\t\t(document.querySelector('meta[name=\"theme-color\"]') as HTMLMetaElement).content =\n\t\t\tcurrentTheme.themeColor;\n\t}\n\n\tif (document.body.classList.contains(\"public\")) {\n\t\twindow.addEventListener(\"beforeunload\", (e) => {\n\t\t\te.preventDefault();\n\t\t\te.returnValue = \"Are you sure you want to navigate away from this page?\";\n\t\t});\n\t}\n});\n","import {store} from \"../store\";\nimport socket from \"../socket\";\n\nsocket.on(\"disconnect\", handleDisconnect);\nsocket.on(\"connect_error\", handleDisconnect);\nsocket.on(\"error\", handleDisconnect);\n\nsocket.io.on(\"reconnect_attempt\", function (attempt) {\n\tstore.commit(\"currentUserVisibleError\", `Reconnecting (attempt ${attempt})`);\n\tupdateLoadingMessage();\n});\n\nsocket.on(\"connecting\", function () {\n\tstore.commit(\"currentUserVisibleError\", \"Connecting\");\n\tupdateLoadingMessage();\n});\n\nsocket.on(\"connect\", function () {\n\t// Clear send buffer when reconnecting, socket.io would emit these\n\t// immediately upon connection and it will have no effect, so we ensure\n\t// nothing is sent to the server that might have happened.\n\tsocket.sendBuffer = [];\n\n\tstore.commit(\"currentUserVisibleError\", \"Finalizing connection\");\n\tupdateLoadingMessage();\n});\n\nfunction handleDisconnect(data) {\n\tconst message = String(data.message || data);\n\n\tstore.commit(\"isConnected\", false);\n\n\tif (!socket.io.reconnection()) {\n\t\tstore.commit(\n\t\t\t\"currentUserVisibleError\",\n\t\t\t`Disconnected from the server (${message}), The Lounge does not reconnect in public mode.`\n\t\t);\n\t\tupdateLoadingMessage();\n\t\treturn;\n\t}\n\n\tstore.commit(\"currentUserVisibleError\", `Waiting to reconnect (${message})`);\n\tupdateLoadingMessage();\n\n\t// If the server shuts down, socket.io skips reconnection\n\t// and we have to manually call connect to start the process\n\t// However, do not reconnect if TL client manually closed the connection\n\t// @ts-expect-error Property 'skipReconnect' is private and only accessible within class 'Manager<ListenEvents, EmitEvents>'.ts(2341)\n\tif (socket.io.skipReconnect && message !== \"io client disconnect\") {\n\t\trequestIdleCallback(() => socket.connect(), 2000);\n\t}\n}\n\nfunction requestIdleCallback(callback, timeout) {\n\tif (window.requestIdleCallback) {\n\t\t// During an idle period the user agent will run idle callbacks in FIFO order\n\t\t// until either the idle period ends or there are no more idle callbacks eligible to be run.\n\t\twindow.requestIdleCallback(callback, {timeout});\n\t} else {\n\t\tcallback();\n\t}\n}\n\nfunction updateLoadingMessage() {\n\tconst loading = document.getElementById(\"loading-page-message\");\n\n\tif (loading) {\n\t\tloading.textContent = store.state.currentUserVisibleError;\n\t}\n}\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"history:clear\", function (data) {\n\tconst netChan = store.getters.findChannel(data.target);\n\n\tif (netChan?.channel) {\n\t\tnetChan.channel.messages = [];\n\t\tnetChan.channel.unread = 0;\n\t\tnetChan.channel.highlight = 0;\n\t\tnetChan.channel.firstUnread = 0;\n\t\tnetChan.channel.moreHistoryAvailable = false;\n\t}\n});\n","import \"./connection\";\nimport \"./auth\";\nimport \"./commands\";\nimport \"./init\";\nimport \"./join\";\nimport \"./more\";\nimport \"./msg\";\nimport \"./msg_preview\";\nimport \"./msg_special\";\nimport \"./names\";\nimport \"./network\";\nimport \"./nick\";\nimport \"./open\";\nimport \"./part\";\nimport \"./quit\";\nimport \"./sync_sort\";\nimport \"./topic\";\nimport \"./users\";\nimport \"./sign_out\";\nimport \"./sessions_list\";\nimport \"./configuration\";\nimport \"./changelog\";\nimport \"./setting\";\nimport \"./history_clear\";\nimport \"./mentions\";\nimport \"./search\";\nimport \"./mute_changed\";\n","import {nextTick} from \"vue\";\nimport socket from \"../socket\";\nimport storage from \"../localStorage\";\nimport {router, switchToChannel, navigate} from \"../router\";\nimport {store} from \"../store\";\nimport parseIrcUri from \"../helpers/parseIrcUri\";\nimport {ClientNetwork, InitClientChan} from \"../types\";\n\nsocket.on(\"init\", async function (data) {\n\tstore.commit(\"networks\", mergeNetworkData(data.networks));\n\tstore.commit(\"isConnected\", true);\n\tstore.commit(\"currentUserVisibleError\", null);\n\n\tif (data.token) {\n\t\tstorage.set(\"token\", data.token);\n\t}\n\n\tif (!store.state.appLoaded) {\n\t\tstore.commit(\"appLoaded\");\n\n\t\tsocket.emit(\"setting:get\");\n\n\t\ttry {\n\t\t\tawait router.isReady();\n\t\t} catch (e: any) {\n\t\t\t// if the router throws an error, it means the route isn't matched,\n\t\t\t// so we can continue on.\n\t\t}\n\n\t\tif (window.g_TheLoungeRemoveLoading) {\n\t\t\twindow.g_TheLoungeRemoveLoading();\n\t\t}\n\n\t\tconst handledQuery = await handleQueryParams();\n\n\t\t// If we handled query parameters like irc:// links or just general\n\t\t// connect parameters in public mode, then nothing to do here\n\t\tif (!handledQuery) {\n\t\t\t// If we are on an unknown route or still on SignIn component\n\t\t\t// then we can open last known channel on server, or Connect window if none\n\t\t\tif (\n\t\t\t\t!router.currentRoute?.value?.name ||\n\t\t\t\trouter.currentRoute?.value?.name === \"SignIn\"\n\t\t\t) {\n\t\t\t\tconst channel = store.getters.findChannel(data.active);\n\n\t\t\t\tif (channel) {\n\t\t\t\t\tswitchToChannel(channel.channel);\n\t\t\t\t} else if (store.state.networks.length > 0) {\n\t\t\t\t\t// Server is telling us to open a channel that does not exist\n\t\t\t\t\t// For example, it can be unset if you first open the page after server start\n\t\t\t\t\tswitchToChannel(store.state.networks[0].channels[0]);\n\t\t\t\t} else {\n\t\t\t\t\tawait navigate(\"Connect\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\nfunction mergeNetworkData(newNetworks: ClientNetwork[]) {\n\tconst stored = storage.get(\"thelounge.networks.collapsed\");\n\tconst collapsedNetworks = stored ? new Set(JSON.parse(stored)) : new Set();\n\n\tfor (let n = 0; n < newNetworks.length; n++) {\n\t\tconst network = newNetworks[n];\n\t\tconst currentNetwork = store.getters.findNetwork(network.uuid);\n\n\t\t// If this network is new, set some default variables and initalize channel variables\n\t\tif (!currentNetwork) {\n\t\t\tnetwork.isJoinChannelShown = false;\n\t\t\tnetwork.isCollapsed = collapsedNetworks.has(network.uuid);\n\t\t\tnetwork.channels.forEach(store.getters.initChannel);\n\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Merge received network object into existing network object on the client\n\t\t// so the object reference stays the same (e.g. for currentChannel state)\n\t\tfor (const key in network) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(network, key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Channels require extra care to be merged correctly\n\t\t\tif (key === \"channels\") {\n\t\t\t\tcurrentNetwork.channels = mergeChannelData(\n\t\t\t\t\tcurrentNetwork.channels,\n\t\t\t\t\tnetwork.channels as InitClientChan[]\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcurrentNetwork[key] = network[key];\n\t\t\t}\n\t\t}\n\n\t\tnewNetworks[n] = currentNetwork;\n\t}\n\n\treturn newNetworks;\n}\n\nfunction mergeChannelData(oldChannels: InitClientChan[], newChannels: InitClientChan[]) {\n\tfor (let c = 0; c < newChannels.length; c++) {\n\t\tconst channel = newChannels[c];\n\t\tconst currentChannel = oldChannels.find((chan) => chan.id === channel.id);\n\n\t\t// This is a new channel that was joined while client was disconnected, initialize it\n\t\tif (!currentChannel) {\n\t\t\tstore.getters.initChannel(channel);\n\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Merge received channel object into existing currentChannel\n\t\t// so the object references are exactly the same (e.g. in store.state.activeChannel)\n\t\tfor (const key in channel) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(channel, key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Server sends an empty users array, client requests it whenever needed\n\t\t\tif (key === \"users\") {\n\t\t\t\tif (channel.type === \"channel\") {\n\t\t\t\t\tif (\n\t\t\t\t\t\tstore.state.activeChannel &&\n\t\t\t\t\t\tstore.state.activeChannel.channel === currentChannel\n\t\t\t\t\t) {\n\t\t\t\t\t\t// For currently open channel, request the user list straight away\n\t\t\t\t\t\tsocket.emit(\"names\", {\n\t\t\t\t\t\t\ttarget: channel.id,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// For all other channels, mark the user list as outdated\n\t\t\t\t\t\t// so an update will be requested whenever user switches to these channels\n\t\t\t\t\t\tcurrentChannel.usersOutdated = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Server sends total count of messages in memory, we compare it to amount of messages\n\t\t\t// on the client, and decide whether theres more messages to load from server\n\t\t\tif (key === \"totalMessages\") {\n\t\t\t\tcurrentChannel.moreHistoryAvailable =\n\t\t\t\t\tchannel.totalMessages! > currentChannel.messages.length;\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Reconnection only sends new messages, so merge it on the client\n\t\t\t// Only concat if server sent us less than 100 messages so we don't introduce gaps\n\t\t\tif (key === \"messages\" && currentChannel.messages && channel.messages.length < 100) {\n\t\t\t\tcurrentChannel.messages = currentChannel.messages.concat(channel.messages);\n\t\t\t} else {\n\t\t\t\tcurrentChannel[key] = channel[key];\n\t\t\t}\n\t\t}\n\n\t\tnewChannels[c] = currentChannel;\n\t}\n\n\treturn newChannels;\n}\n\nasync function handleQueryParams() {\n\tif (!(\"URLSearchParams\" in window)) {\n\t\treturn false;\n\t}\n\n\tconst params = new URLSearchParams(document.location.search);\n\n\tconst cleanParams = () => {\n\t\t// Remove query parameters from url without reloading the page\n\t\tconst cleanUri = window.location.origin + window.location.pathname + window.location.hash;\n\t\twindow.history.replaceState({}, document.title, cleanUri);\n\t};\n\n\tif (params.has(\"uri\")) {\n\t\t// Set default connection settings from IRC protocol links\n\t\tconst uri = params.get(\"uri\");\n\t\tconst queryParams = parseIrcUri(String(uri));\n\n\t\tcleanParams();\n\t\tawait router.push({name: \"Connect\", query: queryParams});\n\n\t\treturn true;\n\t} else if (document.body.classList.contains(\"public\") && document.location.search) {\n\t\t// Set default connection settings from url params\n\t\tconst queryParams = Object.fromEntries(params.entries());\n\n\t\tcleanParams();\n\t\tawait router.push({name: \"Connect\", query: queryParams});\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\n\nsocket.on(\"join\", function (data) {\n\tstore.getters.initChannel(data.chan);\n\n\tconst network = store.getters.findNetwork(data.network);\n\n\tif (!network) {\n\t\treturn;\n\t}\n\n\tnetwork.channels.splice(data.index || -1, 0, data.chan);\n\n\t// Queries do not automatically focus, unless the user did a whois\n\tif (data.chan.type === \"query\" && !data.shouldOpen) {\n\t\treturn;\n\t}\n\n\tconst chan = store.getters.findChannel(data.chan.id);\n\n\tif (chan) {\n\t\tswitchToChannel(chan.channel);\n\t} else {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\"Could not find channel\", data.chan.id);\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {ClientMention} from \"../types\";\n\nsocket.on(\"mentions:list\", function (data) {\n\tstore.commit(\"mentions\", data as ClientMention[]);\n});\n","import {nextTick} from \"vue\";\n\nimport socket from \"../socket\";\nimport {store} from \"../store\";\nimport {ClientMessage} from \"../types\";\n\nsocket.on(\"more\", async (data) => {\n\tconst channel = store.getters.findChannel(data.chan)?.channel;\n\n\tif (!channel) {\n\t\treturn;\n\t}\n\n\tchannel.inputHistory = channel.inputHistory.concat(\n\t\tdata.messages\n\t\t\t.filter((m) => m.self && m.text && m.type === \"message\")\n\t\t\t.map((m) => m.text)\n\t\t\t.reverse()\n\t\t\t.slice(0, 100 - channel.inputHistory.length)\n\t);\n\tchannel.moreHistoryAvailable =\n\t\tdata.totalMessages > channel.messages.length + data.messages.length;\n\tchannel.messages.unshift(...(data.messages as ClientMessage[]));\n\n\tawait nextTick();\n\tchannel.historyLoading = false;\n});\n","/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport socket from \"../socket\";\nimport {cleanIrcMessage} from \"../../../shared/irc\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\nimport {ClientChan, ClientMention, ClientMessage, NetChan} from \"../types\";\n\nlet pop;\n\ntry {\n\tpop = new Audio();\n\tpop.src = \"audio/pop.wav\";\n} catch (e) {\n\tpop = {\n\t\t// eslint-disable-next-line @typescript-eslint/no-empty-function\n\t\tplay() {},\n\t};\n}\n\nsocket.on(\"msg\", function (data) {\n\tconst receivingChannel = store.getters.findChannel(data.chan);\n\n\tif (!receivingChannel) {\n\t\treturn;\n\t}\n\n\tlet channel = receivingChannel.channel;\n\tlet isActiveChannel =\n\t\tstore.state.activeChannel && store.state.activeChannel.channel === channel;\n\n\t// Display received notices and errors in currently active channel.\n\t// Reloading the page will put them back into the lobby window.\n\tif (data.msg.showInActive) {\n\t\t// We only want to put errors/notices in active channel if they arrive on the same network\n\t\tif (\n\t\t\tstore.state.activeChannel &&\n\t\t\tstore.state.activeChannel.network === receivingChannel.network\n\t\t) {\n\t\t\tchannel = store.state.activeChannel.channel;\n\n\t\t\t// Do not update unread/highlight counters for this channel\n\t\t\t// as we are putting this message in the active channel\n\t\t\tisActiveChannel = true;\n\n\t\t\tif (data.chan === channel.id) {\n\t\t\t\t// If active channel is the intended channel for this message,\n\t\t\t\t// remove the showInActive flag\n\t\t\t\tdelete data.msg.showInActive;\n\t\t\t} else {\n\t\t\t\tdata.chan = channel.id;\n\t\t\t}\n\t\t} else {\n\t\t\tdelete data.msg.showInActive;\n\t\t}\n\t}\n\n\t// Do not set unread counter for channel if it is currently active on this client\n\t// It may increase on the server before it processes channel open event from this client\n\tif (!isActiveChannel) {\n\t\tif (typeof data.highlight !== \"undefined\") {\n\t\t\tchannel.highlight = data.highlight;\n\t\t}\n\n\t\tif (typeof data.unread !== \"undefined\") {\n\t\t\tchannel.unread = data.unread;\n\t\t}\n\t}\n\n\tchannel.messages.push(data.msg);\n\n\tif (data.msg.self) {\n\t\tchannel.firstUnread = data.msg.id;\n\t} else {\n\t\tnotifyMessage(data.chan, channel, store.state.activeChannel, data.msg);\n\t}\n\n\tlet messageLimit = 0;\n\n\tif (!isActiveChannel) {\n\t\t// If message arrives in non active channel, keep only 100 messages\n\t\tmessageLimit = 100;\n\t} else if (channel.scrolledToBottom) {\n\t\t// If message arrives in active channel, keep 1500 messages if scroll is currently at the bottom\n\t\t// One history load may load up to 1000 messages at once if condendesed or hidden events are enabled\n\t\tmessageLimit = 1500;\n\t}\n\n\tif (messageLimit > 0 && channel.messages.length > messageLimit) {\n\t\tchannel.messages.splice(0, channel.messages.length - messageLimit);\n\t\tchannel.moreHistoryAvailable = true;\n\t}\n\n\tif (channel.type === \"channel\") {\n\t\tupdateUserList(channel, data.msg);\n\t}\n});\n\nfunction notifyMessage(\n\ttargetId: number,\n\tchannel: ClientChan,\n\tactiveChannel: NetChan | undefined,\n\tmsg: ClientMessage\n) {\n\tif (channel.muted) {\n\t\treturn;\n\t}\n\n\tif (msg.highlight || (store.state.settings.notifyAllMessages && msg.type === \"message\")) {\n\t\tif (!document.hasFocus() || !activeChannel || activeChannel.channel !== channel) {\n\t\t\tif (store.state.settings.notification) {\n\t\t\t\ttry {\n\t\t\t\t\tpop.play();\n\t\t\t\t} catch (exception) {\n\t\t\t\t\t// On mobile, sounds can not be played without user interaction.\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tstore.state.settings.desktopNotifications &&\n\t\t\t\t\"Notification\" in window &&\n\t\t\t\tNotification.permission === \"granted\"\n\t\t\t) {\n\t\t\t\tlet title: string;\n\t\t\t\tlet body: string;\n\n\t\t\t\tif (msg.type === \"invite\") {\n\t\t\t\t\ttitle = \"New channel invite:\";\n\t\t\t\t\tbody = msg.from.nick + \" invited you to \" + msg.channel;\n\t\t\t\t} else {\n\t\t\t\t\ttitle = String(msg.from.nick);\n\n\t\t\t\t\tif (channel.type !== \"query\") {\n\t\t\t\t\t\ttitle += ` (${channel.name})`;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (msg.type === \"message\") {\n\t\t\t\t\t\ttitle += \" says:\";\n\t\t\t\t\t}\n\n\t\t\t\t\tbody = cleanIrcMessage(msg.text);\n\t\t\t\t}\n\n\t\t\t\tconst timestamp = Date.parse(String(msg.time));\n\n\t\t\t\ttry {\n\t\t\t\t\tif (store.state.hasServiceWorker) {\n\t\t\t\t\t\tnavigator.serviceWorker.ready\n\t\t\t\t\t\t\t.then((registration) => {\n\t\t\t\t\t\t\t\tregistration.active?.postMessage({\n\t\t\t\t\t\t\t\t\ttype: \"notification\",\n\t\t\t\t\t\t\t\t\tchanId: targetId,\n\t\t\t\t\t\t\t\t\ttimestamp: timestamp,\n\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\tbody: body,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t// no-op\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst notify = new Notification(title, {\n\t\t\t\t\t\t\ttag: `chan-${targetId}`,\n\t\t\t\t\t\t\tbadge: \"img/icon-alerted-black-transparent-bg-72x72px.png\",\n\t\t\t\t\t\t\ticon: \"img/icon-alerted-grey-bg-192x192px.png\",\n\t\t\t\t\t\t\tbody: body,\n\t\t\t\t\t\t\ttimestamp: timestamp,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnotify.addEventListener(\"click\", function () {\n\t\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t\twindow.focus();\n\n\t\t\t\t\t\t\tconst channelTarget = store.getters.findChannel(targetId);\n\n\t\t\t\t\t\t\tif (channelTarget) {\n\t\t\t\t\t\t\t\tswitchToChannel(channelTarget.channel);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (exception) {\n\t\t\t\t\t// `new Notification(...)` is not supported and should be silenced.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateUserList(channel, msg) {\n\tif (msg.type === \"message\" || msg.type === \"action\") {\n\t\tconst user = channel.users.find((u) => u.nick === msg.from.nick);\n\n\t\tif (user) {\n\t\t\tuser.lastMessage = new Date(msg.time).getTime() || Date.now();\n\t\t}\n\t} else if (msg.type === \"quit\" || msg.type === \"part\") {\n\t\tconst idx = channel.users.findIndex((u) => u.nick === msg.from.nick);\n\n\t\tif (idx > -1) {\n\t\t\tchannel.users.splice(idx, 1);\n\t\t}\n\t} else if (msg.type === \"kick\") {\n\t\tconst idx = channel.users.findIndex((u) => u.nick === msg.target.nick);\n\n\t\tif (idx > -1) {\n\t\t\tchannel.users.splice(idx, 1);\n\t\t}\n\t}\n}\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"msg:preview\", function (data) {\n\tconst netChan = store.getters.findChannel(data.chan);\n\tconst message = netChan?.channel.messages.find((m) => m.id === data.id);\n\n\tif (!message) {\n\t\treturn;\n\t}\n\n\tconst previewIndex = message.previews.findIndex((m) => m.link === data.preview.link);\n\n\tif (previewIndex > -1) {\n\t\tmessage.previews[previewIndex] = data.preview;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\n\nsocket.on(\"msg:special\", function (data) {\n\tconst netChan = store.getters.findChannel(data.chan);\n\n\tif (!netChan) {\n\t\treturn;\n\t}\n\n\tnetChan.channel.data = data.data;\n\tswitchToChannel(netChan.channel);\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"mute:changed\", (response) => {\n\tconst {target, status} = response;\n\n\tconst netChan = store.getters.findChannel(target);\n\n\tif (netChan?.channel.type === \"lobby\") {\n\t\tfor (const chan of netChan.network.channels) {\n\t\t\tif (chan.type !== \"special\") {\n\t\t\t\tchan.muted = status;\n\t\t\t}\n\t\t}\n\t} else if (netChan) {\n\t\tnetChan.channel.muted = status;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"names\", function (data) {\n\tconst netChan = store.getters.findChannel(data.id);\n\n\tif (netChan) {\n\t\tnetChan.channel.users = data.users;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\n\nsocket.on(\"network\", function (data) {\n\tconst network = data.networks[0];\n\n\tnetwork.isJoinChannelShown = false;\n\tnetwork.isCollapsed = false;\n\tnetwork.channels.forEach(store.getters.initChannel);\n\n\tstore.commit(\"networks\", [...store.state.networks, network]);\n\n\t// Open last channel specified in `join`\n\tswitchToChannel(network.channels[network.channels.length - 1]);\n});\n\nsocket.on(\"network:options\", function (data) {\n\tconst network = store.getters.findNetwork(data.network);\n\n\tif (network) {\n\t\tnetwork.serverOptions = data.serverOptions as typeof network.serverOptions;\n\t}\n});\n\nsocket.on(\"network:status\", function (data) {\n\tconst network = store.getters.findNetwork(data.network);\n\n\tif (!network) {\n\t\treturn;\n\t}\n\n\tnetwork.status.connected = data.connected;\n\tnetwork.status.secure = data.secure;\n\n\tif (!data.connected) {\n\t\tnetwork.channels.forEach((channel) => {\n\t\t\tchannel.users = [];\n\t\t\tchannel.state = 0;\n\t\t});\n\t}\n});\n\nsocket.on(\"channel:state\", function (data) {\n\tconst channel = store.getters.findChannel(data.chan);\n\n\tif (channel) {\n\t\tchannel.channel.state = data.state;\n\t}\n});\n\nsocket.on(\"network:info\", function (data) {\n\tconst network = store.getters.findNetwork(data.uuid);\n\n\tif (!network) {\n\t\treturn;\n\t}\n\n\tfor (const key in data) {\n\t\tnetwork[key] = data[key];\n\t}\n});\n\nsocket.on(\"network:name\", function (data) {\n\tconst network = store.getters.findNetwork(data.uuid);\n\n\tif (network) {\n\t\tnetwork.name = network.channels[0].name = data.name;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"nick\", function (data) {\n\tconst network = store.getters.findNetwork(data.network);\n\n\tif (network) {\n\t\tnetwork.nick = data.nick;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\n// Sync unread badge and marker when other clients open a channel\nsocket.on(\"open\", function (id) {\n\tif (id < 1) {\n\t\treturn;\n\t}\n\n\t// Don't do anything if the channel is active on this client\n\tif (store.state.activeChannel && store.state.activeChannel.channel.id === id) {\n\t\treturn;\n\t}\n\n\t// Clear the unread badge\n\tconst channel = store.getters.findChannel(id);\n\n\tif (channel) {\n\t\tchannel.channel.highlight = 0;\n\t\tchannel.channel.unread = 0;\n\n\t\tif (channel.channel.messages.length > 0) {\n\t\t\tchannel.channel.firstUnread =\n\t\t\t\tchannel.channel.messages[channel.channel.messages.length - 1].id;\n\t\t}\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\nimport {switchToChannel} from \"../router\";\n\nsocket.on(\"part\", async function (data) {\n\t// When parting from the active channel/query, jump to the network's lobby\n\tif (store.state.activeChannel && store.state.activeChannel.channel.id === data.chan) {\n\t\tswitchToChannel(store.state.activeChannel.network.channels[0]);\n\t}\n\n\tconst channel = store.getters.findChannel(data.chan);\n\n\tif (!channel) {\n\t\treturn;\n\t}\n\n\tchannel.network.channels.splice(\n\t\tchannel.network.channels.findIndex((c) => c.id === data.chan),\n\t\t1\n\t);\n\n\tawait store.dispatch(\"partChannel\", channel);\n});\n","import socket from \"../socket\";\nimport {switchToChannel, navigate} from \"../router\";\nimport {store} from \"../store\";\n\nsocket.on(\"quit\", async function (data) {\n\t// If we're in a channel, and it's on the network that is being removed,\n\t// then open another channel window\n\tconst isCurrentNetworkBeingRemoved =\n\t\tstore.state.activeChannel && store.state.activeChannel.network.uuid === data.network;\n\n\tstore.commit(\"removeNetwork\", data.network);\n\n\tif (!isCurrentNetworkBeingRemoved) {\n\t\treturn;\n\t}\n\n\tif (store.state.networks.length > 0) {\n\t\tswitchToChannel(store.state.networks[0].channels[0]);\n\t} else {\n\t\tawait navigate(\"Connect\");\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"search:results\", (response) => {\n\tconst pendingQuery = store.state.messageSearchPendingQuery;\n\n\tif (\n\t\t!pendingQuery ||\n\t\tpendingQuery.channelName !== response.channelName ||\n\t\tpendingQuery.networkUuid !== response.networkUuid ||\n\t\tpendingQuery.offset !== response.offset ||\n\t\tpendingQuery.searchTerm !== response.searchTerm\n\t) {\n\t\t// This is a response from a search that we are not interested in.\n\t\t// The user may have entered a different search while one was still in flight.\n\t\t// We can simply drop it on the floor.\n\t\treturn;\n\t}\n\n\tstore.commit(\"messageSearchPendingQuery\", null);\n\n\tif (store.state.messageSearchResults) {\n\t\tstore.commit(\"addMessageSearchResults\", response);\n\t\treturn;\n\t}\n\n\tstore.commit(\"messageSearchResults\", {results: response.results});\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"sessions:list\", function (data) {\n\tdata.sort((a, b) => b.lastUse - a.lastUse);\n\tstore.commit(\"sessions\", data);\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"setting:new\", async function (data) {\n\tconst name = data.name;\n\tconst value = data.value;\n\tawait store.dispatch(\"settings/update\", {name, value, sync: false});\n});\n\nsocket.on(\"setting:all\", async function (settings) {\n\tconst serverHasSettings = Object.keys(settings).length > 0;\n\n\tstore.commit(\"serverHasSettings\", serverHasSettings);\n\n\tif (serverHasSettings) {\n\t\tfor (const name in settings) {\n\t\t\tawait store.dispatch(\"settings/update\", {name, value: settings[name], sync: false});\n\t\t}\n\t} else {\n\t\tawait store.dispatch(\"settings/syncAll\");\n\t}\n});\n","import socket from \"../socket\";\nimport Auth from \"../auth\";\n\nsocket.on(\"sign-out\", function () {\n\tAuth.signout();\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"sync_sort\", function (data) {\n\tconst order = data.order;\n\n\tswitch (data.type) {\n\t\tcase \"networks\":\n\t\t\tstore.commit(\n\t\t\t\t\"sortNetworks\",\n\t\t\t\t(a, b) => (order as string[]).indexOf(a.uuid) - (order as string[]).indexOf(b.uuid)\n\t\t\t);\n\n\t\t\tbreak;\n\n\t\tcase \"channels\": {\n\t\t\tconst network = store.getters.findNetwork(data.target);\n\n\t\t\tif (!network) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnetwork.channels.sort(\n\t\t\t\t(a, b) => (order as number[]).indexOf(a.id) - (order as number[]).indexOf(b.id)\n\t\t\t);\n\n\t\t\tbreak;\n\t\t}\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"topic\", function (data) {\n\tconst channel = store.getters.findChannel(data.chan);\n\n\tif (channel) {\n\t\tchannel.channel.topic = data.topic;\n\t}\n});\n","import socket from \"../socket\";\nimport {store} from \"../store\";\n\nsocket.on(\"users\", function (data) {\n\tif (store.state.activeChannel && store.state.activeChannel.channel.id === data.chan) {\n\t\treturn socket.emit(\"names\", {\n\t\t\ttarget: data.chan,\n\t\t});\n\t}\n\n\tconst channel = store.getters.findChannel(data.chan);\n\n\tif (channel) {\n\t\tchannel.channel.usersOutdated = true;\n\t}\n});\n","import io, {Socket} from \"socket.io-client\";\nimport type {ServerToClientEvents, ClientToServerEvents} from \"../../server/types/socket-events\";\n\nconst socket: Socket<ServerToClientEvents, ClientToServerEvents> = io({\n\ttransports: JSON.parse(document.body.dataset.transports || \"['polling', 'websocket']\"),\n\tpath: window.location.pathname + \"socket.io/\",\n\tautoConnect: false,\n\treconnection: !document.body.classList.contains(\"public\"),\n});\n\n// Ease debugging socket during development\nif (process.env.NODE_ENV === \"development\") {\n\twindow.socket = socket;\n}\n\ndeclare global {\n\tinterface Window {\n\t\tsocket: Socket;\n\t}\n}\n\nexport default socket;\n","import storage from \"./localStorage\";\nimport socket from \"./socket\";\nimport {config, createState} from \"./settings\";\nimport {Store} from \"vuex\";\nimport {State} from \"./store\";\n\nexport function createSettingsStore(store: Store<State>) {\n\treturn {\n\t\tnamespaced: true,\n\t\tstate: assignStoredSettings(createState(), loadFromLocalStorage()),\n\t\tmutations: {\n\t\t\tset(state, {name, value}) {\n\t\t\t\tstate[name] = value;\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\tsyncAll({state}, force = false) {\n\t\t\t\tif (state.syncSettings === false && force === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstore.commit(\"serverHasSettings\", true);\n\n\t\t\t\tfor (const name in state) {\n\t\t\t\t\tif (config[name].sync !== \"never\" || config[name].sync === \"always\") {\n\t\t\t\t\t\tsocket.emit(\"setting:set\", {name, value: state[name]});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tapplyAll({state}) {\n\t\t\t\tfor (const settingName in config) {\n\t\t\t\t\tconfig[settingName].apply(store, state[settingName], true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate({state, commit}, {name, value, sync = false}) {\n\t\t\t\tif (state[name] === value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst settingConfig = config[name];\n\n\t\t\t\t// Trying to update a non existing setting (e.g. server has an old key)\n\t\t\t\tif (!settingConfig) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tsync === false &&\n\t\t\t\t\t(state.syncSettings === false || settingConfig.sync === \"never\")\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcommit(\"set\", {name, value});\n\t\t\t\tstorage.set(\"settings\", JSON.stringify(state));\n\t\t\t\tsettingConfig.apply(store, value);\n\n\t\t\t\tif (!sync) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(state.syncSettings && settingConfig.sync !== \"never\") ||\n\t\t\t\t\tsettingConfig.sync === \"always\"\n\t\t\t\t) {\n\t\t\t\t\tsocket.emit(\"setting:set\", {name, value});\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n}\n\nfunction loadFromLocalStorage() {\n\tlet storedSettings: Record<string, any> = {};\n\n\ttry {\n\t\tstoredSettings = JSON.parse(storage.get(\"settings\") || \"{}\");\n\t} catch (e) {\n\t\tstorage.remove(\"settings\");\n\t}\n\n\tif (!storedSettings) {\n\t\treturn {};\n\t}\n\n\t// Older The Lounge versions converted highlights to an array, turn it back into a string\n\tif (storedSettings.highlights !== null && typeof storedSettings.highlights === \"object\") {\n\t\tstoredSettings.highlights = storedSettings.highlights.join(\", \");\n\t}\n\n\treturn storedSettings;\n}\n\n/**\n * Essentially Object.assign but does not overwrite and only assigns\n * if key exists in both supplied objects and types match\n *\n * @param {object} defaultSettings\n * @param {object} storedSettings\n */\nfunction assignStoredSettings(\n\tdefaultSettings: Record<string, any>,\n\tstoredSettings: Record<string, any>\n) {\n\tconst newSettings = {...defaultSettings};\n\n\tfor (const key in defaultSettings) {\n\t\t// Make sure the setting in local storage has the same type that the code expects\n\t\tif (\n\t\t\ttypeof storedSettings[key] !== \"undefined\" &&\n\t\t\ttypeof defaultSettings[key] === typeof storedSettings[key]\n\t\t) {\n\t\t\tnewSettings[key] = storedSettings[key];\n\t\t}\n\t}\n\n\treturn newSettings;\n}\n","/* eslint-disable @typescript-eslint/no-shadow */\n\nimport {ActionContext, createStore, Store, useStore as baseUseStore} from \"vuex\";\nimport {createSettingsStore} from \"./store-settings\";\nimport storage from \"./localStorage\";\nimport type {\n\tClientChan,\n\tClientConfiguration,\n\tClientNetwork,\n\tInitClientChan,\n\tNetChan,\n\tClientMessage,\n\tClientMention,\n} from \"./types\";\nimport type {InjectionKey} from \"vue\";\n\nimport {SettingsState} from \"./settings\";\nimport {SearchQuery} from \"../../server/plugins/messageStorage/types\";\n\nconst appName = document.title;\n\nenum DesktopNotificationState {\n\tUnsupported = \"unsupported\",\n\tBlocked = \"blocked\",\n\tNoHttps = \"nohttps\",\n\tGranted = \"granted\",\n}\n\nfunction detectDesktopNotificationState(): DesktopNotificationState {\n\tif (!(\"Notification\" in window)) {\n\t\treturn DesktopNotificationState.Unsupported;\n\t} else if (Notification.permission === DesktopNotificationState.Granted) {\n\t\treturn DesktopNotificationState.Granted;\n\t} else if (!window.isSecureContext) {\n\t\treturn DesktopNotificationState.NoHttps;\n\t}\n\n\treturn DesktopNotificationState.Blocked;\n}\n\nexport type ClientSession = {\n\tcurrent: boolean;\n\tactive: number;\n\tlastUse: number;\n\tip: string;\n\tagent: string;\n\ttoken: string;\n};\n\nexport type State = {\n\tappLoaded: boolean;\n\tactiveChannel?: NetChan;\n\tcurrentUserVisibleError: string | null;\n\tdesktopNotificationState: DesktopNotificationState;\n\tisAutoCompleting: boolean;\n\tisConnected: boolean;\n\tnetworks: ClientNetwork[];\n\t// TODO: type\n\tmentions: ClientMention[];\n\thasServiceWorker: boolean;\n\tpushNotificationState: string;\n\tserverConfiguration: ClientConfiguration | null;\n\tsessions: ClientSession[];\n\tsidebarOpen: boolean;\n\tsidebarDragging: boolean;\n\tuserlistOpen: boolean;\n\tversionData:\n\t\t| null\n\t\t| undefined\n\t\t| {\n\t\t\t\tlatest?: {\n\t\t\t\t\tversion: string;\n\t\t\t\t\tprerelease: boolean;\n\t\t\t\t\turl: string;\n\t\t\t\t};\n\t\t\t\tcurrent?: {\n\t\t\t\t\tversion: string;\n\t\t\t\t\tprerelease: boolean;\n\t\t\t\t\turl: string;\n\t\t\t\t\tchangelog?: string;\n\t\t\t\t};\n\t\t  };\n\tversionStatus: \"loading\" | \"new-version\" | \"new-packages\" | \"up-to-date\" | \"error\";\n\tversionDataExpired: boolean;\n\tserverHasSettings: boolean;\n\tmessageSearchResults: {\n\t\tresults: ClientMessage[];\n\t} | null;\n\tmessageSearchPendingQuery: SearchQuery | null;\n\tsearchEnabled: boolean;\n};\n\nconst state = (): State => ({\n\tappLoaded: false,\n\tactiveChannel: undefined,\n\tcurrentUserVisibleError: null,\n\tdesktopNotificationState: detectDesktopNotificationState(),\n\tisAutoCompleting: false,\n\tisConnected: false,\n\tnetworks: [],\n\tmentions: [],\n\thasServiceWorker: false,\n\tpushNotificationState: \"unsupported\",\n\tserverConfiguration: null,\n\tsessions: [],\n\tsidebarOpen: false,\n\tsidebarDragging: false,\n\tuserlistOpen: storage.get(\"thelounge.state.userlist\") !== \"false\",\n\tversionData: null,\n\tversionStatus: \"loading\",\n\tversionDataExpired: false,\n\tserverHasSettings: false,\n\tmessageSearchResults: null,\n\tmessageSearchPendingQuery: null,\n\tsearchEnabled: false,\n});\n\ntype Getters = {\n\tfindChannelOnCurrentNetwork: (state: State) => (name: string) => ClientChan | undefined;\n\tfindChannelOnNetwork: (state: State) => (\n\t\tnetworkUuid: string,\n\t\tchannelName: string\n\t) => {\n\t\tnetwork: ClientNetwork;\n\t\tchannel: ClientChan;\n\t} | null;\n\tfindChannel: (state: State) => (id: number) => {\n\t\tnetwork: ClientNetwork;\n\t\tchannel: ClientChan;\n\t} | null;\n\tfindNetwork: (state: State) => (uuid: string) => ClientNetwork | null;\n\thighlightCount(state: State): number;\n\ttitle(state: State, getters: Omit<Getters, \"title\">): string;\n\tinitChannel: () => (channel: InitClientChan) => ClientChan;\n};\n\n// getters without the state argument\nexport type CallableGetters = {\n\t[K in keyof Getters]: ReturnType<Getters[K]>;\n};\n\nconst getters: Getters = {\n\tfindChannelOnCurrentNetwork: (state) => (name: string) => {\n\t\tname = name.toLowerCase();\n\t\treturn state.activeChannel?.network.channels.find((c) => c.name.toLowerCase() === name);\n\t},\n\tfindChannelOnNetwork: (state) => (networkUuid: string, channelName: string) => {\n\t\tfor (const network of state.networks) {\n\t\t\tif (network.uuid !== networkUuid) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const channel of network.channels) {\n\t\t\t\tif (channel.name === channelName) {\n\t\t\t\t\treturn {network, channel};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\tfindChannel: (state) => (id: number) => {\n\t\tfor (const network of state.networks) {\n\t\t\tfor (const channel of network.channels) {\n\t\t\t\tif (channel.id === id) {\n\t\t\t\t\treturn {network, channel};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\tfindNetwork: (state) => (uuid: string) => {\n\t\tfor (const network of state.networks) {\n\t\t\tif (network.uuid === uuid) {\n\t\t\t\treturn network;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\thighlightCount(state) {\n\t\tlet highlightCount = 0;\n\n\t\tfor (const network of state.networks) {\n\t\t\tfor (const channel of network.channels) {\n\t\t\t\tif (channel.muted) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\thighlightCount += channel.highlight;\n\t\t\t}\n\t\t}\n\n\t\treturn highlightCount;\n\t},\n\ttitle(state, getters) {\n\t\tconst alertEventCount = getters.highlightCount\n\t\t\t? `(${getters.highlightCount.toString()}) `\n\t\t\t: \"\";\n\t\tconst channelname = state.activeChannel ? `${state.activeChannel.channel.name}  ` : \"\";\n\n\t\treturn alertEventCount + channelname + appName;\n\t},\n\tinitChannel: () => (channel: InitClientChan) => {\n\t\t// TODO: This should be a mutation\n\t\tchannel.pendingMessage = \"\";\n\t\tchannel.inputHistoryPosition = 0;\n\n\t\tchannel.inputHistory = [\"\"].concat(\n\t\t\tchannel.messages\n\t\t\t\t.filter((m) => m.self && m.text && m.type === \"message\")\n\t\t\t\t.map((m) => m.text)\n\t\t\t\t.reverse()\n\t\t\t\t.slice(0, 99)\n\t\t);\n\t\tchannel.historyLoading = false;\n\t\tchannel.scrolledToBottom = true;\n\t\tchannel.editTopic = false;\n\n\t\tchannel.moreHistoryAvailable = channel.totalMessages! > channel.messages.length;\n\t\tdelete channel.totalMessages;\n\n\t\tif (channel.type === \"channel\") {\n\t\t\tchannel.usersOutdated = true;\n\t\t}\n\n\t\treturn channel as ClientChan;\n\t},\n};\n\ntype Mutations = {\n\tappLoaded(state: State): void;\n\tactiveChannel(state: State, netChan: State[\"activeChannel\"]): void;\n\tcurrentUserVisibleError(state: State, error: State[\"currentUserVisibleError\"]): void;\n\trefreshDesktopNotificationState(state: State): void;\n\tisAutoCompleting(state: State, isAutoCompleting: State[\"isAutoCompleting\"]): void;\n\tisConnected(state: State, payload: State[\"isConnected\"]): void;\n\tnetworks(state: State, networks: State[\"networks\"]): void;\n\tmentions(state: State, mentions: State[\"mentions\"]): void;\n\n\tremoveNetwork(state: State, networkUuid: string): void;\n\tsortNetworks(\n\t\tstate: State,\n\t\tsortFn: (a: State[\"networks\"][0], b: State[\"networks\"][0]) => number\n\t): void;\n\thasServiceWorker(state: State): void;\n\tpushNotificationState(\n\t\tstate: State,\n\t\tpushNotificationState: State[\"pushNotificationState\"]\n\t): void;\n\tserverConfiguration(state: State, serverConfiguration: State[\"serverConfiguration\"]): void;\n\tsessions(state: State, payload: State[\"sessions\"]): void;\n\tsidebarOpen(state: State, payload: State[\"sidebarOpen\"]): void;\n\tsidebarDragging(state: State, payload: State[\"sidebarDragging\"]): void;\n\ttoggleSidebar(state: State): void;\n\ttoggleUserlist(state: State): void;\n\tuserlistOpen(state: State, payload: State[\"userlistOpen\"]): void;\n\tversionData(state: State, payload: State[\"versionData\"]): void;\n\tversionStatus(state: State, payload: State[\"versionStatus\"]): void;\n\tversionDataExpired(state: State, payload: State[\"versionDataExpired\"]): void;\n\tserverHasSettings(state: State, value: State[\"serverHasSettings\"]): void;\n\tmessageSearchPendingQuery(state: State, value: State[\"messageSearchPendingQuery\"]): void;\n\tmessageSearchResults(state: State, value: State[\"messageSearchResults\"]): void;\n\taddMessageSearchResults(state: State, value: NonNullable<State[\"messageSearchResults\"]>): void;\n};\n\nconst mutations: Mutations = {\n\tappLoaded(state) {\n\t\tstate.appLoaded = true;\n\t},\n\tactiveChannel(state, netChan) {\n\t\tstate.activeChannel = netChan;\n\t},\n\tcurrentUserVisibleError(state, error) {\n\t\tstate.currentUserVisibleError = error;\n\t},\n\trefreshDesktopNotificationState(state) {\n\t\tstate.desktopNotificationState = detectDesktopNotificationState();\n\t},\n\tisAutoCompleting(state, isAutoCompleting) {\n\t\tstate.isAutoCompleting = isAutoCompleting;\n\t},\n\tisConnected(state, payload) {\n\t\tstate.isConnected = payload;\n\t},\n\tnetworks(state, networks) {\n\t\tstate.networks = networks;\n\t},\n\tmentions(state, mentions) {\n\t\tstate.mentions = mentions;\n\t},\n\tremoveNetwork(state, networkId) {\n\t\tstate.networks.splice(\n\t\t\tstate.networks.findIndex((n) => n.uuid === networkId),\n\t\t\t1\n\t\t);\n\t},\n\tsortNetworks(state, sortFn) {\n\t\tstate.networks.sort(sortFn);\n\t},\n\thasServiceWorker(state) {\n\t\tstate.hasServiceWorker = true;\n\t},\n\tpushNotificationState(state, pushNotificationState) {\n\t\tstate.pushNotificationState = pushNotificationState;\n\t},\n\tserverConfiguration(state, serverConfiguration) {\n\t\tstate.serverConfiguration = serverConfiguration;\n\t},\n\tsessions(state, payload) {\n\t\tstate.sessions = payload;\n\t},\n\tsidebarOpen(state, payload) {\n\t\tstate.sidebarOpen = payload;\n\t},\n\tsidebarDragging(state, payload) {\n\t\tstate.sidebarDragging = payload;\n\t},\n\ttoggleSidebar(state) {\n\t\tstate.sidebarOpen = !state.sidebarOpen;\n\t},\n\ttoggleUserlist(state) {\n\t\tstate.userlistOpen = !state.userlistOpen;\n\t},\n\tuserlistOpen(state, payload) {\n\t\tstate.userlistOpen = payload;\n\t},\n\tversionData(state, payload) {\n\t\tstate.versionData = payload;\n\t},\n\tversionStatus(state, payload) {\n\t\tstate.versionStatus = payload;\n\t},\n\tversionDataExpired(state, payload) {\n\t\tstate.versionDataExpired = payload;\n\t},\n\tserverHasSettings(state, value) {\n\t\tstate.serverHasSettings = value;\n\t},\n\tmessageSearchPendingQuery(state, value) {\n\t\tstate.messageSearchPendingQuery = value;\n\t},\n\tmessageSearchResults(state, value) {\n\t\tstate.messageSearchResults = value;\n\t},\n\taddMessageSearchResults(state, value) {\n\t\t// Append the search results and add networks and channels to new messages\n\t\tif (!state.messageSearchResults) {\n\t\t\tstate.messageSearchResults = {results: []};\n\t\t}\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst results = [...value.results, ...state.messageSearchResults.results];\n\n\t\tstate.messageSearchResults = {\n\t\t\tresults,\n\t\t};\n\t},\n};\n\nexport type TypedCommit = <T extends keyof Mutations>(\n\ttype: T,\n\tpayload?: Parameters<Mutations[T]>[1] | null,\n\toptions?: {root?: boolean}\n) => ReturnType<Mutations[T]>;\ntype TypedActionContext = Omit<ActionContext<State, State>, \"commit\"> & {\n\tcommit: TypedCommit;\n};\n\ntype Actions = {\n\tpartChannel(context: TypedActionContext, payload: NetChan): void;\n};\n\nconst actions: Actions = {\n\tpartChannel({commit, state}, netChan) {\n\t\tconst mentions = state.mentions.filter((msg) => !(msg.chanId === netChan.channel.id));\n\t\tcommit(\"mentions\", mentions);\n\t},\n};\n\nconst storePattern = {\n\tstate,\n\tmutations,\n\tactions,\n\tgetters,\n};\n\n// https://vuex.vuejs.org/guide/typescript-support.html#typing-usestore-composition-function\nexport const key: InjectionKey<Store<State>> = Symbol();\n\n// vuex types getters as any\nexport type TypedStore = Omit<Store<State>, \"getters\" | \"commit\"> & {\n\tgetters: CallableGetters;\n\tcommit: TypedCommit;\n\tstate: State & {\n\t\tsettings: SettingsState;\n\t};\n};\n\nexport const store = createStore(storePattern) as TypedStore;\n\nconst settingsStore = createSettingsStore(store);\n\n// Settings module is registered dynamically because it benefits\n// from a direct reference to the store\nstore.registerModule(\"settings\", settingsStore);\n\nexport function useStore() {\n\treturn baseUseStore(key) as TypedStore;\n}\n","import {update as updateCursor} from \"undate\";\n\nimport socket from \"./socket\";\nimport {store} from \"./store\";\n\nclass Uploader {\n\txhr: XMLHttpRequest | null = null;\n\tfileQueue: File[] = [];\n\ttokenKeepAlive: NodeJS.Timeout | null = null;\n\n\toverlay: HTMLDivElement | null = null;\n\tuploadProgressbar: HTMLSpanElement | null = null;\n\n\tonDragEnter = (e: DragEvent) => this.dragEnter(e);\n\tonDragOver = (e: DragEvent) => this.dragOver(e);\n\tonDragLeave = (e: DragEvent) => this.dragLeave(e);\n\tonDrop = (e: DragEvent) => this.drop(e);\n\tonPaste = (e: ClipboardEvent) => this.paste(e);\n\n\tinit() {\n\t\tsocket.on(\"upload:auth\", (token) => this.uploadNextFileInQueue(token));\n\t}\n\n\tmounted() {\n\t\tthis.overlay = document.getElementById(\"upload-overlay\") as HTMLDivElement;\n\t\tthis.uploadProgressbar = document.getElementById(\"upload-progressbar\") as HTMLSpanElement;\n\n\t\tdocument.addEventListener(\"dragenter\", this.onDragEnter);\n\t\tdocument.addEventListener(\"dragover\", this.onDragOver);\n\t\tdocument.addEventListener(\"dragleave\", this.onDragLeave);\n\t\tdocument.addEventListener(\"drop\", this.onDrop);\n\t\tdocument.addEventListener(\"paste\", this.onPaste);\n\t}\n\n\tunmounted() {\n\t\tdocument.removeEventListener(\"dragenter\", this.onDragEnter);\n\t\tdocument.removeEventListener(\"dragover\", this.onDragOver);\n\t\tdocument.removeEventListener(\"dragleave\", this.onDragLeave);\n\t\tdocument.removeEventListener(\"drop\", this.onDrop);\n\t\tdocument.removeEventListener(\"paste\", this.onPaste);\n\t}\n\n\tdragOver(event: DragEvent) {\n\t\tif (event.dataTransfer?.types.includes(\"Files\")) {\n\t\t\t// Prevent dragover event completely and do nothing with it\n\t\t\t// This stops the browser from trying to guess which cursor to show\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tdragEnter(event: DragEvent) {\n\t\t// relatedTarget is the target where we entered the drag from\n\t\t// when dragging from another window, the target is null, otherwise its a DOM element\n\t\tif (!event.relatedTarget && event.dataTransfer?.types.includes(\"Files\")) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.overlay?.classList.add(\"is-dragover\");\n\t\t}\n\t}\n\n\tdragLeave(event: DragEvent) {\n\t\t// If relatedTarget is null, that means we are no longer dragging over the page\n\t\tif (!event.relatedTarget) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.overlay?.classList.remove(\"is-dragover\");\n\t\t}\n\t}\n\n\tdrop(event: DragEvent) {\n\t\tif (!event.dataTransfer?.types.includes(\"Files\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis.overlay?.classList.remove(\"is-dragover\");\n\n\t\tlet files: (File | null)[];\n\n\t\tif (event.dataTransfer.items) {\n\t\t\tfiles = Array.from(event.dataTransfer.items)\n\t\t\t\t.filter((item) => item.kind === \"file\")\n\t\t\t\t.map((item) => item.getAsFile());\n\t\t} else {\n\t\t\tfiles = Array.from(event.dataTransfer.files);\n\t\t}\n\n\t\tthis.triggerUpload(files);\n\t}\n\n\tpaste(event: ClipboardEvent) {\n\t\tconst items = event.clipboardData?.items;\n\t\tconst files: (File | null)[] = [];\n\n\t\tif (!items) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].kind === \"file\") {\n\t\t\t\tfiles.push(items[i].getAsFile());\n\t\t\t}\n\t\t}\n\n\t\tif (files.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tthis.triggerUpload(files);\n\t}\n\n\ttriggerUpload(files: (File | null)[]) {\n\t\tif (!files.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!store.state.isConnected) {\n\t\t\tthis.handleResponse({\n\t\t\t\terror: `You are currently disconnected, unable to initiate upload process.`,\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst wasQueueEmpty = this.fileQueue.length === 0;\n\t\tconst maxFileSize = store.state.serverConfiguration?.fileUploadMaxFileSize || 0;\n\n\t\tfor (const file of files) {\n\t\t\tif (!file) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (maxFileSize > 0 && file.size > maxFileSize) {\n\t\t\t\tthis.handleResponse({\n\t\t\t\t\terror: `File ${file.name} is over the maximum allowed size`,\n\t\t\t\t});\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.fileQueue.push(file);\n\t\t}\n\n\t\t// if the queue was empty and we added some files to it, and there currently\n\t\t// is no upload in process, request a token to start the upload process\n\t\tif (wasQueueEmpty && this.xhr === null && this.fileQueue.length > 0) {\n\t\t\tthis.requestToken();\n\t\t}\n\t}\n\n\trequestToken() {\n\t\tsocket.emit(\"upload:auth\");\n\t}\n\n\tsetProgress(value: number) {\n\t\tif (!this.uploadProgressbar) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.uploadProgressbar.classList.toggle(\"upload-progressbar-visible\", value > 0);\n\t\tthis.uploadProgressbar.style.width = `${value}%`;\n\t}\n\n\tuploadNextFileInQueue(token: string) {\n\t\tconst file = this.fileQueue.shift();\n\n\t\tif (!file) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Tell the server that we are still upload to this token\n\t\t// so it does not become invalidated and fail the upload.\n\t\t// This issue only happens if The Lounge is proxied through other software\n\t\t// as it may buffer the upload before the upload request will be processed by The Lounge.\n\t\tthis.tokenKeepAlive = setInterval(() => socket.emit(\"upload:ping\", token), 40 * 1000);\n\n\t\tif (\n\t\t\tstore.state.settings.uploadCanvas &&\n\t\t\tfile.type.startsWith(\"image/\") &&\n\t\t\t!file.type.includes(\"svg\") &&\n\t\t\tfile.type !== \"image/gif\"\n\t\t) {\n\t\t\tthis.renderImage(file, (newFile) => this.performUpload(token, newFile));\n\t\t} else {\n\t\t\tthis.performUpload(token, file);\n\t\t}\n\t}\n\n\trenderImage(file: File, callback: (file: File) => void) {\n\t\tconst fileReader = new FileReader();\n\n\t\tfileReader.onabort = () => callback(file);\n\t\tfileReader.onerror = () => fileReader.abort();\n\n\t\tfileReader.onload = () => {\n\t\t\tconst img = new Image();\n\n\t\t\timg.onerror = () => callback(file);\n\n\t\t\timg.onload = () => {\n\t\t\t\tconst canvas = document.createElement(\"canvas\");\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tconst ctx = canvas.getContext(\"2d\");\n\n\t\t\t\tif (!ctx) {\n\t\t\t\t\tthrow new Error(\"Could not get canvas context in upload\");\n\t\t\t\t}\n\n\t\t\t\tctx.drawImage(img, 0, 0);\n\n\t\t\t\tcanvas.toBlob((blob) => {\n\t\t\t\t\tcallback(new File([blob!], file.name));\n\t\t\t\t}, file.type);\n\t\t\t};\n\n\t\t\timg.src = String(fileReader.result);\n\t\t};\n\n\t\tfileReader.readAsDataURL(file);\n\t}\n\n\tperformUpload(token: string, file: File) {\n\t\tthis.xhr = new XMLHttpRequest();\n\n\t\tthis.xhr.upload.addEventListener(\n\t\t\t\"progress\",\n\t\t\t(e) => {\n\t\t\t\tconst percent = Math.floor((e.loaded / e.total) * 1000) / 10;\n\t\t\t\tthis.setProgress(percent);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tthis.xhr.onreadystatechange = () => {\n\t\t\tif (this.xhr?.readyState === XMLHttpRequest.DONE) {\n\t\t\t\tlet response;\n\n\t\t\t\ttry {\n\t\t\t\t\tresponse = JSON.parse(this.xhr.responseText);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// This is just a safe guard and should not happen if server doesn't throw any errors.\n\t\t\t\t\t// Browsers break the HTTP spec by aborting the request without reading any response data,\n\t\t\t\t\t// if there is still data to be uploaded. Servers will only error in extreme cases like bad\n\t\t\t\t\t// authentication or server-side errors.\n\t\t\t\t\tresponse = {\n\t\t\t\t\t\terror: `Upload aborted: ${this.xhr.statusText} (HTTP ${this.xhr.status})`,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tthis.handleResponse(response);\n\n\t\t\t\tthis.xhr = null;\n\n\t\t\t\t// this file was processed, if we still have files in the queue, upload the next one\n\t\t\t\tif (this.fileQueue.length > 0) {\n\t\t\t\t\tthis.requestToken();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst formData = new FormData();\n\t\tformData.append(\"file\", file);\n\t\tthis.xhr.open(\"POST\", `uploads/new/${token}`);\n\t\tthis.xhr.send(formData);\n\t}\n\n\thandleResponse(response: {error?: string; url?: string}) {\n\t\tthis.setProgress(0);\n\n\t\tif (this.tokenKeepAlive) {\n\t\t\tclearInterval(this.tokenKeepAlive);\n\t\t\tthis.tokenKeepAlive = null;\n\t\t}\n\n\t\tif (response.error) {\n\t\t\tstore.commit(\"currentUserVisibleError\", response.error);\n\t\t\treturn;\n\t\t}\n\n\t\tif (response.url) {\n\t\t\tthis.insertUploadUrl(response.url);\n\t\t}\n\t}\n\n\tinsertUploadUrl(url: string) {\n\t\tconst fullURL = new URL(url, location.toString()).toString();\n\t\tconst textbox = document.getElementById(\"input\");\n\n\t\tif (!(textbox instanceof HTMLTextAreaElement)) {\n\t\t\tthrow new Error(\"Could not find textbox in upload\");\n\t\t}\n\n\t\tconst initStart = textbox.selectionStart;\n\n\t\t// Get the text before the cursor, and add a space if it's not in the beginning\n\t\tconst headToCursor = initStart > 0 ? textbox.value.substring(0, initStart) + \" \" : \"\";\n\n\t\t// Get the remaining text after the cursor\n\t\tconst cursorToTail = textbox.value.substring(initStart);\n\n\t\t// Construct the value until the point where we want the cursor to be\n\t\tconst textBeforeTail = headToCursor + fullURL + \" \";\n\n\t\tupdateCursor(textbox, textBeforeTail + cursorToTail);\n\n\t\t// Set the cursor after the link and a space\n\t\ttextbox.selectionStart = textbox.selectionEnd = textBeforeTail.length;\n\t}\n\n\t// TODO: This is a temporary hack while Vue porting is finalized\n\tabort() {\n\t\tthis.fileQueue = [];\n\n\t\tif (this.xhr) {\n\t\t\tthis.xhr.abort();\n\t\t\tthis.xhr = null;\n\t\t}\n\t}\n}\n\nconst instance = new Uploader();\n\nexport default {\n\tabort: () => instance.abort(),\n\tinitialize: () => instance.init(),\n\tmounted: () => instance.mounted(),\n\tunmounted: () => instance.unmounted(),\n\ttriggerUpload: (files) => instance.triggerUpload(files),\n};\n","import constants from \"./constants\";\n\nimport \"../css/style.css\";\nimport {createApp} from \"vue\";\nimport {store, CallableGetters, key} from \"./store\";\nimport App from \"../components/App.vue\";\nimport storage from \"./localStorage\";\nimport {router} from \"./router\";\nimport socket from \"./socket\";\nimport eventbus from \"./eventbus\";\n\nimport \"./socket-events\";\nimport \"./webpush\";\nimport \"./keybinds\";\nimport {LoungeWindow} from \"./types\";\n\nconst favicon = document.getElementById(\"favicon\");\nconst faviconNormal = favicon?.getAttribute(\"href\") || \"\";\nconst faviconAlerted = favicon?.dataset.other || \"\";\n\nexport const VueApp = createApp(App);\n\nVueApp.use(router);\nVueApp.use(store, key);\n\nVueApp.mount(\"#app\");\nsocket.open();\n\nstore.watch(\n\t(state) => state.sidebarOpen,\n\t(sidebarOpen) => {\n\t\tif (window.innerWidth > constants.mobileViewportPixels) {\n\t\t\tstorage.set(\"thelounge.state.sidebar\", sidebarOpen.toString());\n\t\t\teventbus.emit(\"resize\");\n\t\t}\n\t}\n);\n\nstore.watch(\n\t(state) => state.userlistOpen,\n\t(userlistOpen) => {\n\t\tstorage.set(\"thelounge.state.userlist\", userlistOpen.toString());\n\t\teventbus.emit(\"resize\");\n\t}\n);\n\nstore.watch(\n\t(_, getters: CallableGetters) => getters.title,\n\t(title) => {\n\t\tdocument.title = title;\n\t}\n);\n\n// Toggles the favicon to red when there are unread notifications\nstore.watch(\n\t(_, getters: CallableGetters) => getters.highlightCount,\n\t(highlightCount) => {\n\t\tfavicon?.setAttribute(\"href\", highlightCount > 0 ? faviconAlerted : faviconNormal);\n\n\t\tconst nav: LoungeWindow[\"navigator\"] = window.navigator;\n\n\t\tif (nav.setAppBadge) {\n\t\t\tif (highlightCount > 0) {\n\t\t\t\tnav.setAppBadge(highlightCount);\n\t\t\t} else {\n\t\t\t\tif (nav.clearAppBadge) {\n\t\t\t\t\tnav.clearAppBadge();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n);\n\nVueApp.config.errorHandler = function (e) {\n\tif (e instanceof Error) {\n\t\tstore.commit(\"currentUserVisibleError\", `Vue error: ${e.message}`);\n\t} else {\n\t\tstore.commit(\"currentUserVisibleError\", `Vue error: ${String(e)}`);\n\t}\n\n\t// eslint-disable-next-line no-console\n\tconsole.error(e);\n};\n","import socket from \"./socket\";\nimport {store} from \"./store\";\n\nexport default {togglePushSubscription};\n\nsocket.once(\"push:issubscribed\", function (hasSubscriptionOnServer) {\n\tif (!isAllowedServiceWorkersHost()) {\n\t\tstore.commit(\"pushNotificationState\", \"nohttps\");\n\t\treturn;\n\t}\n\n\tif (!(\"serviceWorker\" in navigator)) {\n\t\treturn;\n\t}\n\n\tnavigator.serviceWorker\n\t\t.register(\"service-worker.js\")\n\t\t.then((registration) => {\n\t\t\tstore.commit(\"hasServiceWorker\");\n\n\t\t\tif (!registration.pushManager) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn registration.pushManager.getSubscription().then((subscription) => {\n\t\t\t\t// If client has push registration but the server knows nothing about it,\n\t\t\t\t// this subscription is broken and client has to register again\n\t\t\t\tif (subscription && hasSubscriptionOnServer === false) {\n\t\t\t\t\tvoid subscription.unsubscribe().then((successful) => {\n\t\t\t\t\t\tstore.commit(\n\t\t\t\t\t\t\t\"pushNotificationState\",\n\t\t\t\t\t\t\tsuccessful ? \"supported\" : \"unsupported\"\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstore.commit(\n\t\t\t\t\t\t\"pushNotificationState\",\n\t\t\t\t\t\tsubscription ? \"subscribed\" : \"supported\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.catch((err) => {\n\t\t\tstore.commit(\"pushNotificationState\", \"unsupported\");\n\t\t\tconsole.error(err); // eslint-disable-line no-console\n\t\t});\n});\n\nfunction togglePushSubscription() {\n\tstore.commit(\"pushNotificationState\", \"loading\");\n\n\tnavigator.serviceWorker.ready\n\t\t.then((registration) =>\n\t\t\tregistration.pushManager.getSubscription().then((existingSubscription) => {\n\t\t\t\tif (existingSubscription) {\n\t\t\t\t\tsocket.emit(\"push:unregister\");\n\n\t\t\t\t\treturn existingSubscription.unsubscribe().then((successful) => {\n\t\t\t\t\t\tstore.commit(\n\t\t\t\t\t\t\t\"pushNotificationState\",\n\t\t\t\t\t\t\tsuccessful ? \"supported\" : \"unsupported\"\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn registration.pushManager\n\t\t\t\t\t.subscribe({\n\t\t\t\t\t\tapplicationServerKey: store.state.serverConfiguration?.applicationServerKey,\n\t\t\t\t\t\tuserVisibleOnly: true,\n\t\t\t\t\t})\n\t\t\t\t\t.then((subscription) => {\n\t\t\t\t\t\tsocket.emit(\"push:register\", subscription.toJSON());\n\t\t\t\t\t\tstore.commit(\"pushNotificationState\", \"subscribed\");\n\t\t\t\t\t\tstore.commit(\"refreshDesktopNotificationState\");\n\t\t\t\t\t});\n\t\t\t})\n\t\t)\n\t\t.catch((err) => {\n\t\t\tstore.commit(\"pushNotificationState\", \"unsupported\");\n\t\t\tstore.commit(\"refreshDesktopNotificationState\");\n\t\t\tconsole.error(err); // eslint-disable-line no-console\n\t\t});\n}\n\nfunction isAllowedServiceWorkersHost() {\n\treturn (\n\t\tlocation.protocol === \"https:\" ||\n\t\tlocation.hostname === \"localhost\" ||\n\t\tlocation.hostname === \"127.0.0.1\"\n\t);\n}\n","<template>\n\t<div id=\"viewport\" :class=\"viewportClasses\" role=\"tablist\">\n\t\t<Sidebar v-if=\"store.state.appLoaded\" :overlay=\"overlay\" />\n\t\t<div\n\t\t\tid=\"sidebar-overlay\"\n\t\t\tref=\"overlay\"\n\t\t\taria-hidden=\"true\"\n\t\t\t@click=\"store.commit('sidebarOpen', false)\"\n\t\t/>\n\t\t<router-view ref=\"loungeWindow\"></router-view>\n\t\t<Mentions />\n\t\t<ImageViewer ref=\"imageViewer\" />\n\t\t<ContextMenu ref=\"contextMenu\" />\n\t\t<ConfirmDialog ref=\"confirmDialog\" />\n\t\t<div id=\"upload-overlay\"></div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport constants from \"../js/constants\";\nimport eventbus from \"../js/eventbus\";\nimport Mousetrap, {ExtendedKeyboardEvent} from \"mousetrap\";\nimport throttle from \"lodash/throttle\";\nimport storage from \"../js/localStorage\";\nimport isIgnoredKeybind from \"../js/helpers/isIgnoredKeybind\";\n\nimport Sidebar from \"./Sidebar.vue\";\nimport ImageViewer from \"./ImageViewer.vue\";\nimport ContextMenu from \"./ContextMenu.vue\";\nimport ConfirmDialog from \"./ConfirmDialog.vue\";\nimport Mentions from \"./Mentions.vue\";\nimport {\n\tcomputed,\n\tprovide,\n\tdefineComponent,\n\tonBeforeUnmount,\n\tonMounted,\n\tref,\n\tRef,\n\tInjectionKey,\n} from \"vue\";\nimport {useStore} from \"../js/store\";\nimport type {DebouncedFunc} from \"lodash\";\n\nexport const imageViewerKey = Symbol() as InjectionKey<Ref<typeof ImageViewer | null>>;\nconst contextMenuKey = Symbol() as InjectionKey<Ref<typeof ContextMenu | null>>;\nconst confirmDialogKey = Symbol() as InjectionKey<Ref<typeof ConfirmDialog | null>>;\n\nexport default defineComponent({\n\tname: \"App\",\n\tcomponents: {\n\t\tSidebar,\n\t\tImageViewer,\n\t\tContextMenu,\n\t\tConfirmDialog,\n\t\tMentions,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst overlay = ref(null);\n\t\tconst loungeWindow = ref(null);\n\t\tconst imageViewer = ref(null);\n\t\tconst contextMenu = ref(null);\n\t\tconst confirmDialog = ref(null);\n\n\t\tprovide(imageViewerKey, imageViewer);\n\t\tprovide(contextMenuKey, contextMenu);\n\t\tprovide(confirmDialogKey, confirmDialog);\n\n\t\tconst viewportClasses = computed(() => {\n\t\t\treturn {\n\t\t\t\tnotified: store.getters.highlightCount > 0,\n\t\t\t\t\"menu-open\": store.state.appLoaded && store.state.sidebarOpen,\n\t\t\t\t\"menu-dragging\": store.state.sidebarDragging,\n\t\t\t\t\"userlist-open\": store.state.userlistOpen,\n\t\t\t};\n\t\t});\n\n\t\tconst debouncedResize = ref<DebouncedFunc<() => void>>();\n\t\tconst dayChangeTimeout = ref<any>();\n\n\t\tconst escapeKey = () => {\n\t\t\teventbus.emit(\"escapekey\");\n\t\t};\n\n\t\tconst toggleSidebar = (e: ExtendedKeyboardEvent) => {\n\t\t\tif (isIgnoredKeybind(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tstore.commit(\"toggleSidebar\");\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst toggleUserList = (e: ExtendedKeyboardEvent) => {\n\t\t\tif (isIgnoredKeybind(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tstore.commit(\"toggleUserlist\");\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst toggleMentions = () => {\n\t\t\tif (store.state.networks.length !== 0) {\n\t\t\t\teventbus.emit(\"mentions:toggle\");\n\t\t\t}\n\t\t};\n\n\t\tconst msUntilNextDay = () => {\n\t\t\t// Compute how many milliseconds are remaining until the next day starts\n\t\t\tconst today = new Date();\n\t\t\tconst tommorow = new Date(\n\t\t\t\ttoday.getFullYear(),\n\t\t\t\ttoday.getMonth(),\n\t\t\t\ttoday.getDate() + 1\n\t\t\t).getTime();\n\n\t\t\treturn tommorow - today.getTime();\n\t\t};\n\n\t\tconst prepareOpenStates = () => {\n\t\t\tconst viewportWidth = window.innerWidth;\n\t\t\tlet isUserlistOpen = storage.get(\"thelounge.state.userlist\");\n\n\t\t\tif (viewportWidth > constants.mobileViewportPixels) {\n\t\t\t\tstore.commit(\"sidebarOpen\", storage.get(\"thelounge.state.sidebar\") !== \"false\");\n\t\t\t}\n\n\t\t\t// If The Lounge is opened on a small screen (less than 1024px), and we don't have stored\n\t\t\t// user list state, close it by default\n\t\t\tif (viewportWidth >= 1024 && isUserlistOpen !== \"true\" && isUserlistOpen !== \"false\") {\n\t\t\t\tisUserlistOpen = \"true\";\n\t\t\t}\n\n\t\t\tstore.commit(\"userlistOpen\", isUserlistOpen === \"true\");\n\t\t};\n\n\t\tprepareOpenStates();\n\n\t\tonMounted(() => {\n\t\t\tMousetrap.bind(\"esc\", escapeKey);\n\t\t\tMousetrap.bind(\"alt+u\", toggleUserList);\n\t\t\tMousetrap.bind(\"alt+s\", toggleSidebar);\n\t\t\tMousetrap.bind(\"alt+m\", toggleMentions);\n\n\t\t\tdebouncedResize.value = throttle(() => {\n\t\t\t\teventbus.emit(\"resize\");\n\t\t\t}, 100);\n\n\t\t\twindow.addEventListener(\"resize\", debouncedResize.value, {passive: true});\n\n\t\t\t// Emit a daychange event every time the day changes so date markers know when to update themselves\n\t\t\tconst emitDayChange = () => {\n\t\t\t\teventbus.emit(\"daychange\");\n\t\t\t\t// This should always be 24h later but re-computing exact value just in case\n\t\t\t\tdayChangeTimeout.value = setTimeout(emitDayChange, msUntilNextDay());\n\t\t\t};\n\n\t\t\tdayChangeTimeout.value = setTimeout(emitDayChange, msUntilNextDay());\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\tMousetrap.unbind(\"esc\");\n\t\t\tMousetrap.unbind(\"alt+u\");\n\t\t\tMousetrap.unbind(\"alt+s\");\n\t\t\tMousetrap.unbind(\"alt+m\");\n\n\t\t\tif (debouncedResize.value) {\n\t\t\t\twindow.removeEventListener(\"resize\", debouncedResize.value);\n\t\t\t}\n\n\t\t\tif (dayChangeTimeout.value) {\n\t\t\t\tclearTimeout(dayChangeTimeout.value);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tviewportClasses,\n\t\t\tescapeKey,\n\t\t\ttoggleSidebar,\n\t\t\ttoggleUserList,\n\t\t\ttoggleMentions,\n\t\t\tstore,\n\t\t\toverlay,\n\t\t\tloungeWindow,\n\t\t\timageViewer,\n\t\t\tcontextMenu,\n\t\t\tconfirmDialog,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<!-- TODO: investigate -->\n\t<ChannelWrapper ref=\"wrapper\" v-bind=\"$props\">\n\t\t<span class=\"name\">{{ channel.name }}</span>\n\t\t<span\n\t\t\tv-if=\"channel.unread\"\n\t\t\t:class=\"{highlight: channel.highlight && !channel.muted}\"\n\t\t\tclass=\"badge\"\n\t\t\t>{{ unreadCount }}</span\n\t\t>\n\t\t<template v-if=\"channel.type === 'channel'\">\n\t\t\t<span\n\t\t\t\tv-if=\"channel.state === 0\"\n\t\t\t\tclass=\"parted-channel-tooltip tooltipped tooltipped-w\"\n\t\t\t\taria-label=\"Not currently joined\"\n\t\t\t>\n\t\t\t\t<span class=\"parted-channel-icon\" />\n\t\t\t</span>\n\t\t\t<span class=\"close-tooltip tooltipped tooltipped-w\" aria-label=\"Leave\">\n\t\t\t\t<button class=\"close\" aria-label=\"Leave\" @click.stop=\"close\" />\n\t\t\t</span>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<span class=\"close-tooltip tooltipped tooltipped-w\" aria-label=\"Close\">\n\t\t\t\t<button class=\"close\" aria-label=\"Close\" @click.stop=\"close\" />\n\t\t\t</span>\n\t\t</template>\n\t</ChannelWrapper>\n</template>\n\n<script lang=\"ts\">\nimport {PropType, defineComponent, computed} from \"vue\";\nimport roundBadgeNumber from \"../js/helpers/roundBadgeNumber\";\nimport useCloseChannel from \"../js/hooks/use-close-channel\";\nimport {ClientChan, ClientNetwork} from \"../js/types\";\nimport ChannelWrapper from \"./ChannelWrapper.vue\";\n\nexport default defineComponent({\n\tname: \"Channel\",\n\tcomponents: {\n\t\tChannelWrapper,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tchannel: {\n\t\t\ttype: Object as PropType<ClientChan>,\n\t\t\trequired: true,\n\t\t},\n\t\tactive: Boolean,\n\t\tisFiltering: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst unreadCount = computed(() => roundBadgeNumber(props.channel.unread));\n\t\tconst close = useCloseChannel(props.channel);\n\n\t\treturn {\n\t\t\tunreadCount,\n\t\t\tclose,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<!-- TODO: move closed style to it's own class -->\n\t<div\n\t\tv-if=\"isChannelVisible\"\n\t\tref=\"element\"\n\t\t:class=\"[\n\t\t\t'channel-list-item',\n\t\t\t{active: active},\n\t\t\t{'parted-channel': channel.type === 'channel' && channel.state === 0},\n\t\t\t{'has-draft': channel.pendingMessage},\n\t\t\t{'has-unread': channel.unread},\n\t\t\t{'has-highlight': channel.highlight},\n\t\t\t{\n\t\t\t\t'not-secure':\n\t\t\t\t\tchannel.type === 'lobby' && network.status.connected && !network.status.secure,\n\t\t\t},\n\t\t\t{'not-connected': channel.type === 'lobby' && !network.status.connected},\n\t\t\t{'is-muted': channel.muted},\n\t\t]\"\n\t\t:aria-label=\"getAriaLabel()\"\n\t\t:title=\"getAriaLabel()\"\n\t\t:data-name=\"channel.name\"\n\t\t:data-type=\"channel.type\"\n\t\t:aria-controls=\"'#chan-' + channel.id\"\n\t\t:aria-selected=\"active\"\n\t\t:style=\"channel.closed ? {transition: 'none', opacity: 0.4} : undefined\"\n\t\trole=\"tab\"\n\t\t@click=\"click\"\n\t\t@contextmenu.prevent=\"openContextMenu\"\n\t>\n\t\t<slot :network=\"network\" :channel=\"channel\" :active-channel=\"activeChannel\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport eventbus from \"../js/eventbus\";\nimport isChannelCollapsed from \"../js/helpers/isChannelCollapsed\";\nimport {ClientNetwork, ClientChan} from \"../js/types\";\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {useStore} from \"../js/store\";\nimport {switchToChannel} from \"../js/router\";\n\nexport default defineComponent({\n\tname: \"ChannelWrapper\",\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tchannel: {\n\t\t\ttype: Object as PropType<ClientChan>,\n\t\t\trequired: true,\n\t\t},\n\t\tactive: Boolean,\n\t\tisFiltering: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\t\tconst activeChannel = computed(() => store.state.activeChannel);\n\t\tconst isChannelVisible = computed(\n\t\t\t() => props.isFiltering || !isChannelCollapsed(props.network, props.channel)\n\t\t);\n\n\t\tconst getAriaLabel = () => {\n\t\t\tconst extra: string[] = [];\n\t\t\tconst type = props.channel.type;\n\n\t\t\tif (props.channel.unread > 0) {\n\t\t\t\tif (props.channel.unread > 1) {\n\t\t\t\t\textra.push(`${props.channel.unread} unread messages`);\n\t\t\t\t} else {\n\t\t\t\t\textra.push(`${props.channel.unread} unread message`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (props.channel.highlight > 0) {\n\t\t\t\tif (props.channel.highlight > 1) {\n\t\t\t\t\textra.push(`${props.channel.highlight} mentions`);\n\t\t\t\t} else {\n\t\t\t\t\textra.push(`${props.channel.highlight} mention`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${type}: ${props.channel.name} ${extra.length ? `(${extra.join(\", \")})` : \"\"}`;\n\t\t};\n\n\t\tconst click = () => {\n\t\t\tif (props.isFiltering) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitchToChannel(props.channel);\n\t\t};\n\n\t\tconst openContextMenu = (event: MouseEvent) => {\n\t\t\teventbus.emit(\"contextmenu:channel\", {\n\t\t\t\tevent: event,\n\t\t\t\tchannel: props.channel,\n\t\t\t\tnetwork: props.network,\n\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\tactiveChannel,\n\t\t\tisChannelVisible,\n\t\t\tgetAriaLabel,\n\t\t\tclick,\n\t\t\topenContextMenu,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"chat-container\" class=\"window\" :data-current-channel=\"channel.name\" lang=\"\">\n\t\t<div\n\t\t\tid=\"chat\"\n\t\t\t:class=\"{\n\t\t\t\t'hide-motd': !store.state.settings.motd,\n\t\t\t\t'time-seconds': store.state.settings.showSeconds,\n\t\t\t\t'time-12h': store.state.settings.use12hClock,\n\t\t\t\t'colored-nicks': true, // TODO temporarily fixes themes, to be removed in next major version\n\t\t\t}\"\n\t\t>\n\t\t\t<div\n\t\t\t\t:id=\"'chan-' + channel.id\"\n\t\t\t\tclass=\"chat-view\"\n\t\t\t\t:data-type=\"channel.type\"\n\t\t\t\t:aria-label=\"channel.name\"\n\t\t\t\trole=\"tabpanel\"\n\t\t\t>\n\t\t\t\t<div class=\"header\">\n\t\t\t\t\t<SidebarToggle />\n\t\t\t\t\t<span class=\"title\" :aria-label=\"'Currently open ' + channel.type\">{{\n\t\t\t\t\t\tchannel.name\n\t\t\t\t\t}}</span>\n\t\t\t\t\t<div v-if=\"channel.editTopic === true\" class=\"topic-container\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref=\"topicInput\"\n\t\t\t\t\t\t\t:value=\"channel.topic\"\n\t\t\t\t\t\t\tclass=\"topic-input\"\n\t\t\t\t\t\t\tplaceholder=\"Set channel topic\"\n\t\t\t\t\t\t\tenterkeyhint=\"done\"\n\t\t\t\t\t\t\t@keyup.enter=\"saveTopic\"\n\t\t\t\t\t\t\t@keyup.esc=\"channel.editTopic = false\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span aria-label=\"Save topic\" class=\"save-topic\" @click=\"saveTopic\">\n\t\t\t\t\t\t\t<span type=\"button\" aria-label=\"Save topic\"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:title=\"channel.topic\"\n\t\t\t\t\t\t:class=\"{topic: true, empty: !channel.topic}\"\n\t\t\t\t\t\t@dblclick=\"editTopic\"\n\t\t\t\t\t\t><ParsedMessage\n\t\t\t\t\t\t\tv-if=\"channel.topic\"\n\t\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t\t:text=\"channel.topic\"\n\t\t\t\t\t/></span>\n\t\t\t\t\t<MessageSearchForm\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\tstore.state.settings.searchEnabled &&\n\t\t\t\t\t\t\t['channel', 'query'].includes(channel.type)\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"mentions\"\n\t\t\t\t\t\taria-label=\"Open your mentions\"\n\t\t\t\t\t\t@click=\"openMentions\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"menu\"\n\t\t\t\t\t\taria-label=\"Open the context menu\"\n\t\t\t\t\t\t@click=\"openContextMenu\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-if=\"channel.type === 'channel'\"\n\t\t\t\t\t\tclass=\"rt-tooltip tooltipped tooltipped-w\"\n\t\t\t\t\t\taria-label=\"Toggle user list\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"rt\"\n\t\t\t\t\t\t\taria-label=\"Toggle user list\"\n\t\t\t\t\t\t\t@click=\"store.commit('toggleUserlist')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"channel.type === 'special'\" class=\"chat-content\">\n\t\t\t\t\t<div class=\"chat\">\n\t\t\t\t\t\t<div class=\"messages\">\n\t\t\t\t\t\t\t<div class=\"msg\">\n\t\t\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t\t\t:is=\"specialComponent\"\n\t\t\t\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"chat-content\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t'scroll-down tooltipped tooltipped-w tooltipped-no-touch',\n\t\t\t\t\t\t\t{'scroll-down-shown': !channel.scrolledToBottom},\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\taria-label=\"Jump to recent messages\"\n\t\t\t\t\t\t@click=\"messageList?.jumpToBottom()\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"scroll-down-arrow\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<ChatUserList v-if=\"channel.type === 'channel'\" :channel=\"channel\" />\n\t\t\t\t\t<MessageList\n\t\t\t\t\t\tref=\"messageList\"\n\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t\t:focused=\"focused\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div\n\t\t\tv-if=\"store.state.currentUserVisibleError\"\n\t\t\tid=\"user-visible-error\"\n\t\t\t@click=\"hideUserVisibleError\"\n\t\t>\n\t\t\t{{ store.state.currentUserVisibleError }}\n\t\t</div>\n\t\t<ChatInput :network=\"network\" :channel=\"channel\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport socket from \"../js/socket\";\nimport eventbus from \"../js/eventbus\";\nimport ParsedMessage from \"./ParsedMessage.vue\";\nimport MessageList from \"./MessageList.vue\";\nimport ChatInput from \"./ChatInput.vue\";\nimport ChatUserList from \"./ChatUserList.vue\";\nimport SidebarToggle from \"./SidebarToggle.vue\";\nimport MessageSearchForm from \"./MessageSearchForm.vue\";\nimport ListBans from \"./Special/ListBans.vue\";\nimport ListInvites from \"./Special/ListInvites.vue\";\nimport ListChannels from \"./Special/ListChannels.vue\";\nimport ListIgnored from \"./Special/ListIgnored.vue\";\nimport {defineComponent, PropType, ref, computed, watch, nextTick, onMounted, Component} from \"vue\";\nimport type {ClientNetwork, ClientChan} from \"../js/types\";\nimport {useStore} from \"../js/store\";\n\nexport default defineComponent({\n\tname: \"Chat\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tMessageList,\n\t\tChatInput,\n\t\tChatUserList,\n\t\tSidebarToggle,\n\t\tMessageSearchForm,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t\tfocused: Number,\n\t},\n\temits: [\"channel-changed\"],\n\tsetup(props, {emit}) {\n\t\tconst store = useStore();\n\n\t\tconst messageList = ref<typeof MessageList>();\n\t\tconst topicInput = ref<HTMLInputElement | null>(null);\n\n\t\tconst specialComponent = computed(() => {\n\t\t\tswitch (props.channel.special) {\n\t\t\t\tcase \"list_bans\":\n\t\t\t\t\treturn ListBans as Component;\n\t\t\t\tcase \"list_invites\":\n\t\t\t\t\treturn ListInvites as Component;\n\t\t\t\tcase \"list_channels\":\n\t\t\t\t\treturn ListChannels as Component;\n\t\t\t\tcase \"list_ignored\":\n\t\t\t\t\treturn ListIgnored as Component;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t});\n\n\t\tconst channelChanged = () => {\n\t\t\t// Triggered when active channel is set or changed\n\t\t\temit(\"channel-changed\", props.channel);\n\n\t\t\tsocket.emit(\"open\", props.channel.id);\n\n\t\t\tif (props.channel.usersOutdated) {\n\t\t\t\tprops.channel.usersOutdated = false;\n\n\t\t\t\tsocket.emit(\"names\", {\n\t\t\t\t\ttarget: props.channel.id,\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst hideUserVisibleError = () => {\n\t\t\tstore.commit(\"currentUserVisibleError\", null);\n\t\t};\n\n\t\tconst editTopic = () => {\n\t\t\tif (props.channel.type === \"channel\") {\n\t\t\t\tprops.channel.editTopic = true;\n\t\t\t}\n\t\t};\n\n\t\tconst saveTopic = () => {\n\t\t\tprops.channel.editTopic = false;\n\n\t\t\tif (!topicInput.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newTopic = topicInput.value.value;\n\n\t\t\tif (props.channel.topic !== newTopic) {\n\t\t\t\tconst target = props.channel.id;\n\t\t\t\tconst text = `/raw TOPIC ${props.channel.name} :${newTopic}`;\n\t\t\t\tsocket.emit(\"input\", {target, text});\n\t\t\t}\n\t\t};\n\n\t\tconst openContextMenu = (event: any) => {\n\t\t\teventbus.emit(\"contextmenu:channel\", {\n\t\t\t\tevent: event,\n\t\t\t\tchannel: props.channel,\n\t\t\t\tnetwork: props.network,\n\t\t\t});\n\t\t};\n\n\t\tconst openMentions = (event: any) => {\n\t\t\teventbus.emit(\"mentions:toggle\", {\n\t\t\t\tevent: event,\n\t\t\t});\n\t\t};\n\n\t\twatch(\n\t\t\t() => props.channel,\n\t\t\t() => {\n\t\t\t\tchannelChanged();\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => props.channel.editTopic,\n\t\t\t(newTopic) => {\n\t\t\t\tif (newTopic) {\n\t\t\t\t\tvoid nextTick(() => {\n\t\t\t\t\t\ttopicInput.value?.focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tonMounted(() => {\n\t\t\tchannelChanged();\n\n\t\t\tif (props.channel.editTopic) {\n\t\t\t\tvoid nextTick(() => {\n\t\t\t\t\ttopicInput.value?.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tmessageList,\n\t\t\ttopicInput,\n\t\t\tspecialComponent,\n\t\t\thideUserVisibleError,\n\t\t\teditTopic,\n\t\t\tsaveTopic,\n\t\t\topenContextMenu,\n\t\t\topenMentions,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<form id=\"form\" method=\"post\" action=\"\" @submit.prevent=\"onSubmit\">\n\t\t<span id=\"upload-progressbar\" />\n\t\t<span id=\"nick\">{{ network.nick }}</span>\n\t\t<textarea\n\t\t\tid=\"input\"\n\t\t\tref=\"input\"\n\t\t\tdir=\"auto\"\n\t\t\tclass=\"mousetrap\"\n\t\t\tenterkeyhint=\"send\"\n\t\t\t:value=\"channel.pendingMessage\"\n\t\t\t:placeholder=\"getInputPlaceholder(channel)\"\n\t\t\t:aria-label=\"getInputPlaceholder(channel)\"\n\t\t\t@input=\"setPendingMessage\"\n\t\t\t@keypress.enter.exact.prevent=\"onSubmit\"\n\t\t\t@blur=\"onBlur\"\n\t\t/>\n\t\t<span\n\t\t\tv-if=\"store.state.serverConfiguration?.fileUpload\"\n\t\t\tid=\"upload-tooltip\"\n\t\t\tclass=\"tooltipped tooltipped-w tooltipped-no-touch\"\n\t\t\taria-label=\"Upload file\"\n\t\t\t@click=\"openFileUpload\"\n\t\t>\n\t\t\t<input\n\t\t\t\tid=\"upload-input\"\n\t\t\t\tref=\"uploadInput\"\n\t\t\t\ttype=\"file\"\n\t\t\t\taria-labelledby=\"upload\"\n\t\t\t\tmultiple\n\t\t\t\t@change=\"onUploadInputChange\"\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tid=\"upload\"\n\t\t\t\ttype=\"button\"\n\t\t\t\taria-label=\"Upload file\"\n\t\t\t\t:disabled=\"!store.state.isConnected\"\n\t\t\t/>\n\t\t</span>\n\t\t<span\n\t\t\tid=\"submit-tooltip\"\n\t\t\tclass=\"tooltipped tooltipped-w tooltipped-no-touch\"\n\t\t\taria-label=\"Send message\"\n\t\t>\n\t\t\t<button\n\t\t\t\tid=\"submit\"\n\t\t\t\ttype=\"submit\"\n\t\t\t\taria-label=\"Send message\"\n\t\t\t\t:disabled=\"!store.state.isConnected\"\n\t\t\t/>\n\t\t</span>\n\t</form>\n</template>\n\n<script lang=\"ts\">\nimport Mousetrap from \"mousetrap\";\nimport {wrapCursor} from \"undate\";\nimport autocompletion from \"../js/autocompletion\";\nimport commands from \"../js/commands/index\";\nimport socket from \"../js/socket\";\nimport upload from \"../js/upload\";\nimport eventbus from \"../js/eventbus\";\nimport {watch, defineComponent, nextTick, onMounted, PropType, ref, onUnmounted} from \"vue\";\nimport type {ClientNetwork, ClientChan} from \"../js/types\";\nimport {useStore} from \"../js/store\";\n\nconst formattingHotkeys = {\n\t\"mod+k\": \"\\x03\",\n\t\"mod+b\": \"\\x02\",\n\t\"mod+u\": \"\\x1F\",\n\t\"mod+i\": \"\\x1D\",\n\t\"mod+o\": \"\\x0F\",\n\t\"mod+s\": \"\\x1e\",\n\t\"mod+m\": \"\\x11\",\n};\n\n// Autocomplete bracket and quote characters like in a modern IDE\n// For example, select `text`, press `[` key, and it becomes `[text]`\nconst bracketWraps = {\n\t'\"': '\"',\n\t\"'\": \"'\",\n\t\"(\": \")\",\n\t\"<\": \">\",\n\t\"[\": \"]\",\n\t\"{\": \"}\",\n\t\"*\": \"*\",\n\t\"`\": \"`\",\n\t\"~\": \"~\",\n\t_: \"_\",\n};\n\nexport default defineComponent({\n\tname: \"ChatInput\",\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\t\tconst input = ref<HTMLTextAreaElement>();\n\t\tconst uploadInput = ref<HTMLInputElement>();\n\t\tconst autocompletionRef = ref<ReturnType<typeof autocompletion>>();\n\n\t\tconst setInputSize = () => {\n\t\t\tvoid nextTick(() => {\n\t\t\t\tif (!input.value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst style = window.getComputedStyle(input.value);\n\t\t\t\tconst lineHeight = parseFloat(style.lineHeight) || 1;\n\n\t\t\t\t// Start by resetting height before computing as scrollHeight does not\n\t\t\t\t// decrease when deleting characters\n\t\t\t\tinput.value.style.height = \"\";\n\n\t\t\t\t// Use scrollHeight to calculate how many lines there are in input, and ceil the value\n\t\t\t\t// because some browsers tend to incorrently round the values when using high density\n\t\t\t\t// displays or using page zoom feature\n\t\t\t\tinput.value.style.height = `${\n\t\t\t\t\tMath.ceil(input.value.scrollHeight / lineHeight) * lineHeight\n\t\t\t\t}px`;\n\t\t\t});\n\t\t};\n\n\t\tconst setPendingMessage = (e: Event) => {\n\t\t\tprops.channel.pendingMessage = (e.target as HTMLInputElement).value;\n\t\t\tprops.channel.inputHistoryPosition = 0;\n\t\t\tsetInputSize();\n\t\t};\n\n\t\tconst getInputPlaceholder = (channel: ClientChan) => {\n\t\t\tif (channel.type === \"channel\" || channel.type === \"query\") {\n\t\t\t\treturn `Write to ${channel.name}`;\n\t\t\t}\n\n\t\t\treturn \"\";\n\t\t};\n\n\t\tconst onSubmit = () => {\n\t\t\tif (!input.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Triggering click event opens the virtual keyboard on mobile\n\t\t\t// This can only be called from another interactive event (e.g. button click)\n\t\t\tinput.value.click();\n\t\t\tinput.value.focus();\n\n\t\t\tif (!store.state.isConnected) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst target = props.channel.id;\n\t\t\tconst text = props.channel.pendingMessage;\n\n\t\t\tif (text.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (autocompletionRef.value) {\n\t\t\t\tautocompletionRef.value.hide();\n\t\t\t}\n\n\t\t\tprops.channel.inputHistoryPosition = 0;\n\t\t\tprops.channel.pendingMessage = \"\";\n\t\t\tinput.value.value = \"\";\n\t\t\tsetInputSize();\n\n\t\t\t// Store new message in history if last message isn't already equal\n\t\t\tif (props.channel.inputHistory[1] !== text) {\n\t\t\t\tprops.channel.inputHistory.splice(1, 0, text);\n\t\t\t}\n\n\t\t\t// Limit input history to a 100 entries\n\t\t\tif (props.channel.inputHistory.length > 100) {\n\t\t\t\tprops.channel.inputHistory.pop();\n\t\t\t}\n\n\t\t\tif (text[0] === \"/\") {\n\t\t\t\tconst args = text.substring(1).split(\" \");\n\t\t\t\tconst cmd = args.shift()?.toLowerCase();\n\n\t\t\t\tif (!cmd) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tObject.prototype.hasOwnProperty.call(commands, cmd) &&\n\t\t\t\t\tcommands[cmd].input(args)\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsocket.emit(\"input\", {target, text});\n\t\t};\n\n\t\tconst onUploadInputChange = () => {\n\t\t\tif (!uploadInput.value || !uploadInput.value.files) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst files = Array.from(uploadInput.value.files);\n\t\t\tupload.triggerUpload(files);\n\t\t\tuploadInput.value.value = \"\"; // Reset <input> element so you can upload the same file\n\t\t};\n\n\t\tconst openFileUpload = () => {\n\t\t\tuploadInput.value?.click();\n\t\t};\n\n\t\tconst blurInput = () => {\n\t\t\tinput.value?.blur();\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tif (autocompletionRef.value) {\n\t\t\t\tautocompletionRef.value.hide();\n\t\t\t}\n\t\t};\n\n\t\twatch(\n\t\t\t() => props.channel.id,\n\t\t\t() => {\n\t\t\t\tif (autocompletionRef.value) {\n\t\t\t\t\tautocompletionRef.value.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => props.channel.pendingMessage,\n\t\t\t() => {\n\t\t\t\tsetInputSize();\n\t\t\t}\n\t\t);\n\n\t\tonMounted(() => {\n\t\t\teventbus.on(\"escapekey\", blurInput);\n\n\t\t\tif (store.state.settings.autocomplete) {\n\t\t\t\tif (!input.value) {\n\t\t\t\t\tthrow new Error(\"ChatInput autocomplete: input element is not available\");\n\t\t\t\t}\n\n\t\t\t\tautocompletionRef.value = autocompletion(input.value);\n\t\t\t}\n\n\t\t\tconst inputTrap = Mousetrap(input.value);\n\n\t\t\tinputTrap.bind(Object.keys(formattingHotkeys), function (e, key) {\n\t\t\t\tconst modifier = formattingHotkeys[key];\n\n\t\t\t\tif (!e.target) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twrapCursor(\n\t\t\t\t\te.target as HTMLTextAreaElement,\n\t\t\t\t\tmodifier,\n\t\t\t\t\t(e.target as HTMLTextAreaElement).selectionStart ===\n\t\t\t\t\t\t(e.target as HTMLTextAreaElement).selectionEnd\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: modifier\n\t\t\t\t);\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tinputTrap.bind(Object.keys(bracketWraps), function (e, key) {\n\t\t\t\tif (\n\t\t\t\t\t(e.target as HTMLTextAreaElement)?.selectionStart !==\n\t\t\t\t\t(e.target as HTMLTextAreaElement).selectionEnd\n\t\t\t\t) {\n\t\t\t\t\twrapCursor(e.target as HTMLTextAreaElement, key, bracketWraps[key]);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tinputTrap.bind([\"up\", \"down\"], (e, key) => {\n\t\t\t\tif (\n\t\t\t\t\tstore.state.isAutoCompleting ||\n\t\t\t\t\t(e.target as HTMLTextAreaElement).selectionStart !==\n\t\t\t\t\t\t(e.target as HTMLTextAreaElement).selectionEnd ||\n\t\t\t\t\t!input.value\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst onRow = (\n\t\t\t\t\tinput.value.value.slice(undefined, input.value.selectionStart).match(/\\n/g) ||\n\t\t\t\t\t[]\n\t\t\t\t).length;\n\t\t\t\tconst totalRows = (input.value.value.match(/\\n/g) || []).length;\n\n\t\t\t\tconst {channel} = props;\n\n\t\t\t\tif (channel.inputHistoryPosition === 0) {\n\t\t\t\t\tchannel.inputHistory[channel.inputHistoryPosition] = channel.pendingMessage;\n\t\t\t\t}\n\n\t\t\t\tif (key === \"up\" && onRow === 0) {\n\t\t\t\t\tif (channel.inputHistoryPosition < channel.inputHistory.length - 1) {\n\t\t\t\t\t\tchannel.inputHistoryPosition++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\tkey === \"down\" &&\n\t\t\t\t\tchannel.inputHistoryPosition > 0 &&\n\t\t\t\t\tonRow === totalRows\n\t\t\t\t) {\n\t\t\t\t\tchannel.inputHistoryPosition--;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tchannel.pendingMessage = channel.inputHistory[channel.inputHistoryPosition];\n\t\t\t\tinput.value.value = channel.pendingMessage;\n\t\t\t\tsetInputSize();\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (store.state.serverConfiguration?.fileUpload) {\n\t\t\t\tupload.mounted();\n\t\t\t}\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\teventbus.off(\"escapekey\", blurInput);\n\n\t\t\tif (autocompletionRef.value) {\n\t\t\t\tautocompletionRef.value.destroy();\n\t\t\t\tautocompletionRef.value = undefined;\n\t\t\t}\n\n\t\t\tupload.unmounted();\n\t\t\tupload.abort();\n\t\t});\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tinput,\n\t\t\tuploadInput,\n\t\t\tonUploadInputChange,\n\t\t\topenFileUpload,\n\t\t\tblurInput,\n\t\t\tonBlur,\n\t\t\tsetInputSize,\n\t\t\tupload,\n\t\t\tgetInputPlaceholder,\n\t\t\tonSubmit,\n\t\t\tsetPendingMessage,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<aside\n\t\tref=\"userlist\"\n\t\tclass=\"userlist\"\n\t\t:aria-label=\"'User list for ' + channel.name\"\n\t\t@mouseleave=\"removeHoverUser\"\n\t>\n\t\t<div class=\"count\">\n\t\t\t<input\n\t\t\t\tref=\"input\"\n\t\t\t\t:value=\"userSearchInput\"\n\t\t\t\t:placeholder=\"\n\t\t\t\t\tchannel.users.length + ' user' + (channel.users.length === 1 ? '' : 's')\n\t\t\t\t\"\n\t\t\t\ttype=\"search\"\n\t\t\t\tclass=\"search\"\n\t\t\t\taria-label=\"Search among the user list\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t\t@input=\"setUserSearchInput\"\n\t\t\t\t@keydown.up=\"navigateUserList($event, -1)\"\n\t\t\t\t@keydown.down=\"navigateUserList($event, 1)\"\n\t\t\t\t@keydown.page-up=\"navigateUserList($event, -10)\"\n\t\t\t\t@keydown.page-down=\"navigateUserList($event, 10)\"\n\t\t\t\t@keydown.enter=\"selectUser\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"names\">\n\t\t\t<div\n\t\t\t\tv-for=\"(users, mode) in groupedUsers\"\n\t\t\t\t:key=\"mode\"\n\t\t\t\t:class=\"['user-mode', getModeClass(String(mode))]\"\n\t\t\t>\n\t\t\t\t<template v-if=\"userSearchInput.length > 0\">\n\t\t\t\t\t<!-- eslint-disable vue/no-v-text-v-html-on-component -->\n\t\t\t\t\t<Username\n\t\t\t\t\t\tv-for=\"user in users\"\n\t\t\t\t\t\t:key=\"user.original.nick + '-search'\"\n\t\t\t\t\t\t:on-hover=\"hoverUser\"\n\t\t\t\t\t\t:active=\"user.original === activeUser\"\n\t\t\t\t\t\t:user=\"user.original\"\n\t\t\t\t\t\tv-html=\"user.string\"\n\t\t\t\t\t/>\n\t\t\t\t\t<!-- eslint-enable -->\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<Username\n\t\t\t\t\t\tv-for=\"user in users\"\n\t\t\t\t\t\t:key=\"user.nick\"\n\t\t\t\t\t\t:on-hover=\"hoverUser\"\n\t\t\t\t\t\t:active=\"user === activeUser\"\n\t\t\t\t\t\t:user=\"user\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t</aside>\n</template>\n\n<script lang=\"ts\">\nimport {filter as fuzzyFilter} from \"fuzzy\";\nimport {computed, defineComponent, nextTick, PropType, ref} from \"vue\";\nimport type {UserInMessage} from \"../../server/models/msg\";\nimport type {ClientChan, ClientUser} from \"../js/types\";\nimport Username from \"./Username.vue\";\n\nconst modes = {\n\t\"~\": \"owner\",\n\t\"&\": \"admin\",\n\t\"!\": \"admin\",\n\t\"@\": \"op\",\n\t\"%\": \"half-op\",\n\t\"+\": \"voice\",\n\t\"\": \"normal\",\n};\n\nexport default defineComponent({\n\tname: \"ChatUserList\",\n\tcomponents: {\n\t\tUsername,\n\t},\n\tprops: {\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup(props) {\n\t\tconst userSearchInput = ref(\"\");\n\t\tconst activeUser = ref<UserInMessage | null>();\n\t\tconst userlist = ref<HTMLDivElement>();\n\t\tconst filteredUsers = computed(() => {\n\t\t\tif (!userSearchInput.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn fuzzyFilter(userSearchInput.value, props.channel.users, {\n\t\t\t\tpre: \"<b>\",\n\t\t\t\tpost: \"</b>\",\n\t\t\t\textract: (u) => u.nick,\n\t\t\t});\n\t\t});\n\n\t\tconst groupedUsers = computed(() => {\n\t\t\tconst groups = {};\n\n\t\t\tif (userSearchInput.value && filteredUsers.value) {\n\t\t\t\tconst result = filteredUsers.value;\n\n\t\t\t\tfor (const user of result) {\n\t\t\t\t\tconst mode = user.original.modes[0] || \"\";\n\n\t\t\t\t\tif (!groups[mode]) {\n\t\t\t\t\t\tgroups[mode] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prepend user mode to search result\n\t\t\t\t\tuser.string = mode + user.string;\n\n\t\t\t\t\tgroups[mode].push(user);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const user of props.channel.users) {\n\t\t\t\t\tconst mode = user.modes[0] || \"\";\n\n\t\t\t\t\tif (!groups[mode]) {\n\t\t\t\t\t\tgroups[mode] = [user];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroups[mode].push(user);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn groups as {\n\t\t\t\t[mode: string]: (ClientUser & {\n\t\t\t\t\toriginal: UserInMessage;\n\t\t\t\t\tstring: string;\n\t\t\t\t})[];\n\t\t\t};\n\t\t});\n\n\t\tconst setUserSearchInput = (e: Event) => {\n\t\t\tuserSearchInput.value = (e.target as HTMLInputElement).value;\n\t\t};\n\n\t\tconst getModeClass = (mode: string) => {\n\t\t\treturn modes[mode] as typeof modes;\n\t\t};\n\n\t\tconst selectUser = () => {\n\t\t\t// Simulate a click on the active user to open the context menu.\n\t\t\t// Coordinates are provided to position the menu correctly.\n\t\t\tif (!activeUser.value || !userlist.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst el = userlist.value.querySelector(\".active\");\n\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst rect = el.getBoundingClientRect();\n\t\t\tconst ev = new MouseEvent(\"click\", {\n\t\t\t\tview: window,\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true,\n\t\t\t\tclientX: rect.left,\n\t\t\t\tclientY: rect.top + rect.height,\n\t\t\t});\n\t\t\tel.dispatchEvent(ev);\n\t\t};\n\n\t\tconst hoverUser = (user: UserInMessage) => {\n\t\t\tactiveUser.value = user;\n\t\t};\n\n\t\tconst removeHoverUser = () => {\n\t\t\tactiveUser.value = null;\n\t\t};\n\n\t\tconst scrollToActiveUser = () => {\n\t\t\t// Scroll the list if needed after the active class is applied\n\t\t\tvoid nextTick(() => {\n\t\t\t\tconst el = userlist.value?.querySelector(\".active\");\n\t\t\t\tel?.scrollIntoView({block: \"nearest\", inline: \"nearest\"});\n\t\t\t});\n\t\t};\n\n\t\tconst navigateUserList = (event: Event, direction: number) => {\n\t\t\t// Prevent propagation to stop global keybind handler from capturing pagedown/pageup\n\t\t\t// and redirecting it to the message list container for scrolling\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\tlet users = props.channel.users;\n\n\t\t\t// Only using filteredUsers when we have to avoids filtering when it's not needed\n\t\t\tif (userSearchInput.value && filteredUsers.value) {\n\t\t\t\tusers = filteredUsers.value.map((result) => result.original);\n\t\t\t}\n\n\t\t\t// Bail out if there's no users to select\n\t\t\tif (!users.length) {\n\t\t\t\tactiveUser.value = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst abort = () => {\n\t\t\t\tactiveUser.value = direction ? users[0] : users[users.length - 1];\n\t\t\t\tscrollToActiveUser();\n\t\t\t};\n\n\t\t\t// If there's no active user select the first or last one depending on direction\n\t\t\tif (!activeUser.value) {\n\t\t\t\tabort();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet currentIndex = users.indexOf(activeUser.value as ClientUser);\n\n\t\t\tif (currentIndex === -1) {\n\t\t\t\tabort();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcurrentIndex += direction;\n\n\t\t\t// Wrap around the list if necessary. Normaly each loop iterates once at most,\n\t\t\t// but might iterate more often if pgup or pgdown are used in a very short user list\n\t\t\twhile (currentIndex < 0) {\n\t\t\t\tcurrentIndex += users.length;\n\t\t\t}\n\n\t\t\twhile (currentIndex > users.length - 1) {\n\t\t\t\tcurrentIndex -= users.length;\n\t\t\t}\n\n\t\t\tactiveUser.value = users[currentIndex];\n\t\t\tscrollToActiveUser();\n\t\t};\n\n\t\treturn {\n\t\t\tfilteredUsers,\n\t\t\tgroupedUsers,\n\t\t\tuserSearchInput,\n\t\t\tactiveUser,\n\t\t\tuserlist,\n\n\t\t\tsetUserSearchInput,\n\t\t\tgetModeClass,\n\t\t\tselectUser,\n\t\t\thoverUser,\n\t\t\tremoveHoverUser,\n\t\t\tnavigateUserList,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"confirm-dialog-overlay\" :class=\"{opened: !!data}\">\n\t\t<div v-if=\"data !== null\" id=\"confirm-dialog\">\n\t\t\t<div class=\"confirm-text\">\n\t\t\t\t<div class=\"confirm-text-title\">{{ data?.title }}</div>\n\t\t\t\t<p>{{ data?.text }}</p>\n\t\t\t</div>\n\t\t\t<div class=\"confirm-buttons\">\n\t\t\t\t<button class=\"btn btn-cancel\" @click=\"close(false)\">Cancel</button>\n\t\t\t\t<button class=\"btn btn-danger\" @click=\"close(true)\">{{ data?.button }}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n#confirm-dialog {\n\tbackground: var(--body-bg-color);\n\tcolor: #fff;\n\tmargin: 10px;\n\tborder-radius: 5px;\n\tmax-width: 500px;\n}\n\n#confirm-dialog .confirm-text {\n\tpadding: 15px;\n\tuser-select: text;\n}\n\n#confirm-dialog .confirm-text-title {\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tmargin-bottom: 10px;\n}\n\n#confirm-dialog .confirm-buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding: 15px;\n\tbackground: rgba(0, 0, 0, 0.3);\n}\n\n#confirm-dialog .confirm-buttons .btn {\n\tmargin-bottom: 0;\n\tmargin-left: 10px;\n}\n\n#confirm-dialog .confirm-buttons .btn-cancel {\n\tborder-color: transparent;\n}\n</style>\n\n<script lang=\"ts\">\nimport eventbus from \"../js/eventbus\";\nimport {defineComponent, onMounted, onUnmounted, ref} from \"vue\";\n\ntype ConfirmDialogData = {\n\ttitle: string;\n\ttext: string;\n\tbutton: string;\n};\n\ntype ConfirmDialogCallback = {\n\t(confirmed: boolean): void;\n};\n\nexport default defineComponent({\n\tname: \"ConfirmDialog\",\n\tsetup() {\n\t\tconst data = ref<ConfirmDialogData>();\n\t\tconst callback = ref<ConfirmDialogCallback>();\n\n\t\tconst open = (incoming: ConfirmDialogData, cb: ConfirmDialogCallback) => {\n\t\t\tdata.value = incoming;\n\t\t\tcallback.value = cb;\n\t\t};\n\n\t\tconst close = (result: boolean) => {\n\t\t\tdata.value = undefined;\n\n\t\t\tif (callback.value) {\n\t\t\t\tcallback.value(!!result);\n\t\t\t}\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\teventbus.on(\"escapekey\", close);\n\t\t\teventbus.on(\"confirm-dialog\", open);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\teventbus.off(\"escapekey\", close);\n\t\t\teventbus.off(\"confirm-dialog\", open);\n\t\t});\n\n\t\treturn {\n\t\t\tdata,\n\t\t\tclose,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\tv-if=\"isOpen\"\n\t\tid=\"context-menu-container\"\n\t\t:class=\"{passthrough}\"\n\t\t@click=\"containerClick\"\n\t\t@contextmenu.prevent=\"containerClick\"\n\t\t@keydown.exact.up.prevent=\"navigateMenu(-1)\"\n\t\t@keydown.exact.down.prevent=\"navigateMenu(1)\"\n\t\t@keydown.exact.tab.prevent=\"navigateMenu(1)\"\n\t\t@keydown.shift.tab.prevent=\"navigateMenu(-1)\"\n\t>\n\t\t<ul\n\t\t\tid=\"context-menu\"\n\t\t\tref=\"contextMenu\"\n\t\t\trole=\"menu\"\n\t\t\t:style=\"{\n\t\t\t\ttop: style.top + 'px',\n\t\t\t\tleft: style.left + 'px',\n\t\t\t}\"\n\t\t\ttabindex=\"-1\"\n\t\t\t@mouseleave=\"activeItem = -1\"\n\t\t\t@keydown.enter.prevent=\"clickActiveItem\"\n\t\t>\n\t\t\t<!-- TODO: type -->\n\t\t\t<template v-for=\"(item, id) of (items as any)\" :key=\"item.name\">\n\t\t\t\t<li\n\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t'context-menu-' + item.type,\n\t\t\t\t\t\titem.class ? 'context-menu-' + item.class : null,\n\t\t\t\t\t\t{active: id === activeItem},\n\t\t\t\t\t]\"\n\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t@mouseenter=\"hoverItem(id)\"\n\t\t\t\t\t@click=\"clickItem(item)\"\n\t\t\t\t>\n\t\t\t\t\t{{ item.label }}\n\t\t\t\t</li>\n\t\t\t</template>\n\t\t</ul>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n\tgenerateUserContextMenu,\n\tgenerateChannelContextMenu,\n\tgenerateInlineChannelContextMenu,\n\tContextMenuItem,\n} from \"../js/helpers/contextMenu\";\nimport eventbus from \"../js/eventbus\";\nimport {defineComponent, nextTick, onMounted, onUnmounted, PropType, ref} from \"vue\";\nimport {ClientChan, ClientMessage, ClientNetwork, ClientUser} from \"../js/types\";\nimport {useStore} from \"../js/store\";\nimport {useRouter} from \"vue-router\";\n\nexport default defineComponent({\n\tname: \"ContextMenu\",\n\tprops: {\n\t\tmessage: {\n\t\t\trequired: false,\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t},\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst router = useRouter();\n\n\t\tconst isOpen = ref(false);\n\t\tconst passthrough = ref(false);\n\n\t\tconst contextMenu = ref<HTMLUListElement | null>();\n\t\tconst previousActiveElement = ref<HTMLElement | null>();\n\t\tconst items = ref<ContextMenuItem[]>([]);\n\t\tconst activeItem = ref(-1);\n\t\tconst style = ref({\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t});\n\n\t\tconst close = () => {\n\t\t\tif (!isOpen.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tisOpen.value = false;\n\t\t\titems.value = [];\n\n\t\t\tif (previousActiveElement.value) {\n\t\t\t\tpreviousActiveElement.value.focus();\n\t\t\t\tpreviousActiveElement.value = null;\n\t\t\t}\n\t\t};\n\n\t\tconst enablePointerEvents = () => {\n\t\t\tpassthrough.value = false;\n\t\t\tdocument.body.removeEventListener(\"pointerup\", enablePointerEvents);\n\t\t};\n\n\t\tconst containerClick = (event: MouseEvent) => {\n\t\t\tif (event.currentTarget === event.target) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t};\n\n\t\tconst positionContextMenu = (event: MouseEvent) => {\n\t\t\tconst element = event.target as HTMLElement;\n\n\t\t\tif (!contextMenu.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst menuWidth = contextMenu.value?.offsetWidth;\n\t\t\tconst menuHeight = contextMenu.value?.offsetHeight;\n\n\t\t\tif (element && element.classList.contains(\"menu\")) {\n\t\t\t\treturn {\n\t\t\t\t\tleft: element.getBoundingClientRect().left - (menuWidth - element.offsetWidth),\n\t\t\t\t\ttop: element.getBoundingClientRect().top + element.offsetHeight,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst offset = {left: event.pageX, top: event.pageY};\n\n\t\t\tif (window.innerWidth - offset.left < menuWidth) {\n\t\t\t\toffset.left = window.innerWidth - menuWidth;\n\t\t\t}\n\n\t\t\tif (window.innerHeight - offset.top < menuHeight) {\n\t\t\t\toffset.top = window.innerHeight - menuHeight;\n\t\t\t}\n\n\t\t\treturn offset;\n\t\t};\n\n\t\tconst hoverItem = (id: number) => {\n\t\t\tactiveItem.value = id;\n\t\t};\n\n\t\tconst clickItem = (item: ContextMenuItem) => {\n\t\t\tclose();\n\n\t\t\tif (\"action\" in item && item.action) {\n\t\t\t\titem.action();\n\t\t\t} else if (\"link\" in item && item.link) {\n\t\t\t\trouter.push(item.link).catch(() => {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.error(\"Failed to navigate to\", item.link);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst clickActiveItem = () => {\n\t\t\tif (items.value[activeItem.value]) {\n\t\t\t\tclickItem(items.value[activeItem.value]);\n\t\t\t}\n\t\t};\n\n\t\tconst open = (event: MouseEvent, newItems: ContextMenuItem[]) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tpreviousActiveElement.value = document.activeElement as HTMLElement;\n\t\t\titems.value = newItems;\n\t\t\tactiveItem.value = 0;\n\t\t\tisOpen.value = true;\n\n\t\t\t// Position the menu and set the focus on the first item after it's size has updated\n\t\t\tnextTick(() => {\n\t\t\t\tconst pos = positionContextMenu(event);\n\n\t\t\t\tif (!pos) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstyle.value.left = pos.left;\n\t\t\t\tstyle.value.top = pos.top;\n\t\t\t\tcontextMenu.value?.focus();\n\t\t\t}).catch((e) => {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t\t};\n\n\t\tconst openChannelContextMenu = (data: {\n\t\t\tevent: MouseEvent;\n\t\t\tchannel: ClientChan;\n\t\t\tnetwork: ClientNetwork;\n\t\t}) => {\n\t\t\tif (data.event.type === \"contextmenu\") {\n\t\t\t\t// Pass through all pointer events to allow the network list's\n\t\t\t\t// dragging events to continue triggering.\n\t\t\t\tpassthrough.value = true;\n\t\t\t\tdocument.body.addEventListener(\"pointerup\", enablePointerEvents, {\n\t\t\t\t\tpassive: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst newItems = generateChannelContextMenu(data.channel, data.network);\n\t\t\topen(data.event, newItems);\n\t\t};\n\n\t\tconst openInlineChannelContextMenu = (data: {channel: string; event: MouseEvent}) => {\n\t\t\tconst {network} = store.state.activeChannel;\n\t\t\tconst newItems = generateInlineChannelContextMenu(store, data.channel, network);\n\n\t\t\topen(data.event, newItems);\n\t\t};\n\n\t\tconst openUserContextMenu = (data: {\n\t\t\tuser: Pick<ClientUser, \"nick\" | \"modes\">;\n\t\t\tevent: MouseEvent;\n\t\t}) => {\n\t\t\tconst {network, channel} = store.state.activeChannel;\n\n\t\t\tconst newItems = generateUserContextMenu(\n\t\t\t\tstore,\n\t\t\t\tchannel,\n\t\t\t\tnetwork,\n\t\t\t\tchannel.users.find((u) => u.nick === data.user.nick) || {\n\t\t\t\t\tnick: data.user.nick,\n\t\t\t\t\tmodes: [],\n\t\t\t\t}\n\t\t\t);\n\t\t\topen(data.event, newItems);\n\t\t};\n\n\t\tconst navigateMenu = (direction: number) => {\n\t\t\tlet currentIndex = activeItem.value;\n\n\t\t\tcurrentIndex += direction;\n\n\t\t\tconst nextItem = items.value[currentIndex];\n\n\t\t\t// If the next item we would select is a divider, skip over it\n\t\t\tif (nextItem && \"type\" in nextItem && nextItem.type === \"divider\") {\n\t\t\t\tcurrentIndex += direction;\n\t\t\t}\n\n\t\t\tif (currentIndex < 0) {\n\t\t\t\tcurrentIndex += items.value.length;\n\t\t\t}\n\n\t\t\tif (currentIndex > items.value.length - 1) {\n\t\t\t\tcurrentIndex -= items.value.length;\n\t\t\t}\n\n\t\t\tactiveItem.value = currentIndex;\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\teventbus.on(\"escapekey\", close);\n\t\t\teventbus.on(\"contextmenu:cancel\", close);\n\t\t\teventbus.on(\"contextmenu:user\", openUserContextMenu);\n\t\t\teventbus.on(\"contextmenu:channel\", openChannelContextMenu);\n\t\t\teventbus.on(\"contextmenu:inline-channel\", openInlineChannelContextMenu);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\teventbus.off(\"escapekey\", close);\n\t\t\teventbus.off(\"contextmenu:cancel\", close);\n\t\t\teventbus.off(\"contextmenu:user\", openUserContextMenu);\n\t\t\teventbus.off(\"contextmenu:channel\", openChannelContextMenu);\n\t\t\teventbus.off(\"contextmenu:inline-channel\", openInlineChannelContextMenu);\n\n\t\t\tclose();\n\t\t});\n\n\t\treturn {\n\t\t\tisOpen,\n\t\t\titems,\n\t\t\tactiveItem,\n\t\t\tstyle,\n\t\t\tcontextMenu,\n\t\t\tpassthrough,\n\t\t\tclose,\n\t\t\tcontainerClick,\n\t\t\tnavigateMenu,\n\t\t\thoverItem,\n\t\t\tclickItem,\n\t\t\tclickActiveItem,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div :aria-label=\"localeDate\" class=\"date-marker-container tooltipped tooltipped-s\">\n\t\t<div class=\"date-marker\">\n\t\t\t<span :aria-label=\"friendlyDate()\" class=\"date-marker-text\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport dayjs from \"dayjs\";\nimport calendar from \"dayjs/plugin/calendar\";\nimport {computed, defineComponent, onBeforeUnmount, onMounted, PropType} from \"vue\";\nimport eventbus from \"../js/eventbus\";\nimport type {ClientMessage} from \"../js/types\";\n\ndayjs.extend(calendar);\n\nexport default defineComponent({\n\tname: \"DateMarker\",\n\tprops: {\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t\tfocused: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst localeDate = computed(() => dayjs(props.message.time).format(\"D MMMM YYYY\"));\n\n\t\tconst hoursPassed = () => {\n\t\t\treturn (Date.now() - Date.parse(props.message.time.toString())) / 3600000;\n\t\t};\n\n\t\tconst dayChange = () => {\n\t\t\tif (hoursPassed() >= 48) {\n\t\t\t\teventbus.off(\"daychange\", dayChange);\n\t\t\t}\n\t\t};\n\n\t\tconst friendlyDate = () => {\n\t\t\t// See http://momentjs.com/docs/#/displaying/calendar-time/\n\t\t\treturn dayjs(props.message.time).calendar(null, {\n\t\t\t\tsameDay: \"[Today]\",\n\t\t\t\tlastDay: \"[Yesterday]\",\n\t\t\t\tlastWeek: \"D MMMM YYYY\",\n\t\t\t\tsameElse: \"D MMMM YYYY\",\n\t\t\t});\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tif (hoursPassed() < 48) {\n\t\t\t\teventbus.on(\"daychange\", dayChange);\n\t\t\t}\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\teventbus.off(\"daychange\", dayChange);\n\t\t});\n\n\t\treturn {\n\t\t\tlocaleDate,\n\t\t\tfriendlyDate,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div ref=\"containerRef\" :class=\"$props.class\">\n\t\t<slot\n\t\t\tv-for=\"(item, index) of list\"\n\t\t\t:key=\"item[itemKey]\"\n\t\t\t:element=\"item\"\n\t\t\t:index=\"index\"\n\t\t\tname=\"item\"\n\t\t></slot>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref, PropType, watch, onUnmounted, onBeforeUnmount} from \"vue\";\nimport Sortable from \"sortablejs\";\n\nconst Props = {\n\tdelay: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t\trequired: false,\n\t},\n\tdelayOnTouchOnly: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t\trequired: false,\n\t},\n\ttouchStartThreshold: {\n\t\ttype: Number,\n\t\tdefault: 10,\n\t\trequired: false,\n\t},\n\thandle: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\tdraggable: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\tghostClass: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\tdragClass: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\tgroup: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\tclass: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n\titemKey: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: true,\n\t},\n\tlist: {\n\t\ttype: Array as PropType<any[]>,\n\t\tdefault: [],\n\t\trequired: true,\n\t},\n\tfilter: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t\trequired: false,\n\t},\n};\n\nexport default defineComponent({\n\tname: \"Draggable\",\n\tprops: Props,\n\temits: [\"change\", \"choose\", \"unchoose\"],\n\tsetup(props, {emit}) {\n\t\tconst containerRef = ref<HTMLElement | null>(null);\n\t\tconst sortable = ref<Sortable | null>(null);\n\n\t\twatch(containerRef, (newDraggable) => {\n\t\t\tif (newDraggable) {\n\t\t\t\tsortable.value = new Sortable(newDraggable, {\n\t\t\t\t\t...props,\n\n\t\t\t\t\tonChoose(event) {\n\t\t\t\t\t\temit(\"choose\", event);\n\t\t\t\t\t},\n\n\t\t\t\t\tonUnchoose(event) {\n\t\t\t\t\t\temit(\"unchoose\", event);\n\t\t\t\t\t},\n\n\t\t\t\t\tonEnd(event) {\n\t\t\t\t\t\temit(\"change\", event);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\tif (sortable.value) {\n\t\t\t\tsortable.value.destroy();\n\t\t\t\tcontainerRef.value = null;\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tcontainerRef,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\tid=\"image-viewer\"\n\t\tref=\"viewer\"\n\t\t:class=\"{opened: link !== null}\"\n\t\t@wheel=\"onMouseWheel\"\n\t\t@touchstart.passive=\"onTouchStart\"\n\t\t@click=\"onClick\"\n\t>\n\t\t<template v-if=\"link !== null\">\n\t\t\t<button class=\"close-btn\" aria-label=\"Close\"></button>\n\n\t\t\t<button\n\t\t\t\tv-if=\"previousImage\"\n\t\t\t\tclass=\"previous-image-btn\"\n\t\t\t\taria-label=\"Previous image\"\n\t\t\t\t@click.stop=\"previous\"\n\t\t\t></button>\n\t\t\t<button\n\t\t\t\tv-if=\"nextImage\"\n\t\t\t\tclass=\"next-image-btn\"\n\t\t\t\taria-label=\"Next image\"\n\t\t\t\t@click.stop=\"next\"\n\t\t\t></button>\n\n\t\t\t<a class=\"open-btn\" :href=\"link.link\" target=\"_blank\" rel=\"noopener\"></a>\n\n\t\t\t<img\n\t\t\t\tref=\"image\"\n\t\t\t\t:src=\"link.thumb\"\n\t\t\t\talt=\"\"\n\t\t\t\t:style=\"computeImageStyles\"\n\t\t\t\t@load=\"onImageLoad\"\n\t\t\t\t@mousedown=\"onImageMouseDown\"\n\t\t\t\t@touchstart.passive=\"onImageTouchStart\"\n\t\t\t/>\n\t\t</template>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport Mousetrap from \"mousetrap\";\nimport {computed, defineComponent, ref, watch} from \"vue\";\nimport {onBeforeRouteLeave, onBeforeRouteUpdate} from \"vue-router\";\nimport eventbus from \"../js/eventbus\";\nimport {ClientChan, ClientMessage, ClientLinkPreview} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"ImageViewer\",\n\tsetup() {\n\t\tconst viewer = ref<HTMLDivElement>();\n\t\tconst image = ref<HTMLImageElement>();\n\n\t\tconst link = ref<ClientLinkPreview | null>(null);\n\t\tconst previousImage = ref<ClientLinkPreview | null>();\n\t\tconst nextImage = ref<ClientLinkPreview | null>();\n\t\tconst channel = ref<ClientChan | null>();\n\n\t\tconst position = ref<{\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t}>({\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t});\n\n\t\tconst transform = ref<{\n\t\t\tscale: number;\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t}>({\n\t\t\tscale: 1,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t});\n\n\t\tconst computeImageStyles = computed(() => {\n\t\t\t// Sub pixels may cause the image to blur in certain browsers\n\t\t\t// round it down to prevent that\n\t\t\tconst transformX = Math.floor(transform.value.x);\n\t\t\tconst transformY = Math.floor(transform.value.y);\n\n\t\t\treturn {\n\t\t\t\tleft: `${position.value.x}px`,\n\t\t\t\ttop: `${position.value.y}px`,\n\t\t\t\ttransform: `translate3d(${transformX}px, ${transformY}px, 0) scale3d(${transform.value.scale}, ${transform.value.scale}, 1)`,\n\t\t\t};\n\t\t});\n\n\t\tconst closeViewer = () => {\n\t\t\tif (link.value === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tchannel.value = null;\n\t\t\tpreviousImage.value = null;\n\t\t\tnextImage.value = null;\n\t\t\tlink.value = null;\n\t\t};\n\n\t\tconst setPrevNextImages = () => {\n\t\t\tif (!channel.value || !link.value) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst links = channel.value.messages\n\t\t\t\t.map((msg) => msg.previews)\n\t\t\t\t.flat()\n\t\t\t\t.filter((preview) => preview.thumb);\n\n\t\t\tconst currentIndex = links.indexOf(link.value);\n\n\t\t\tpreviousImage.value = links[currentIndex - 1] || null;\n\t\t\tnextImage.value = links[currentIndex + 1] || null;\n\t\t};\n\n\t\tconst previous = () => {\n\t\t\tif (previousImage.value) {\n\t\t\t\tlink.value = previousImage.value;\n\t\t\t}\n\t\t};\n\n\t\tconst next = () => {\n\t\t\tif (nextImage.value) {\n\t\t\t\tlink.value = nextImage.value;\n\t\t\t}\n\t\t};\n\n\t\tconst prepareImage = () => {\n\t\t\tconst viewerEl = viewer.value;\n\t\t\tconst imageEl = image.value;\n\n\t\t\tif (!viewerEl || !imageEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst width = viewerEl.offsetWidth;\n\t\t\tconst height = viewerEl.offsetHeight;\n\t\t\tconst scale = Math.min(1, width / imageEl.width, height / imageEl.height);\n\n\t\t\tposition.value.x = Math.floor(-image.value!.naturalWidth / 2);\n\t\t\tposition.value.y = Math.floor(-image.value!.naturalHeight / 2);\n\t\t\ttransform.value.scale = Math.max(scale, 0.1);\n\t\t\ttransform.value.x = width / 2;\n\t\t\ttransform.value.y = height / 2;\n\t\t};\n\n\t\tconst onImageLoad = () => {\n\t\t\tprepareImage();\n\t\t};\n\n\t\tconst calculateZoomShift = (newScale: number, x: number, y: number, oldScale: number) => {\n\t\t\tif (!image.value || !viewer.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst imageWidth = image.value.width;\n\t\t\tconst centerX = viewer.value.offsetWidth / 2;\n\t\t\tconst centerY = viewer.value.offsetHeight / 2;\n\n\t\t\treturn {\n\t\t\t\tx:\n\t\t\t\t\tcenterX -\n\t\t\t\t\t((centerX - (y - (imageWidth * x) / 2)) / x) * newScale +\n\t\t\t\t\t(imageWidth * newScale) / 2,\n\t\t\t\ty:\n\t\t\t\t\tcenterY -\n\t\t\t\t\t((centerY - (oldScale - (imageWidth * x) / 2)) / x) * newScale +\n\t\t\t\t\t(imageWidth * newScale) / 2,\n\t\t\t};\n\t\t};\n\n\t\tconst correctPosition = () => {\n\t\t\tconst imageEl = image.value;\n\t\t\tconst viewerEl = viewer.value;\n\n\t\t\tif (!imageEl || !viewerEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst widthScaled = imageEl.width * transform.value.scale;\n\t\t\tconst heightScaled = imageEl.height * transform.value.scale;\n\t\t\tconst containerWidth = viewerEl.offsetWidth;\n\t\t\tconst containerHeight = viewerEl.offsetHeight;\n\n\t\t\tif (widthScaled < containerWidth) {\n\t\t\t\ttransform.value.x = containerWidth / 2;\n\t\t\t} else if (transform.value.x - widthScaled / 2 > 0) {\n\t\t\t\ttransform.value.x = widthScaled / 2;\n\t\t\t} else if (transform.value.x + widthScaled / 2 < containerWidth) {\n\t\t\t\ttransform.value.x = containerWidth - widthScaled / 2;\n\t\t\t}\n\n\t\t\tif (heightScaled < containerHeight) {\n\t\t\t\ttransform.value.y = containerHeight / 2;\n\t\t\t} else if (transform.value.y - heightScaled / 2 > 0) {\n\t\t\t\ttransform.value.y = heightScaled / 2;\n\t\t\t} else if (transform.value.y + heightScaled / 2 < containerHeight) {\n\t\t\t\ttransform.value.y = containerHeight - heightScaled / 2;\n\t\t\t}\n\t\t};\n\n\t\t// Reduce multiple touch points into a single x/y/scale\n\t\tconst reduceTouches = (touches: TouchList) => {\n\t\t\tlet totalX = 0;\n\t\t\tlet totalY = 0;\n\t\t\tlet totalScale = 0;\n\n\t\t\tfor (let i = 0; i < touches.length; i++) {\n\t\t\t\tconst x = touches[i].clientX;\n\t\t\t\tconst y = touches[i].clientY;\n\n\t\t\t\ttotalX += x;\n\t\t\t\ttotalY += y;\n\n\t\t\t\tfor (let i2 = 0; i2 < touches.length; i2++) {\n\t\t\t\t\tif (i !== i2) {\n\t\t\t\t\t\tconst x2 = touches[i2].clientX;\n\t\t\t\t\t\tconst y2 = touches[i2].clientY;\n\t\t\t\t\t\ttotalScale += Math.sqrt((x - x2) * (x - x2) + (y - y2) * (y - y2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (totalScale === 0) {\n\t\t\t\ttotalScale = 1;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: totalX / touches.length,\n\t\t\t\ty: totalY / touches.length,\n\t\t\t\tscale: totalScale / touches.length,\n\t\t\t};\n\t\t};\n\n\t\tconst onTouchStart = (e: TouchEvent) => {\n\t\t\t// prevent sidebar touchstart event, we don't want to interact with sidebar while in image viewer\n\t\t\te.stopImmediatePropagation();\n\t\t};\n\n\t\t// Touch image manipulation:\n\t\t// 1. Move around by dragging it with one finger\n\t\t// 2. Change image scale by using two fingers\n\t\tconst onImageTouchStart = (e: TouchEvent) => {\n\t\t\tconst img = image.value;\n\t\t\tlet touch = reduceTouches(e.touches);\n\t\t\tlet currentTouches = e.touches;\n\t\t\tlet touchEndFingers = 0;\n\n\t\t\tconst currentTransform = {\n\t\t\t\tx: touch.x,\n\t\t\t\ty: touch.y,\n\t\t\t\tscale: touch.scale,\n\t\t\t};\n\n\t\t\tconst startTransform = {\n\t\t\t\tx: transform.value.x,\n\t\t\t\ty: transform.value.y,\n\t\t\t\tscale: transform.value.scale,\n\t\t\t};\n\n\t\t\tconst touchMove = (moveEvent) => {\n\t\t\t\ttouch = reduceTouches(moveEvent.touches);\n\n\t\t\t\tif (currentTouches.length !== moveEvent.touches.length) {\n\t\t\t\t\tcurrentTransform.x = touch.x;\n\t\t\t\t\tcurrentTransform.y = touch.y;\n\t\t\t\t\tcurrentTransform.scale = touch.scale;\n\t\t\t\t\tstartTransform.x = transform.value.x;\n\t\t\t\t\tstartTransform.y = transform.value.y;\n\t\t\t\t\tstartTransform.scale = transform.value.scale;\n\t\t\t\t}\n\n\t\t\t\tconst deltaX = touch.x - currentTransform.x;\n\t\t\t\tconst deltaY = touch.y - currentTransform.y;\n\t\t\t\tconst deltaScale = touch.scale / currentTransform.scale;\n\t\t\t\tcurrentTouches = moveEvent.touches;\n\t\t\t\ttouchEndFingers = 0;\n\n\t\t\t\tconst newScale = Math.min(3, Math.max(0.1, startTransform.scale * deltaScale));\n\n\t\t\t\tconst fixedPosition = calculateZoomShift(\n\t\t\t\t\tnewScale,\n\t\t\t\t\tstartTransform.scale,\n\t\t\t\t\tstartTransform.x,\n\t\t\t\t\tstartTransform.y\n\t\t\t\t);\n\n\t\t\t\tif (!fixedPosition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttransform.value.x = fixedPosition.x + deltaX;\n\t\t\t\ttransform.value.y = fixedPosition.y + deltaY;\n\t\t\t\ttransform.value.scale = newScale;\n\t\t\t\tcorrectPosition();\n\t\t\t};\n\n\t\t\tconst touchEnd = (endEvent: TouchEvent) => {\n\t\t\t\tconst changedTouches = endEvent.changedTouches.length;\n\n\t\t\t\tif (currentTouches.length > changedTouches + touchEndFingers) {\n\t\t\t\t\ttouchEndFingers += changedTouches;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// todo: this is swipe to close, but it's not working very well due to unfinished delta calculation\n\t\t\t\t/* if (\n\t\t\t\t\ttransform.value.scale <= 1 &&\n\t\t\t\t\tendEvent.changedTouches[0].clientY - startTransform.y <= -70\n\t\t\t\t) {\n\t\t\t\t\treturn this.closeViewer();\n\t\t\t\t}*/\n\n\t\t\t\tcorrectPosition();\n\n\t\t\t\timg?.removeEventListener(\"touchmove\", touchMove);\n\t\t\t\timg?.removeEventListener(\"touchend\", touchEnd);\n\t\t\t};\n\n\t\t\timg?.addEventListener(\"touchmove\", touchMove, {passive: true});\n\t\t\timg?.addEventListener(\"touchend\", touchEnd, {passive: true});\n\t\t};\n\n\t\t// Image mouse manipulation:\n\t\t// 1. Mouse wheel scrolling will zoom in and out\n\t\t// 2. If image is zoomed in, simply dragging it will move it around\n\t\tconst onImageMouseDown = (e: MouseEvent) => {\n\t\t\t// todo: ignore if in touch event currently?\n\n\t\t\t// only left mouse\n\t\t\t// TODO: e.buttons?\n\t\t\tif (e.which !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tconst viewerEl = viewer.value;\n\t\t\tconst imageEl = image.value;\n\n\t\t\tif (!viewerEl || !imageEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst startX = e.clientX;\n\t\t\tconst startY = e.clientY;\n\t\t\tconst startTransformX = transform.value.x;\n\t\t\tconst startTransformY = transform.value.y;\n\t\t\tconst widthScaled = imageEl.width * transform.value.scale;\n\t\t\tconst heightScaled = imageEl.height * transform.value.scale;\n\t\t\tconst containerWidth = viewerEl.offsetWidth;\n\t\t\tconst containerHeight = viewerEl.offsetHeight;\n\t\t\tconst centerX = transform.value.x - widthScaled / 2;\n\t\t\tconst centerY = transform.value.y - heightScaled / 2;\n\t\t\tlet movedDistance = 0;\n\n\t\t\tconst mouseMove = (moveEvent: MouseEvent) => {\n\t\t\t\tmoveEvent.stopPropagation();\n\t\t\t\tmoveEvent.preventDefault();\n\n\t\t\t\tconst newX = moveEvent.clientX - startX;\n\t\t\t\tconst newY = moveEvent.clientY - startY;\n\n\t\t\t\tmovedDistance = Math.max(movedDistance, Math.abs(newX), Math.abs(newY));\n\n\t\t\t\tif (centerX < 0 || widthScaled + centerX > containerWidth) {\n\t\t\t\t\ttransform.value.x = startTransformX + newX;\n\t\t\t\t}\n\n\t\t\t\tif (centerY < 0 || heightScaled + centerY > containerHeight) {\n\t\t\t\t\ttransform.value.y = startTransformY + newY;\n\t\t\t\t}\n\n\t\t\t\tcorrectPosition();\n\t\t\t};\n\n\t\t\tconst mouseUp = (upEvent: MouseEvent) => {\n\t\t\t\tcorrectPosition();\n\n\t\t\t\tif (movedDistance < 2 && upEvent.button === 0) {\n\t\t\t\t\tcloseViewer();\n\t\t\t\t}\n\n\t\t\t\timage.value?.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\timage.value?.removeEventListener(\"mouseup\", mouseUp);\n\t\t\t};\n\n\t\t\timage.value?.addEventListener(\"mousemove\", mouseMove);\n\t\t\timage.value?.addEventListener(\"mouseup\", mouseUp);\n\t\t};\n\n\t\t// If image is zoomed in, holding ctrl while scrolling will move the image up and down\n\t\tconst onMouseWheel = (e: WheelEvent) => {\n\t\t\t// if image viewer is closing (css animation), you can still trigger mousewheel\n\t\t\t// TODO: Figure out a better fix for this\n\t\t\tif (link.value === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault(); // TODO: Can this be passive?\n\n\t\t\tif (e.ctrlKey) {\n\t\t\t\ttransform.value.y += e.deltaY;\n\t\t\t} else {\n\t\t\t\tconst delta = e.deltaY > 0 ? 0.1 : -0.1;\n\t\t\t\tconst newScale = Math.min(3, Math.max(0.1, transform.value.scale + delta));\n\t\t\t\tconst fixedPosition = calculateZoomShift(\n\t\t\t\t\tnewScale,\n\t\t\t\t\ttransform.value.scale,\n\t\t\t\t\ttransform.value.x,\n\t\t\t\t\ttransform.value.y\n\t\t\t\t);\n\n\t\t\t\tif (!fixedPosition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttransform.value.scale = newScale;\n\t\t\t\ttransform.value.x = fixedPosition.x;\n\t\t\t\ttransform.value.y = fixedPosition.y;\n\t\t\t}\n\n\t\t\tcorrectPosition();\n\t\t};\n\n\t\tconst onClick = (e: Event) => {\n\t\t\t// If click triggers on the image, ignore it\n\t\t\tif (e.target === image.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcloseViewer();\n\t\t};\n\n\t\twatch(link, (newLink, oldLink) => {\n\t\t\t// TODO: history.pushState\n\t\t\tif (newLink === null) {\n\t\t\t\teventbus.off(\"escapekey\", closeViewer);\n\t\t\t\teventbus.off(\"resize\", correctPosition);\n\t\t\t\tMousetrap.unbind(\"left\");\n\t\t\t\tMousetrap.unbind(\"right\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetPrevNextImages();\n\n\t\t\tif (!oldLink) {\n\t\t\t\teventbus.on(\"escapekey\", closeViewer);\n\t\t\t\teventbus.on(\"resize\", correctPosition);\n\t\t\t\tMousetrap.bind(\"left\", previous);\n\t\t\t\tMousetrap.bind(\"right\", next);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tlink,\n\t\t\tchannel,\n\t\t\timage,\n\t\t\ttransform,\n\t\t\tcloseViewer,\n\t\t\tnext,\n\t\t\tprevious,\n\t\t\tonImageLoad,\n\t\t\tonImageMouseDown,\n\t\t\tonMouseWheel,\n\t\t\tonClick,\n\t\t\tonTouchStart,\n\t\t\tpreviousImage,\n\t\t\tnextImage,\n\t\t\tonImageTouchStart,\n\t\t\tcomputeImageStyles,\n\t\t\tviewer,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span\n\t\tclass=\"inline-channel\"\n\t\tdir=\"auto\"\n\t\trole=\"button\"\n\t\ttabindex=\"0\"\n\t\t@click.prevent=\"openContextMenu\"\n\t\t@contextmenu.prevent=\"openContextMenu\"\n\t\t><slot></slot\n\t></span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport eventbus from \"../js/eventbus\";\n\nexport default defineComponent({\n\tname: \"InlineChannel\",\n\tprops: {\n\t\tchannel: String,\n\t},\n\tsetup(props) {\n\t\tconst openContextMenu = (event) => {\n\t\t\teventbus.emit(\"contextmenu:inline-channel\", {\n\t\t\t\tevent: event,\n\t\t\t\tchannel: props.channel,\n\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\topenContextMenu,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<form\n\t\t:id=\"'join-channel-' + channel.id\"\n\t\tclass=\"join-form\"\n\t\tmethod=\"post\"\n\t\taction=\"\"\n\t\tautocomplete=\"off\"\n\t\t@keydown.esc.prevent=\"$emit('toggle-join-channel')\"\n\t\t@submit.prevent=\"onSubmit\"\n\t>\n\t\t<input\n\t\t\tv-model=\"inputChannel\"\n\t\t\tv-focus\n\t\t\ttype=\"text\"\n\t\t\tclass=\"input\"\n\t\t\tname=\"channel\"\n\t\t\tplaceholder=\"Channel\"\n\t\t\tpattern=\"[^\\s]+\"\n\t\t\tmaxlength=\"200\"\n\t\t\ttitle=\"The channel name may not contain spaces\"\n\t\t\trequired\n\t\t/>\n\t\t<input\n\t\t\tv-model=\"inputPassword\"\n\t\t\ttype=\"password\"\n\t\t\tclass=\"input\"\n\t\t\tname=\"key\"\n\t\t\tplaceholder=\"Password (optional)\"\n\t\t\tpattern=\"[^\\s]+\"\n\t\t\tmaxlength=\"200\"\n\t\t\ttitle=\"The channel password may not contain spaces\"\n\t\t\tautocomplete=\"new-password\"\n\t\t/>\n\t\t<button type=\"submit\" class=\"btn btn-small\">Join</button>\n\t</form>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType, ref} from \"vue\";\nimport {switchToChannel} from \"../js/router\";\nimport socket from \"../js/socket\";\nimport {useStore} from \"../js/store\";\nimport {ClientNetwork, ClientChan} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"JoinChannel\",\n\tdirectives: {\n\t\tfocus: {\n\t\t\tmounted: (el: HTMLFormElement) => el.focus(),\n\t\t},\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\temits: [\"toggle-join-channel\"],\n\tsetup(props, {emit}) {\n\t\tconst store = useStore();\n\t\tconst inputChannel = ref(\"\");\n\t\tconst inputPassword = ref(\"\");\n\n\t\tconst onSubmit = () => {\n\t\t\tconst existingChannel = store.getters.findChannelOnCurrentNetwork(inputChannel.value);\n\n\t\t\tif (existingChannel) {\n\t\t\t\tswitchToChannel(existingChannel);\n\t\t\t} else {\n\t\t\t\tconst chanTypes = props.network.serverOptions.CHANTYPES;\n\t\t\t\tlet channel = inputChannel.value;\n\n\t\t\t\tif (chanTypes && chanTypes.length > 0 && !chanTypes.includes(channel[0])) {\n\t\t\t\t\tchannel = chanTypes[0] + channel;\n\t\t\t\t}\n\n\t\t\t\tsocket.emit(\"input\", {\n\t\t\t\t\ttext: `/join ${channel} ${inputPassword.value}`,\n\t\t\t\t\ttarget: props.channel.id,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tinputChannel.value = \"\";\n\t\t\tinputPassword.value = \"\";\n\t\t\temit(\"toggle-join-channel\");\n\t\t};\n\n\t\treturn {\n\t\t\tinputChannel,\n\t\t\tinputPassword,\n\t\t\tonSubmit,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\tv-if=\"link.shown\"\n\t\tv-show=\"link.sourceLoaded || link.type === 'link'\"\n\t\tref=\"container\"\n\t\tclass=\"preview\"\n\t\tdir=\"ltr\"\n\t>\n\t\t<div\n\t\t\tref=\"content\"\n\t\t\t:class=\"['toggle-content', 'toggle-type-' + link.type, {opened: isContentShown}]\"\n\t\t>\n\t\t\t<template v-if=\"link.type === 'link'\">\n\t\t\t\t<a\n\t\t\t\t\tv-if=\"link.thumb\"\n\t\t\t\t\tv-show=\"link.sourceLoaded\"\n\t\t\t\t\t:href=\"link.link\"\n\t\t\t\t\tclass=\"toggle-thumbnail\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t@click=\"onThumbnailClick\"\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\t:src=\"link.thumb\"\n\t\t\t\t\t\tdecoding=\"async\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\tclass=\"thumb\"\n\t\t\t\t\t\t@error=\"onThumbnailError\"\n\t\t\t\t\t\t@abort=\"onThumbnailError\"\n\t\t\t\t\t\t@load=\"onPreviewReady\"\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t\t<div class=\"toggle-text\" dir=\"auto\">\n\t\t\t\t\t<div class=\"head\">\n\t\t\t\t\t\t<div class=\"overflowable\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t:href=\"link.link\"\n\t\t\t\t\t\t\t\t:title=\"link.head\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t\t>{{ link.head }}</a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-if=\"showMoreButton\"\n\t\t\t\t\t\t\t:aria-expanded=\"isContentShown\"\n\t\t\t\t\t\t\t:aria-label=\"moreButtonLabel\"\n\t\t\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\t\t\tclass=\"more\"\n\t\t\t\t\t\t\t@click=\"onMoreClick\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"more-caret\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"body overflowable\">\n\t\t\t\t\t\t<a :href=\"link.link\" :title=\"link.body\" target=\"_blank\" rel=\"noopener\">{{\n\t\t\t\t\t\t\tlink.body\n\t\t\t\t\t\t}}</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"link.type === 'image'\">\n\t\t\t\t<a\n\t\t\t\t\t:href=\"link.link\"\n\t\t\t\t\tclass=\"toggle-thumbnail\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t@click=\"onThumbnailClick\"\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-show=\"link.sourceLoaded\"\n\t\t\t\t\t\t:src=\"link.thumb\"\n\t\t\t\t\t\tdecoding=\"async\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t@load=\"onPreviewReady\"\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"link.type === 'video'\">\n\t\t\t\t<video\n\t\t\t\t\tv-show=\"link.sourceLoaded\"\n\t\t\t\t\tpreload=\"metadata\"\n\t\t\t\t\tcontrols\n\t\t\t\t\t@canplay=\"onPreviewReady\"\n\t\t\t\t>\n\t\t\t\t\t<source :src=\"link.media\" :type=\"link.mediaType\" />\n\t\t\t\t</video>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"link.type === 'audio'\">\n\t\t\t\t<audio\n\t\t\t\t\tv-show=\"link.sourceLoaded\"\n\t\t\t\t\tcontrols\n\t\t\t\t\tpreload=\"metadata\"\n\t\t\t\t\t@canplay=\"onPreviewReady\"\n\t\t\t\t>\n\t\t\t\t\t<source :src=\"link.media\" :type=\"link.mediaType\" />\n\t\t\t\t</audio>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"link.type === 'error'\">\n\t\t\t\t<em v-if=\"link.error === 'image-too-big'\">\n\t\t\t\t\tThis image is larger than {{ imageMaxSize }} and cannot be previewed.\n\t\t\t\t\t<a :href=\"link.link\" target=\"_blank\" rel=\"noopener\">Click here</a>\n\t\t\t\t\tto open it in a new window.\n\t\t\t\t</em>\n\t\t\t\t<template v-else-if=\"link.error === 'message'\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<em>\n\t\t\t\t\t\t\tA preview could not be loaded.\n\t\t\t\t\t\t\t<a :href=\"link.link\" target=\"_blank\" rel=\"noopener\">Click here</a>\n\t\t\t\t\t\t\tto open it in a new window.\n\t\t\t\t\t\t</em>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<pre class=\"prefetch-error\">{{ link.message }}</pre>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\t:aria-expanded=\"isContentShown\"\n\t\t\t\t\t\t:aria-label=\"moreButtonLabel\"\n\t\t\t\t\t\tclass=\"more\"\n\t\t\t\t\t\t@click=\"onMoreClick\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"more-caret\" />\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n\tcomputed,\n\tdefineComponent,\n\tinject,\n\tnextTick,\n\tonBeforeUnmount,\n\tonMounted,\n\tonUnmounted,\n\tPropType,\n\tref,\n\twatch,\n} from \"vue\";\nimport {onBeforeRouteUpdate} from \"vue-router\";\nimport eventbus from \"../js/eventbus\";\nimport friendlysize from \"../js/helpers/friendlysize\";\nimport {useStore} from \"../js/store\";\nimport type {ClientChan, ClientLinkPreview} from \"../js/types\";\nimport {imageViewerKey} from \"./App.vue\";\n\nexport default defineComponent({\n\tname: \"LinkPreview\",\n\tprops: {\n\t\tlink: {\n\t\t\ttype: Object as PropType<ClientLinkPreview>,\n\t\t\trequired: true,\n\t\t},\n\t\tkeepScrollPosition: {\n\t\t\ttype: Function as PropType<() => void>,\n\t\t\trequired: true,\n\t\t},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\n\t\tconst showMoreButton = ref(false);\n\t\tconst isContentShown = ref(false);\n\t\tconst imageViewer = inject(imageViewerKey);\n\n\t\tonBeforeRouteUpdate((to, from, next) => {\n\t\t\t// cancel the navigation if the user is trying to close the image viewer\n\t\t\tif (imageViewer?.value?.link) {\n\t\t\t\timageViewer.value.closeViewer();\n\t\t\t\treturn next(false);\n\t\t\t}\n\n\t\t\tnext();\n\t\t});\n\n\t\tconst content = ref<HTMLDivElement | null>(null);\n\t\tconst container = ref<HTMLDivElement | null>(null);\n\n\t\tconst moreButtonLabel = computed(() => {\n\t\t\treturn isContentShown.value ? \"Less\" : \"More\";\n\t\t});\n\n\t\tconst imageMaxSize = computed(() => {\n\t\t\tif (!props.link.maxSize) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn friendlysize(props.link.maxSize);\n\t\t});\n\n\t\tconst handleResize = () => {\n\t\t\tnextTick(() => {\n\t\t\t\tif (!content.value || !container.value) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tshowMoreButton.value = content.value.offsetWidth >= container.value.offsetWidth;\n\t\t\t}).catch((e) => {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\"Error in LinkPreview.handleResize\", e);\n\t\t\t});\n\t\t};\n\n\t\tconst onPreviewReady = () => {\n\t\t\tprops.link.sourceLoaded = true;\n\n\t\t\tprops.keepScrollPosition();\n\n\t\t\tif (props.link.type === \"link\") {\n\t\t\t\thandleResize();\n\t\t\t}\n\t\t};\n\n\t\tconst onPreviewUpdate = () => {\n\t\t\t// Don't display previews while they are loading on the server\n\t\t\tif (props.link.type === \"loading\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Error does not have any media to render\n\t\t\tif (props.link.type === \"error\") {\n\t\t\t\tonPreviewReady();\n\t\t\t}\n\n\t\t\t// If link doesn't have a thumbnail, render it\n\t\t\tif (props.link.type === \"link\") {\n\t\t\t\thandleResize();\n\t\t\t\tprops.keepScrollPosition();\n\t\t\t}\n\t\t};\n\n\t\tconst onThumbnailError = () => {\n\t\t\t// If thumbnail fails to load, hide it and show the preview without it\n\t\t\tprops.link.thumb = \"\";\n\t\t\tonPreviewReady();\n\t\t};\n\n\t\tconst onThumbnailClick = (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\n\t\t\tif (!imageViewer?.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\timageViewer.value.channel = props.channel;\n\t\t\timageViewer.value.link = props.link;\n\t\t};\n\n\t\tconst onMoreClick = () => {\n\t\t\tisContentShown.value = !isContentShown.value;\n\t\t\tprops.keepScrollPosition();\n\t\t};\n\n\t\tconst updateShownState = () => {\n\t\t\t// User has manually toggled the preview, do not apply default\n\t\t\tif (props.link.shown !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet defaultState = false;\n\n\t\t\tswitch (props.link.type) {\n\t\t\t\tcase \"error\":\n\t\t\t\t\t// Collapse all errors by default unless its a message about image being too big\n\t\t\t\t\tif (props.link.error === \"image-too-big\") {\n\t\t\t\t\t\tdefaultState = store.state.settings.media;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"link\":\n\t\t\t\t\tdefaultState = store.state.settings.links;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tdefaultState = store.state.settings.media;\n\t\t\t}\n\n\t\t\tprops.link.shown = defaultState;\n\t\t};\n\n\t\tupdateShownState();\n\n\t\twatch(\n\t\t\t() => props.link.type,\n\t\t\t() => {\n\t\t\t\tupdateShownState();\n\t\t\t\tonPreviewUpdate();\n\t\t\t}\n\t\t);\n\n\t\tonMounted(() => {\n\t\t\teventbus.on(\"resize\", handleResize);\n\n\t\t\tonPreviewUpdate();\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\teventbus.off(\"resize\", handleResize);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\t// Let this preview go through load/canplay events again,\n\t\t\t// Otherwise the browser can cause a resize on video elements\n\t\t\tprops.link.sourceLoaded = false;\n\t\t});\n\n\t\treturn {\n\t\t\tmoreButtonLabel,\n\t\t\timageMaxSize,\n\t\t\tonThumbnailClick,\n\t\t\tonThumbnailError,\n\t\t\tonMoreClick,\n\t\t\tonPreviewReady,\n\t\t\tonPreviewUpdate,\n\t\t\tshowMoreButton,\n\t\t\tisContentShown,\n\t\t\tcontent,\n\t\t\tcontainer,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span class=\"preview-size\">({{ previewSize }})</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport friendlysize from \"../js/helpers/friendlysize\";\n\nexport default defineComponent({\n\tname: \"LinkPreviewFileSize\",\n\tprops: {\n\t\tsize: {type: Number, required: true},\n\t},\n\tsetup(props) {\n\t\tconst previewSize = friendlysize(props.size);\n\n\t\treturn {\n\t\t\tpreviewSize,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<button\n\t\tv-if=\"link.type !== 'loading'\"\n\t\t:class=\"['toggle-button', 'toggle-preview', {opened: link.shown}]\"\n\t\t:aria-label=\"ariaLabel\"\n\t\t@click=\"onClick\"\n\t/>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {ClientMessage, ClientLinkPreview} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"LinkPreviewToggle\",\n\tprops: {\n\t\tlink: {type: Object as PropType<ClientLinkPreview>, required: true},\n\t\tmessage: {type: Object as PropType<ClientMessage>, required: true},\n\t},\n\temits: [\"toggle-link-preview\"],\n\tsetup(props, {emit}) {\n\t\tconst ariaLabel = computed(() => {\n\t\t\treturn props.link.shown ? \"Collapse preview\" : \"Expand preview\";\n\t\t});\n\n\t\tconst onClick = () => {\n\t\t\tprops.link.shown = !props.link.shown;\n\t\t\temit(\"toggle-link-preview\", props.link, props.message);\n\t\t};\n\n\t\treturn {\n\t\t\tariaLabel,\n\t\t\tonClick,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\tv-if=\"isOpen\"\n\t\tid=\"mentions-popup-container\"\n\t\t@click=\"containerClick\"\n\t\t@contextmenu=\"containerClick\"\n\t>\n\t\t<div class=\"mentions-popup\">\n\t\t\t<div class=\"mentions-popup-title\">\n\t\t\t\tRecent mentions\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"resolvedMessages.length\"\n\t\t\t\t\tclass=\"btn dismiss-all-mentions\"\n\t\t\t\t\t@click=\"dismissAllMentions()\"\n\t\t\t\t>\n\t\t\t\t\tDismiss all\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<template v-if=\"resolvedMessages.length === 0\">\n\t\t\t\t<p v-if=\"isLoading\">Loading</p>\n\t\t\t\t<p v-else>You have no recent mentions.</p>\n\t\t\t</template>\n\t\t\t<template v-for=\"message in resolvedMessages\" v-else :key=\"message.msgId\">\n\t\t\t\t<div :class=\"['msg', message.type]\">\n\t\t\t\t\t<div class=\"mentions-info\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"from\">\n\t\t\t\t\t\t\t\t<Username :user=\"(message.from as any)\" />\n\t\t\t\t\t\t\t\t<template v-if=\"message.channel\">\n\t\t\t\t\t\t\t\t\tin {{ message.channel.channel.name }} on\n\t\t\t\t\t\t\t\t\t{{ message.channel.network.name }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else> in unknown channel </template> </span\n\t\t\t\t\t\t\t>{{ ` ` }}\n\t\t\t\t\t\t\t<span :title=\"message.localetime\" class=\"time\">\n\t\t\t\t\t\t\t\t{{ messageTime(message.time.toString()) }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"close-tooltip tooltipped tooltipped-w\"\n\t\t\t\t\t\t\t\taria-label=\"Dismiss this mention\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"msg-dismiss\"\n\t\t\t\t\t\t\t\t\taria-label=\"Dismiss this mention\"\n\t\t\t\t\t\t\t\t\t@click=\"dismissMention(message)\"\n\t\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"content\" dir=\"auto\">\n\t\t\t\t\t\t<ParsedMessage :message=\"(message as any)\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n#mentions-popup-container {\n\tz-index: 8;\n}\n\n.mentions-popup {\n\tbackground-color: var(--window-bg-color);\n\tposition: absolute;\n\twidth: 400px;\n\tright: 80px;\n\ttop: 55px;\n\tmax-height: 400px;\n\toverflow-y: auto;\n\tz-index: 2;\n\tpadding: 10px;\n}\n\n.mentions-popup > .mentions-popup-title {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 10px;\n\tfont-size: 20px;\n}\n\n.mentions-popup .mentions-info {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.mentions-popup .msg {\n\tmargin-bottom: 15px;\n\tuser-select: text;\n}\n\n.mentions-popup .msg:last-child {\n\tmargin-bottom: 0;\n}\n\n.mentions-popup .msg .content {\n\tbackground-color: var(--highlight-bg-color);\n\tborder-radius: 5px;\n\tpadding: 6px;\n\tmargin-top: 2px;\n\tword-wrap: break-word;\n\tword-break: break-word; /* Webkit-specific */\n}\n\n.mentions-popup .msg-dismiss::before {\n\tfont-size: 20px;\n\tfont-weight: normal;\n\tdisplay: inline-block;\n\tline-height: 16px;\n\ttext-align: center;\n\tcontent: \"\";\n}\n\n.mentions-popup .msg-dismiss:hover {\n\tcolor: var(--link-color);\n}\n\n.mentions-popup .dismiss-all-mentions {\n\tmargin: 0;\n\tpadding: 4px 6px;\n}\n\n@media (min-height: 500px) {\n\t.mentions-popup {\n\t\tmax-height: 60vh;\n\t}\n}\n\n@media (max-width: 768px) {\n\t.mentions-popup {\n\t\tborder-radius: 0;\n\t\tborder: 0;\n\t\tbox-shadow: none;\n\t\twidth: 100%;\n\t\tmax-height: none;\n\t\tright: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\ttop: 45px; /* header height */\n\t}\n}\n</style>\n\n<script lang=\"ts\">\nimport Username from \"./Username.vue\";\nimport ParsedMessage from \"./ParsedMessage.vue\";\nimport socket from \"../js/socket\";\nimport eventbus from \"../js/eventbus\";\nimport localetime from \"../js/helpers/localetime\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport {computed, watch, defineComponent, ref, onMounted, onUnmounted} from \"vue\";\nimport {useStore} from \"../js/store\";\nimport {ClientMention} from \"../js/types\";\n\ndayjs.extend(relativeTime);\n\nexport default defineComponent({\n\tname: \"Mentions\",\n\tcomponents: {\n\t\tUsername,\n\t\tParsedMessage,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst isOpen = ref(false);\n\t\tconst isLoading = ref(false);\n\t\tconst resolvedMessages = computed(() => {\n\t\t\tconst messages = store.state.mentions.slice().reverse();\n\n\t\t\tfor (const message of messages) {\n\t\t\t\tmessage.localetime = localetime(message.time);\n\t\t\t\tmessage.channel = store.getters.findChannel(message.chanId);\n\t\t\t}\n\n\t\t\treturn messages.filter((message) => !message.channel?.channel.muted);\n\t\t});\n\n\t\twatch(\n\t\t\t() => store.state.mentions,\n\t\t\t() => {\n\t\t\t\tisLoading.value = false;\n\t\t\t}\n\t\t);\n\n\t\tconst messageTime = (time: string) => {\n\t\t\treturn dayjs(time).fromNow();\n\t\t};\n\n\t\tconst dismissMention = (message: ClientMention) => {\n\t\t\tstore.state.mentions.splice(\n\t\t\t\tstore.state.mentions.findIndex((m) => m.msgId === message.msgId),\n\t\t\t\t1\n\t\t\t);\n\n\t\t\tsocket.emit(\"mentions:dismiss\", message.msgId);\n\t\t};\n\n\t\tconst dismissAllMentions = () => {\n\t\t\tstore.state.mentions = [];\n\t\t\tsocket.emit(\"mentions:dismiss_all\");\n\t\t};\n\n\t\tconst containerClick = (event: Event) => {\n\t\t\tif (event.currentTarget === event.target) {\n\t\t\t\tisOpen.value = false;\n\t\t\t}\n\t\t};\n\n\t\tconst togglePopup = () => {\n\t\t\tisOpen.value = !isOpen.value;\n\n\t\t\tif (isOpen.value) {\n\t\t\t\tisLoading.value = true;\n\t\t\t\tsocket.emit(\"mentions:get\");\n\t\t\t}\n\t\t};\n\n\t\tconst closePopup = () => {\n\t\t\tisOpen.value = false;\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\teventbus.on(\"mentions:toggle\", togglePopup);\n\t\t\teventbus.on(\"escapekey\", closePopup);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\teventbus.off(\"mentions:toggle\", togglePopup);\n\t\t\teventbus.off(\"escapekey\", closePopup);\n\t\t});\n\n\t\treturn {\n\t\t\tisOpen,\n\t\t\tisLoading,\n\t\t\tresolvedMessages,\n\t\t\tmessageTime,\n\t\t\tdismissMention,\n\t\t\tdismissAllMentions,\n\t\t\tcontainerClick,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\t:id=\"'msg-' + message.id\"\n\t\t:class=\"[\n\t\t\t'msg',\n\t\t\t{\n\t\t\t\tself: message.self,\n\t\t\t\thighlight: message.highlight || focused,\n\t\t\t\t'previous-source': isPreviousSource,\n\t\t\t},\n\t\t]\"\n\t\t:data-type=\"message.type\"\n\t\t:data-command=\"message.command\"\n\t\t:data-from=\"message.from && message.from.nick\"\n\t>\n\t\t<span\n\t\t\taria-hidden=\"true\"\n\t\t\t:aria-label=\"messageTimeLocale\"\n\t\t\tclass=\"time tooltipped tooltipped-e\"\n\t\t\t>{{ `${messageTime}&#32;` }}\n\t\t</span>\n\t\t<template v-if=\"message.type === 'unhandled'\">\n\t\t\t<span class=\"from\">[{{ message.command }}]</span>\n\t\t\t<span class=\"content\">\n\t\t\t\t<span v-for=\"(param, id) in message.params\" :key=\"id\">{{\n\t\t\t\t\t`&#32;${param}&#32;`\n\t\t\t\t}}</span>\n\t\t\t</span>\n\t\t</template>\n\t\t<template v-else-if=\"isAction()\">\n\t\t\t<span class=\"from\"><span class=\"only-copy\">***&nbsp;</span></span>\n\t\t\t<component :is=\"messageComponent\" :network=\"network\" :message=\"message\" />\n\t\t</template>\n\t\t<template v-else-if=\"message.type === 'action'\">\n\t\t\t<span class=\"from\"><span class=\"only-copy\">*&nbsp;</span></span>\n\t\t\t<span class=\"content\" dir=\"auto\">\n\t\t\t\t<Username\n\t\t\t\t\t:user=\"message.from\"\n\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t/>&#32;<ParsedMessage :message=\"message\" />\n\t\t\t\t<LinkPreview\n\t\t\t\t\tv-for=\"preview in message.previews\"\n\t\t\t\t\t:key=\"preview.link\"\n\t\t\t\t\t:keep-scroll-position=\"keepScrollPosition\"\n\t\t\t\t\t:link=\"preview\"\n\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t/>\n\t\t\t</span>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<span v-if=\"message.type === 'message'\" class=\"from\">\n\t\t\t\t<template v-if=\"message.from && message.from.nick\">\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">&lt;</span>\n\t\t\t\t\t<Username :user=\"message.from\" :network=\"network\" :channel=\"channel\" />\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">&gt;&nbsp;</span>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t\t<span v-else-if=\"message.type === 'plugin'\" class=\"from\">\n\t\t\t\t<template v-if=\"message.from && message.from.nick\">\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">[</span>\n\t\t\t\t\t{{ message.from.nick }}\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">]&nbsp;</span>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t\t<span v-else class=\"from\">\n\t\t\t\t<template v-if=\"message.from && message.from.nick\">\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">-</span>\n\t\t\t\t\t<Username :user=\"message.from\" :network=\"network\" :channel=\"channel\" />\n\t\t\t\t\t<span class=\"only-copy\" aria-hidden=\"true\">-&nbsp;</span>\n\t\t\t\t</template>\n\t\t\t</span>\n\t\t\t<span class=\"content\" dir=\"auto\">\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"message.showInActive\"\n\t\t\t\t\taria-label=\"This message was shown in your active channel\"\n\t\t\t\t\tclass=\"msg-shown-in-active tooltipped tooltipped-e\"\n\t\t\t\t\t><span></span\n\t\t\t\t></span>\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"message.statusmsgGroup\"\n\t\t\t\t\t:aria-label=\"`This message was only shown to users with ${message.statusmsgGroup} mode`\"\n\t\t\t\t\tclass=\"msg-statusmsg tooltipped tooltipped-e\"\n\t\t\t\t\t><span>{{ message.statusmsgGroup }}</span></span\n\t\t\t\t>\n\t\t\t\t<span v-if=\"message.isHtml\" v-html=\"message.text\" class=\"html html-msg\"></span>\n\t\t\t\t<ParsedMessage v-else :network=\"network\" :message=\"message\" />\n\t\t\t\t<LinkPreview\n\t\t\t\t\tv-for=\"preview in message.previews\"\n\t\t\t\t\t:key=\"preview.link\"\n\t\t\t\t\t:keep-scroll-position=\"keepScrollPosition\"\n\t\t\t\t\t:link=\"preview\"\n\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t/>\n\t\t\t</span>\n\t\t</template>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport dayjs from \"dayjs\";\n\nimport constants from \"../js/constants\";\nimport localetime from \"../js/helpers/localetime\";\nimport Username from \"./Username.vue\";\nimport LinkPreview from \"./LinkPreview.vue\";\nimport ParsedMessage from \"./ParsedMessage.vue\";\nimport MessageTypes from \"./MessageTypes\";\n\nimport type {ClientChan, ClientMessage, ClientNetwork} from \"../js/types\";\nimport {useStore} from \"../js/store\";\n\nMessageTypes.ParsedMessage = ParsedMessage;\nMessageTypes.LinkPreview = LinkPreview;\nMessageTypes.Username = Username;\n\nexport default defineComponent({\n\tname: \"Message\",\n\tcomponents: MessageTypes,\n\tprops: {\n\t\tmessage: {type: Object as PropType<ClientMessage>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: false},\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tkeepScrollPosition: Function as PropType<() => void>,\n\t\tisPreviousSource: Boolean,\n\t\tfocused: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\t\tconst timeFormat = computed(() => {\n\t\t\tlet format: keyof typeof constants.timeFormats;\n\t\t\tif (store.state.settings.use12hClock) {\n\t\t\t\tformat = store.state.settings.showSeconds ? \"msg12hWithSeconds\" : \"msg12h\";\n\t\t\t} else {\n\t\t\t\tformat = store.state.settings.showSeconds ? \"msgWithSeconds\" : \"msgDefault\";\n\t\t\t}\n\t\t\treturn constants.timeFormats[format];\n\t\t});\n\t\tconst messageTime = computed(() => {\n\t\t\treturn dayjs(props.message.time).format(timeFormat.value);\n\t\t});\n\t\tconst messageTimeLocale = computed(() => {\n\t\t\treturn localetime(props.message.time);\n\t\t});\n\t\tconst messageComponent = computed(() => {\n\t\t\treturn \"message-\" + props.message.type;\n\t\t});\n\t\tconst isAction = () => {\n\t\t\treturn typeof MessageTypes[\"message-\" + props.message.type] !== \"undefined\";\n\t\t};\n\t\treturn {\n\t\t\ttimeFormat,\n\t\t\tmessageTime,\n\t\t\tmessageTimeLocale,\n\t\t\tmessageComponent,\n\t\t\tisAction,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div :class=\"['msg', {closed: isCollapsed}]\" data-type=\"condensed\">\n\t\t<div class=\"condensed-summary\">\n\t\t\t<span class=\"time\" />\n\t\t\t<span class=\"from\" />\n\t\t\t<span class=\"content\" @click=\"onCollapseClick\"\n\t\t\t\t>{{ condensedText\n\t\t\t\t}}<button class=\"toggle-button\" aria-label=\"Toggle status messages\"\n\t\t\t/></span>\n\t\t</div>\n\t\t<Message\n\t\t\tv-for=\"message in messages\"\n\t\t\t:key=\"message.id\"\n\t\t\t:network=\"network\"\n\t\t\t:message=\"message\"\n\t\t/>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType, ref} from \"vue\";\nimport {condensedTypes} from \"../../shared/irc\";\nimport {ClientMessage, ClientNetwork} from \"../js/types\";\nimport Message from \"./Message.vue\";\n\nexport default defineComponent({\n\tname: \"MessageCondensed\",\n\tcomponents: {\n\t\tMessage,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tmessages: {\n\t\t\ttype: Array as PropType<ClientMessage[]>,\n\t\t\trequired: true,\n\t\t},\n\t\tkeepScrollPosition: {\n\t\t\ttype: Function as PropType<() => void>,\n\t\t\trequired: true,\n\t\t},\n\t\tfocused: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst isCollapsed = ref(true);\n\n\t\tconst onCollapseClick = () => {\n\t\t\tisCollapsed.value = !isCollapsed.value;\n\t\t\tprops.keepScrollPosition();\n\t\t};\n\n\t\tconst condensedText = computed(() => {\n\t\t\tconst obj: Record<string, number> = {};\n\n\t\t\tcondensedTypes.forEach((type) => {\n\t\t\t\tobj[type] = 0;\n\t\t\t});\n\n\t\t\tfor (const message of props.messages) {\n\t\t\t\t// special case since one MODE message can change multiple modes\n\t\t\t\tif (message.type === \"mode\") {\n\t\t\t\t\t// syntax: +vv-t maybe-some targets\n\t\t\t\t\t// we want the number of mode changes in the message, so count the\n\t\t\t\t\t// number of chars other than + and - before the first space\n\t\t\t\t\tconst modeChangesCount = message.text\n\t\t\t\t\t\t.split(\" \")[0]\n\t\t\t\t\t\t.split(\"\")\n\t\t\t\t\t\t.filter((char) => char !== \"+\" && char !== \"-\").length;\n\t\t\t\t\tobj[message.type] += modeChangesCount;\n\t\t\t\t} else {\n\t\t\t\t\tobj[message.type]++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Count quits as parts in condensed messages to reduce information density\n\t\t\tobj.part += obj.quit;\n\n\t\t\tconst strings: string[] = [];\n\t\t\tcondensedTypes.forEach((type) => {\n\t\t\t\tif (obj[type]) {\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase \"chghost\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1\n\t\t\t\t\t\t\t\t\t\t? \" users have changed hostname\"\n\t\t\t\t\t\t\t\t\t\t: \" user has changed hostname\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"join\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? \" users have joined\" : \" user has joined\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"part\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? \" users have left\" : \" user has left\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"nick\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1\n\t\t\t\t\t\t\t\t\t\t? \" users have changed nick\"\n\t\t\t\t\t\t\t\t\t\t: \" user has changed nick\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"kick\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? \" users were kicked\" : \" user was kicked\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"mode\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\tString(obj[type]) +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? \" modes were set\" : \" mode was set\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"away\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\t\"marked away \" +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? String(obj[type]) + \" times\" : \"once\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"back\":\n\t\t\t\t\t\t\tstrings.push(\n\t\t\t\t\t\t\t\t\"marked back \" +\n\t\t\t\t\t\t\t\t\t(obj[type] > 1 ? String(obj[type]) + \" times\" : \"once\")\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (strings.length) {\n\t\t\t\tlet text = strings.pop();\n\n\t\t\t\tif (strings.length) {\n\t\t\t\t\ttext = strings.join(\", \") + \", and \" + text!;\n\t\t\t\t}\n\n\t\t\t\treturn text;\n\t\t\t}\n\n\t\t\treturn \"\";\n\t\t});\n\n\t\treturn {\n\t\t\tisCollapsed,\n\t\t\tcondensedText,\n\t\t\tonCollapseClick,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div ref=\"chat\" class=\"chat\" tabindex=\"-1\">\n\t\t<div v-show=\"channel.moreHistoryAvailable\" class=\"show-more\">\n\t\t\t<button\n\t\t\t\tref=\"loadMoreButton\"\n\t\t\t\t:disabled=\"channel.historyLoading || !store.state.isConnected\"\n\t\t\t\tclass=\"btn\"\n\t\t\t\t@click=\"onShowMoreClick\"\n\t\t\t>\n\t\t\t\t<span v-if=\"channel.historyLoading\">Loading</span>\n\t\t\t\t<span v-else>Show older messages</span>\n\t\t\t</button>\n\t\t</div>\n\t\t<div\n\t\t\tclass=\"messages\"\n\t\t\trole=\"log\"\n\t\t\taria-live=\"polite\"\n\t\t\taria-relevant=\"additions\"\n\t\t\t@copy=\"onCopy\"\n\t\t>\n\t\t\t<template v-for=\"(message, id) in condensedMessages\">\n\t\t\t\t<DateMarker\n\t\t\t\t\tv-if=\"shouldDisplayDateMarker(message, id)\"\n\t\t\t\t\t:key=\"message.id + '-date'\"\n\t\t\t\t\t:message=\"message as any\"\n\t\t\t\t\t:focused=\"message.id === focused\"\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"shouldDisplayUnreadMarker(Number(message.id))\"\n\t\t\t\t\t:key=\"message.id + '-unread'\"\n\t\t\t\t\tclass=\"unread-marker\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"unread-marker-text\" />\n\t\t\t\t</div>\n\n\t\t\t\t<MessageCondensed\n\t\t\t\t\tv-if=\"message.type === 'condensed'\"\n\t\t\t\t\t:key=\"message.messages[0].id\"\n\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t:keep-scroll-position=\"keepScrollPosition\"\n\t\t\t\t\t:messages=\"message.messages\"\n\t\t\t\t\t:focused=\"message.id === focused\"\n\t\t\t\t/>\n\t\t\t\t<Message\n\t\t\t\t\tv-else\n\t\t\t\t\t:key=\"message.id\"\n\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t:keep-scroll-position=\"keepScrollPosition\"\n\t\t\t\t\t:is-previous-source=\"isPreviousSource(message, id)\"\n\t\t\t\t\t:focused=\"message.id === focused\"\n\t\t\t\t\t@toggle-link-preview=\"onLinkPreviewToggle\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {condensedTypes} from \"../../shared/irc\";\nimport eventbus from \"../js/eventbus\";\nimport clipboard from \"../js/clipboard\";\nimport socket from \"../js/socket\";\nimport Message from \"./Message.vue\";\nimport MessageCondensed from \"./MessageCondensed.vue\";\nimport DateMarker from \"./DateMarker.vue\";\nimport {\n\tcomputed,\n\tdefineComponent,\n\tnextTick,\n\tonBeforeUnmount,\n\tonBeforeUpdate,\n\tonMounted,\n\tonUnmounted,\n\tPropType,\n\tref,\n\twatch,\n} from \"vue\";\nimport {useStore} from \"../js/store\";\nimport {ClientChan, ClientMessage, ClientNetwork, ClientLinkPreview} from \"../js/types\";\nimport Msg from \"../../server/models/msg\";\n\ntype CondensedMessageContainer = {\n\ttype: \"condensed\";\n\ttime: Date;\n\tmessages: ClientMessage[];\n\tid?: number;\n};\n\n// TODO; move into component\nlet unreadMarkerShown = false;\n\nexport default defineComponent({\n\tname: \"MessageList\",\n\tcomponents: {\n\t\tMessage,\n\t\tMessageCondensed,\n\t\tDateMarker,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t\tfocused: Number,\n\t},\n\tsetup(props, {emit}) {\n\t\tconst store = useStore();\n\n\t\tconst chat = ref<HTMLDivElement | null>(null);\n\t\tconst loadMoreButton = ref<HTMLButtonElement | null>(null);\n\t\tconst historyObserver = ref<IntersectionObserver | null>(null);\n\t\tconst skipNextScrollEvent = ref(false);\n\n\t\tconst isWaitingForNextTick = ref(false);\n\n\t\tconst jumpToBottom = () => {\n\t\t\tskipNextScrollEvent.value = true;\n\t\t\tprops.channel.scrolledToBottom = true;\n\n\t\t\tconst el = chat.value;\n\n\t\t\tif (el) {\n\t\t\t\tel.scrollTop = el.scrollHeight;\n\t\t\t}\n\t\t};\n\n\t\tconst onShowMoreClick = () => {\n\t\t\tif (!store.state.isConnected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet lastMessage = -1;\n\n\t\t\t// Find the id of first message that isn't showInActive\n\t\t\t// If showInActive is set, this message is actually in another channel\n\t\t\tfor (const message of props.channel.messages) {\n\t\t\t\tif (!message.showInActive) {\n\t\t\t\t\tlastMessage = message.id;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprops.channel.historyLoading = true;\n\n\t\t\tsocket.emit(\"more\", {\n\t\t\t\ttarget: props.channel.id,\n\t\t\t\tlastId: lastMessage,\n\t\t\t\tcondensed: store.state.settings.statusMessages !== \"shown\",\n\t\t\t});\n\t\t};\n\n\t\tconst onLoadButtonObserved = (entries: IntersectionObserverEntry[]) => {\n\t\t\tentries.forEach((entry) => {\n\t\t\t\tif (!entry.isIntersecting) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tonShowMoreClick();\n\t\t\t});\n\t\t};\n\n\t\tnextTick(() => {\n\t\t\tif (!chat.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (window.IntersectionObserver) {\n\t\t\t\thistoryObserver.value = new window.IntersectionObserver(onLoadButtonObserved, {\n\t\t\t\t\troot: chat.value,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tjumpToBottom();\n\t\t}).catch((e) => {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\"Error in new IntersectionObserver\", e);\n\t\t});\n\n\t\tconst condensedMessages = computed(() => {\n\t\t\tif (props.channel.type !== \"channel\" && props.channel.type !== \"query\") {\n\t\t\t\treturn props.channel.messages;\n\t\t\t}\n\n\t\t\t// If actions are hidden, just return a message list with them excluded\n\t\t\tif (store.state.settings.statusMessages === \"hidden\") {\n\t\t\t\treturn props.channel.messages.filter(\n\t\t\t\t\t(message) => !condensedTypes.has(message.type)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// If actions are not condensed, just return raw message list\n\t\t\tif (store.state.settings.statusMessages !== \"condensed\") {\n\t\t\t\treturn props.channel.messages;\n\t\t\t}\n\n\t\t\tlet lastCondensedContainer: CondensedMessageContainer | null = null;\n\n\t\t\tconst condensed: (ClientMessage | CondensedMessageContainer)[] = [];\n\n\t\t\tfor (const message of props.channel.messages) {\n\t\t\t\t// If this message is not condensable, or its an action affecting our user,\n\t\t\t\t// then just append the message to container and be done with it\n\t\t\t\tif (message.self || message.highlight || !condensedTypes.has(message.type)) {\n\t\t\t\t\tlastCondensedContainer = null;\n\n\t\t\t\t\tcondensed.push(message);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!lastCondensedContainer) {\n\t\t\t\t\tlastCondensedContainer = {\n\t\t\t\t\t\ttime: message.time,\n\t\t\t\t\t\ttype: \"condensed\",\n\t\t\t\t\t\tmessages: [],\n\t\t\t\t\t};\n\n\t\t\t\t\tcondensed.push(lastCondensedContainer);\n\t\t\t\t}\n\n\t\t\t\tlastCondensedContainer!.messages.push(message);\n\n\t\t\t\t// Set id of the condensed container to last message id,\n\t\t\t\t// which is required for the unread marker to work correctly\n\t\t\t\tlastCondensedContainer!.id = message.id;\n\n\t\t\t\t// If this message is the unread boundary, create a split condensed container\n\t\t\t\tif (message.id === props.channel.firstUnread) {\n\t\t\t\t\tlastCondensedContainer = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn condensed.map((message) => {\n\t\t\t\t// Skip condensing single messages, it doesn't save any\n\t\t\t\t// space but makes useful information harder to see\n\t\t\t\tif (message.type === \"condensed\" && message.messages.length === 1) {\n\t\t\t\t\treturn message.messages[0];\n\t\t\t\t}\n\n\t\t\t\treturn message;\n\t\t\t});\n\t\t});\n\n\t\tconst shouldDisplayDateMarker = (\n\t\t\tmessage: Msg | ClientMessage | CondensedMessageContainer,\n\t\t\tid: number\n\t\t) => {\n\t\t\tconst previousMessage = condensedMessages.value[id - 1];\n\n\t\t\tif (!previousMessage) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst oldDate = new Date(previousMessage.time);\n\t\t\tconst newDate = new Date(message.time);\n\n\t\t\treturn (\n\t\t\t\toldDate.getDate() !== newDate.getDate() ||\n\t\t\t\toldDate.getMonth() !== newDate.getMonth() ||\n\t\t\t\toldDate.getFullYear() !== newDate.getFullYear()\n\t\t\t);\n\t\t};\n\n\t\tconst shouldDisplayUnreadMarker = (id: number) => {\n\t\t\tif (!unreadMarkerShown && id > props.channel.firstUnread) {\n\t\t\t\tunreadMarkerShown = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst isPreviousSource = (currentMessage: ClientMessage | Msg, id: number) => {\n\t\t\tconst previousMessage = condensedMessages.value[id - 1];\n\t\t\treturn !!(\n\t\t\t\tpreviousMessage &&\n\t\t\t\tcurrentMessage.type === \"message\" &&\n\t\t\t\tpreviousMessage.type === \"message\" &&\n\t\t\t\tpreviousMessage.from &&\n\t\t\t\tcurrentMessage.from.nick === previousMessage.from.nick\n\t\t\t);\n\t\t};\n\n\t\tconst onCopy = () => {\n\t\t\tif (chat.value) {\n\t\t\t\tclipboard(chat.value);\n\t\t\t}\n\t\t};\n\n\t\tconst keepScrollPosition = async () => {\n\t\t\t// If we are already waiting for the next tick to force scroll position,\n\t\t\t// we have no reason to perform more checks and set it again in the next tick\n\t\t\tif (isWaitingForNextTick.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst el = chat.value;\n\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!props.channel.scrolledToBottom) {\n\t\t\t\tif (props.channel.historyLoading) {\n\t\t\t\t\tconst heightOld = el.scrollHeight - el.scrollTop;\n\n\t\t\t\t\tisWaitingForNextTick.value = true;\n\n\t\t\t\t\tawait nextTick();\n\n\t\t\t\t\tisWaitingForNextTick.value = false;\n\t\t\t\t\tskipNextScrollEvent.value = true;\n\n\t\t\t\t\tel.scrollTop = el.scrollHeight - heightOld;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tisWaitingForNextTick.value = true;\n\t\t\tawait nextTick();\n\t\t\tisWaitingForNextTick.value = false;\n\n\t\t\tjumpToBottom();\n\t\t};\n\n\t\tconst onLinkPreviewToggle = async (preview: ClientLinkPreview, message: ClientMessage) => {\n\t\t\tawait keepScrollPosition();\n\n\t\t\t// Tell the server we're toggling so it remembers at page reload\n\t\t\tsocket.emit(\"msg:preview:toggle\", {\n\t\t\t\ttarget: props.channel.id,\n\t\t\t\tmsgId: message.id,\n\t\t\t\tlink: preview.link,\n\t\t\t\tshown: preview.shown,\n\t\t\t});\n\t\t};\n\n\t\tconst handleScroll = () => {\n\t\t\t// Setting scrollTop also triggers scroll event\n\t\t\t// We don't want to perform calculations for that\n\t\t\tif (skipNextScrollEvent.value) {\n\t\t\t\tskipNextScrollEvent.value = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst el = chat.value;\n\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprops.channel.scrolledToBottom = el.scrollHeight - el.scrollTop - el.offsetHeight <= 30;\n\t\t};\n\n\t\tconst handleResize = () => {\n\t\t\t// Keep message list scrolled to bottom on resize\n\t\t\tif (props.channel.scrolledToBottom) {\n\t\t\t\tjumpToBottom();\n\t\t\t}\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tchat.value?.addEventListener(\"scroll\", handleScroll, {passive: true});\n\n\t\t\teventbus.on(\"resize\", handleResize);\n\n\t\t\tvoid nextTick(() => {\n\t\t\t\tif (historyObserver.value && loadMoreButton.value) {\n\t\t\t\t\thistoryObserver.value.observe(loadMoreButton.value);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\twatch(\n\t\t\t() => props.channel.id,\n\t\t\t() => {\n\t\t\t\tprops.channel.scrolledToBottom = true;\n\n\t\t\t\t// Re-add the intersection observer to trigger the check again on channel switch\n\t\t\t\t// Otherwise if last channel had the button visible, switching to a new channel won't trigger the history\n\t\t\t\tif (historyObserver.value && loadMoreButton.value) {\n\t\t\t\t\thistoryObserver.value.unobserve(loadMoreButton.value);\n\t\t\t\t\thistoryObserver.value.observe(loadMoreButton.value);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => props.channel.messages,\n\t\t\tasync () => {\n\t\t\t\tawait keepScrollPosition();\n\t\t\t},\n\t\t\t{\n\t\t\t\tdeep: true,\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => props.channel.pendingMessage,\n\t\t\tasync () => {\n\t\t\t\t// Keep the scroll stuck when input gets resized while typing\n\t\t\t\tawait keepScrollPosition();\n\t\t\t}\n\t\t);\n\n\t\tonBeforeUpdate(() => {\n\t\t\tunreadMarkerShown = false;\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\teventbus.off(\"resize\", handleResize);\n\t\t\tchat.value?.removeEventListener(\"scroll\", handleScroll);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\tif (historyObserver.value) {\n\t\t\t\thistoryObserver.value.disconnect();\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tchat,\n\t\t\tstore,\n\t\t\tonShowMoreClick,\n\t\t\tloadMoreButton,\n\t\t\tonCopy,\n\t\t\tcondensedMessages,\n\t\t\tshouldDisplayDateMarker,\n\t\t\tshouldDisplayUnreadMarker,\n\t\t\tkeepScrollPosition,\n\t\t\tisPreviousSource,\n\t\t\tjumpToBottom,\n\t\t\tonLinkPreviewToggle,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<form :class=\"['message-search', {opened: searchOpened}]\" @submit.prevent=\"searchMessages\">\n\t\t<div class=\"input-wrapper\">\n\t\t\t<input\n\t\t\t\tref=\"searchInputField\"\n\t\t\t\tv-model=\"searchInput\"\n\t\t\t\ttype=\"search\"\n\t\t\t\tname=\"search\"\n\t\t\t\tclass=\"input\"\n\t\t\t\tplaceholder=\"Search messages\"\n\t\t\t\t@blur=\"closeSearch\"\n\t\t\t\t@keyup.esc=\"closeSearch\"\n\t\t\t/>\n\t\t</div>\n\t\t<button\n\t\t\tv-if=\"!onSearchPage\"\n\t\t\tclass=\"search\"\n\t\t\ttype=\"button\"\n\t\t\taria-label=\"Search messages in this channel\"\n\t\t\t@mousedown.prevent=\"toggleSearch\"\n\t\t/>\n\t</form>\n</template>\n\n<style>\nform.message-search {\n\tdisplay: flex;\n}\n\nform.message-search .input-wrapper {\n\tdisplay: flex;\n}\n\nform.message-search input {\n\twidth: 100%;\n\theight: auto !important;\n\tmargin: 7px 0;\n\tborder: 0;\n\tcolor: inherit;\n\tbackground-color: #fafafa;\n\tappearance: none;\n}\n\nform.message-search input::placeholder {\n\tcolor: rgba(0, 0, 0, 0.35);\n}\n\n@media (min-width: 480px) {\n\tform.message-search input {\n\t\tmin-width: 140px;\n\t}\n\n\tform.message-search input:focus {\n\t\tmin-width: 220px;\n\t}\n}\n\nform.message-search .input-wrapper {\n\tposition: absolute;\n\ttop: 45px;\n\tleft: 0;\n\tright: 0;\n\tz-index: 1;\n\theight: 0;\n\toverflow: hidden;\n\tbackground: var(--window-bg-color);\n}\n\nform.message-search .input-wrapper input {\n\tmargin: 7px;\n}\n\nform.message-search.opened .input-wrapper {\n\theight: 50px;\n}\n\n#chat form.message-search button {\n\tdisplay: flex;\n\tcolor: #607992;\n}\n</style>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, onMounted, PropType, ref, watch} from \"vue\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport eventbus from \"../js/eventbus\";\nimport {ClientNetwork, ClientChan} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"MessageSearchForm\",\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup(props) {\n\t\tconst searchOpened = ref(false);\n\t\tconst searchInput = ref(\"\");\n\t\tconst router = useRouter();\n\t\tconst route = useRoute();\n\n\t\tconst searchInputField = ref<HTMLInputElement | null>(null);\n\n\t\tconst onSearchPage = computed(() => {\n\t\t\treturn route.name === \"SearchResults\";\n\t\t});\n\n\t\twatch(route, (newValue) => {\n\t\t\tif (newValue.query.q) {\n\t\t\t\tsearchInput.value = String(newValue.query.q);\n\t\t\t}\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tsearchInput.value = String(route.query.q || \"\");\n\t\t\tsearchOpened.value = onSearchPage.value;\n\n\t\t\tif (searchInputField.value && !searchInput.value && searchOpened.value) {\n\t\t\t\tsearchInputField.value.focus();\n\t\t\t}\n\t\t});\n\n\t\tconst closeSearch = () => {\n\t\t\tif (!onSearchPage.value) {\n\t\t\t\tsearchInput.value = \"\";\n\t\t\t\tsearchOpened.value = false;\n\t\t\t}\n\t\t};\n\n\t\tconst toggleSearch = () => {\n\t\t\tif (searchOpened.value) {\n\t\t\t\tsearchInputField.value?.blur();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsearchOpened.value = true;\n\t\t\tsearchInputField.value?.focus();\n\t\t};\n\n\t\tconst searchMessages = (event: Event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tif (!searchInput.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trouter\n\t\t\t\t.push({\n\t\t\t\t\tname: \"SearchResults\",\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tid: props.channel.id,\n\t\t\t\t\t},\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tq: searchInput.value,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tif (err.name === \"NavigationDuplicated\") {\n\t\t\t\t\t\t// Search for the same query again\n\t\t\t\t\t\teventbus.emit(\"re-search\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\tsearchOpened,\n\t\t\tsearchInput,\n\t\t\tsearchInputField,\n\t\t\tcloseSearch,\n\t\t\ttoggleSearch,\n\t\t\tsearchMessages,\n\t\t\tonSearchPage,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<ParsedMessage v-if=\"message.self\" :network=\"network\" :message=\"message\" />\n\t\t<template v-else>\n\t\t\t<Username :user=\"message.from\" />\n\t\t\tis away\n\t\t\t<i class=\"away-message\">(<ParsedMessage :network=\"network\" :message=\"message\" />)</i>\n\t\t</template>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport type {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeAway\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<ParsedMessage v-if=\"message.self\" :network=\"network\" :message=\"message\" />\n\t\t<template v-else>\n\t\t\t<Username :user=\"message.from\" />\n\t\t\tis back\n\t\t</template>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeBack\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\thas changed\n\t\t<span v-if=\"message.new_ident\"\n\t\t\t>username to <b>{{ message.new_ident }}</b></span\n\t\t>\n\t\t<span v-if=\"message.new_host\"\n\t\t\t>hostname to\n\t\t\t<i class=\"hostmask\"><ParsedMessage :network=\"network\" :text=\"message.new_host\" /></i\n\t\t></span>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeChangeHost\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\t{{ `&#32;` }}<span class=\"ctcp-message\"><ParsedMessage :text=\"message.ctcpMessage\" /></span>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeCTCP\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\tsent a <abbr title=\"Client-to-client protocol\">CTCP</abbr> request:\n\t\t<span class=\"ctcp-message\"><ParsedMessage :text=\"message.ctcpMessage\" /></span>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeRequestCTCP\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<ParsedMessage :network=\"network\" :message=\"message\" :text=\"errorMessage\" />\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"MessageTypeError\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(props) {\n\t\tconst errorMessage = computed(() => {\n\t\t\tswitch (props.message.error) {\n\t\t\t\tcase \"bad_channel_key\":\n\t\t\t\t\treturn `Cannot join ${props.message.channel} - Bad channel key.`;\n\t\t\t\tcase \"banned_from_channel\":\n\t\t\t\t\treturn `Cannot join ${props.message.channel} - You have been banned from the channel.`;\n\t\t\t\tcase \"cannot_send_to_channel\":\n\t\t\t\t\treturn `Cannot send to channel ${props.message.channel}`;\n\t\t\t\tcase \"channel_is_full\":\n\t\t\t\t\treturn `Cannot join ${props.message.channel} - Channel is full.`;\n\t\t\t\tcase \"chanop_privs_needed\":\n\t\t\t\t\treturn \"Cannot perform action: You're not a channel operator.\";\n\t\t\t\tcase \"invite_only_channel\":\n\t\t\t\t\treturn `Cannot join ${props.message.channel} - Channel is invite only.`;\n\t\t\t\tcase \"no_such_nick\":\n\t\t\t\t\treturn `User ${props.message.nick} hasn't logged in or does not exist.`;\n\t\t\t\tcase \"not_on_channel\":\n\t\t\t\t\treturn \"Cannot perform action: You're not on the channel.\";\n\t\t\t\tcase \"password_mismatch\":\n\t\t\t\t\treturn \"Password mismatch.\";\n\t\t\t\tcase \"too_many_channels\":\n\t\t\t\t\treturn `Cannot join ${props.message.channel} - You've already reached the maximum number of channels allowed.`;\n\t\t\t\tcase \"unknown_command\":\n\t\t\t\t\treturn `Unknown command: ${props.message.command}`;\n\t\t\t\tcase \"user_not_in_channel\":\n\t\t\t\t\treturn `User ${props.message.nick} is not on the channel.`;\n\t\t\t\tcase \"user_on_channel\":\n\t\t\t\t\treturn `User ${props.message.nick} is already on the channel.`;\n\t\t\t\tdefault:\n\t\t\t\t\tif (props.message.reason) {\n\t\t\t\t\t\treturn `${props.message.reason} (${props.message.error})`;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn props.message.error;\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\terrorMessage,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\tinvited\n\t\t<span v-if=\"message.invitedYou\">you</span>\n\t\t<Username v-else :user=\"message.target\" />\n\t\tto <ParsedMessage :network=\"network\" :text=\"message.channel\" />\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeInvite\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\t<i class=\"hostmask\">&#32;(<ParsedMessage :network=\"network\" :text=\"message.hostmask\" />)</i>\n\t\t<template v-if=\"message.account\">\n\t\t\t<i class=\"account\">&#32;[{{ message.account }}]</i>\n\t\t</template>\n\t\t<template v-if=\"message.gecos\">\n\t\t\t<i class=\"realname\">&#32;({{ message.gecos }})</i>\n\t\t</template>\n\t\thas joined the channel\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeJoin\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\thas kicked\n\t\t<Username :user=\"message.target\" />\n\t\t<i v-if=\"message.text\" class=\"part-reason\"\n\t\t\t>&#32;(<ParsedMessage :network=\"network\" :message=\"message\" />)</i\n\t\t>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeKick\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\tsets mode\n\t\t<ParsedMessage :message=\"message\" />\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeMode\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\tChannel mode is <b>{{ message.text }}</b>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"MessageChannelMode\",\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\tYour user mode is <b>{{ message.raw_modes }}</b>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"MessageChannelMode\",\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<span class=\"text\"><ParsedMessage :network=\"network\" :text=\"cleanText\" /></span>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeMonospaceBlock\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(props) {\n\t\tconst cleanText = computed(() => {\n\t\t\tlet lines = props.message.text.split(\"\\n\");\n\n\t\t\t// If all non-empty lines of the MOTD start with a hyphen (which is common\n\t\t\t// across MOTDs), remove all the leading hyphens.\n\t\t\tif (lines.every((line) => line === \"\" || line[0] === \"-\")) {\n\t\t\t\tlines = lines.map((line) => line.substring(2));\n\t\t\t}\n\n\t\t\t// Remove empty lines around the MOTD (but not within it)\n\t\t\treturn lines\n\t\t\t\t.map((line) => line.replace(/\\s*$/, \"\"))\n\t\t\t\t.join(\"\\n\")\n\t\t\t\t.replace(/^[\\r\\n]+|[\\r\\n]+$/g, \"\");\n\t\t});\n\n\t\treturn {\n\t\t\tcleanText,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\tis now known as\n\t\t<Username :user=\"{nick: message.new_nick, mode: message.from.mode}\" />\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeNick\",\n\tcomponents: {\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\t<i class=\"hostmask\"> (<ParsedMessage :network=\"network\" :text=\"message.hostmask\" />)</i> has\n\t\tleft the channel\n\t\t<i v-if=\"message.text\" class=\"part-reason\"\n\t\t\t>(<ParsedMessage :network=\"network\" :message=\"message\" />)</i\n\t\t>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypePart\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<Username :user=\"message.from\" />\n\t\t<i class=\"hostmask\"> (<ParsedMessage :network=\"network\" :text=\"message.hostmask\" />)</i> has\n\t\tquit\n\t\t<i v-if=\"message.text\" class=\"quit-reason\"\n\t\t\t>(<ParsedMessage :network=\"network\" :message=\"message\" />)</i\n\t\t>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport type {ClientMessage, ClientNetwork} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeQuit\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">{{ message.text }}</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"MessageTypeRaw\",\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<template v-if=\"message.from && message.from.nick\"\n\t\t\t><Username :user=\"message.from\" /> has changed the topic to:\n\t\t</template>\n\t\t<template v-else>The topic is: </template>\n\t\t<span v-if=\"message.text\" class=\"new-topic\"\n\t\t\t><ParsedMessage :network=\"network\" :message=\"message\"\n\t\t/></span>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport type {ClientMessage, ClientNetwork} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeTopic\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\tTopic set by\n\t\t<Username :user=\"message.from\" />\n\t\ton {{ messageTimeLocale }}\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport localetime from \"../../js/helpers/localetime\";\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeTopicSetBy\",\n\tcomponents: {\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(props) {\n\t\tconst messageTimeLocale = computed(() => localetime(props.message.when));\n\n\t\treturn {\n\t\t\tmessageTimeLocale,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span class=\"content\">\n\t\t<p>\n\t\t\t<Username :user=\"{nick: message.whois.nick}\" />\n\t\t\t<span v-if=\"message.whois.whowas\"> is offline, last information:</span>\n\t\t</p>\n\n\t\t<dl class=\"whois\">\n\t\t\t<template v-if=\"message.whois.account\">\n\t\t\t\t<dt>Logged in as:</dt>\n\t\t\t\t<dd>{{ message.whois.account }}</dd>\n\t\t\t</template>\n\n\t\t\t<dt>Host mask:</dt>\n\t\t\t<dd class=\"hostmask\">\n\t\t\t\t<ParsedMessage\n\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t:text=\"message.whois.ident + '@' + message.whois.hostname\"\n\t\t\t\t/>\n\t\t\t</dd>\n\n\t\t\t<template v-if=\"message.whois.actual_hostname\">\n\t\t\t\t<dt>Actual host:</dt>\n\t\t\t\t<dd class=\"hostmask\">\n\t\t\t\t\t<a\n\t\t\t\t\t\t:href=\"'https://ipinfo.io/' + message.whois.actual_ip\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t>{{ message.whois.actual_ip }}</a\n\t\t\t\t\t>\n\t\t\t\t\t<i v-if=\"message.whois.actual_hostname != message.whois.actual_ip\">\n\t\t\t\t\t\t({{ message.whois.actual_hostname }})</i\n\t\t\t\t\t>\n\t\t\t\t</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.real_name\">\n\t\t\t\t<dt>Real name:</dt>\n\t\t\t\t<dd><ParsedMessage :network=\"network\" :text=\"message.whois.real_name\" /></dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.registered_nick\">\n\t\t\t\t<dt>Registered nick:</dt>\n\t\t\t\t<dd>{{ message.whois.registered_nick }}</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.channels\">\n\t\t\t\t<dt>Channels:</dt>\n\t\t\t\t<dd><ParsedMessage :network=\"network\" :text=\"message.whois.channels\" /></dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.modes\">\n\t\t\t\t<dt>Modes:</dt>\n\t\t\t\t<dd>{{ message.whois.modes }}</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.special\">\n\t\t\t\t<template v-for=\"special in message.whois.special\" :key=\"special\">\n\t\t\t\t\t<dt>Special:</dt>\n\t\t\t\t\t<dd>{{ special }}</dd>\n\t\t\t\t</template>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.operator\">\n\t\t\t\t<dt>Operator:</dt>\n\t\t\t\t<dd>{{ message.whois.operator }}</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.helpop\">\n\t\t\t\t<dt>Available for help:</dt>\n\t\t\t\t<dd>Yes</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.bot\">\n\t\t\t\t<dt>Is a bot:</dt>\n\t\t\t\t<dd>Yes</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.away\">\n\t\t\t\t<dt>Away:</dt>\n\t\t\t\t<dd><ParsedMessage :network=\"network\" :text=\"message.whois.away\" /></dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.secure\">\n\t\t\t\t<dt>Secure connection:</dt>\n\t\t\t\t<dd>Yes</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.certfp\">\n\t\t\t\t<dt>Certificate:</dt>\n\t\t\t\t<dd>{{ message.whois.certfp }}</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.server\">\n\t\t\t\t<dt>Connected to:</dt>\n\t\t\t\t<dd>\n\t\t\t\t\t{{ message.whois.server }} <i>({{ message.whois.server_info }})</i>\n\t\t\t\t</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.logonTime\">\n\t\t\t\t<dt>Connected at:</dt>\n\t\t\t\t<dd>{{ localetime(message.whois.logonTime) }}</dd>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"message.whois.idle\">\n\t\t\t\t<dt>Idle since:</dt>\n\t\t\t\t<dd>{{ localetime(message.whois.idleTime) }}</dd>\n\t\t\t</template>\n\t\t</dl>\n\t</span>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport localetime from \"../../js/helpers/localetime\";\nimport {ClientNetwork, ClientMessage} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport Username from \"../Username.vue\";\n\nexport default defineComponent({\n\tname: \"MessageTypeWhois\",\n\tcomponents: {\n\t\tParsedMessage,\n\t\tUsername,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tmessage: {\n\t\t\ttype: Object as PropType<ClientMessage>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\tlocaletime: (date: Date) => localetime(date),\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"connect\" class=\"window\" role=\"tabpanel\" aria-label=\"Connect\">\n\t\t<div class=\"header\">\n\t\t\t<SidebarToggle />\n\t\t</div>\n\t\t<form class=\"container\" method=\"post\" action=\"\" @submit.prevent=\"onSubmit\">\n\t\t\t<h1 class=\"title\">\n\t\t\t\t<template v-if=\"defaults.uuid\">\n\t\t\t\t\t<input v-model=\"defaults.uuid\" type=\"hidden\" name=\"uuid\" />\n\t\t\t\t\tEdit {{ defaults.name }}\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\tConnect\n\t\t\t\t\t<template\n\t\t\t\t\t\tv-if=\"config?.lockNetwork && store?.state.serverConfiguration?.public\"\n\t\t\t\t\t>\n\t\t\t\t\t\tto {{ defaults.name }}\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</h1>\n\t\t\t<template v-if=\"!config?.lockNetwork\">\n\t\t\t\t<h2>Network settings</h2>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:name\">Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"connect:name\"\n\t\t\t\t\t\tv-model.trim=\"defaults.name\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:host\">Server</label>\n\t\t\t\t\t<div class=\"input-wrap\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:host\"\n\t\t\t\t\t\t\tv-model.trim=\"defaults.host\"\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\tname=\"host\"\n\t\t\t\t\t\t\taria-label=\"Server address\"\n\t\t\t\t\t\t\tmaxlength=\"255\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span id=\"connect:portseparator\">:</span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:port\"\n\t\t\t\t\t\t\tv-model=\"defaults.port\"\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tmax=\"65535\"\n\t\t\t\t\t\t\tname=\"port\"\n\t\t\t\t\t\t\taria-label=\"Server port\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:password\">Password</label>\n\t\t\t\t\t<RevealPassword\n\t\t\t\t\t\tv-slot:default=\"slotProps\"\n\t\t\t\t\t\tclass=\"input-wrap password-container\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:password\"\n\t\t\t\t\t\t\tv-model=\"defaults.password\"\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\t\tplaceholder=\"Server password (optional)\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RevealPassword>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label></label>\n\t\t\t\t\t<div class=\"input-wrap\">\n\t\t\t\t\t\t<label class=\"tls\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tv-model=\"defaults.tls\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname=\"tls\"\n\t\t\t\t\t\t\t\t:disabled=\"defaults.hasSTSPolicy\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tUse secure connection (TLS)\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tv-if=\"defaults.hasSTSPolicy\"\n\t\t\t\t\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\t\t\t\t\taria-label=\"This network has a strict transport security policy, you will be unable to disable TLS\"\n\t\t\t\t\t\t\t\t> STS</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class=\"tls\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tv-model=\"defaults.rejectUnauthorized\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname=\"rejectUnauthorized\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tOnly allow trusted certificates\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<h2>Proxy Settings</h2>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label></label>\n\t\t\t\t\t<div class=\"input-wrap\">\n\t\t\t\t\t\t<label for=\"connect:proxyEnabled\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:proxyEnabled\"\n\t\t\t\t\t\t\t\tv-model=\"defaults.proxyEnabled\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tname=\"proxyEnabled\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tEnable Proxy\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<template v-if=\"defaults.proxyEnabled\">\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:proxyHost\">SOCKS Address</label>\n\t\t\t\t\t\t<div class=\"input-wrap\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:proxyHost\"\n\t\t\t\t\t\t\t\tv-model.trim=\"defaults.proxyHost\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\tname=\"proxyHost\"\n\t\t\t\t\t\t\t\taria-label=\"Proxy host\"\n\t\t\t\t\t\t\t\tmaxlength=\"255\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span id=\"connect:proxyPortSeparator\">:</span>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:proxyPort\"\n\t\t\t\t\t\t\t\tv-model=\"defaults.proxyPort\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\tmax=\"65535\"\n\t\t\t\t\t\t\t\tname=\"proxyPort\"\n\t\t\t\t\t\t\t\taria-label=\"SOCKS port\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:proxyUsername\">Proxy username</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:proxyUsername\"\n\t\t\t\t\t\t\tref=\"proxyUsernameInput\"\n\t\t\t\t\t\t\tv-model.trim=\"defaults.proxyUsername\"\n\t\t\t\t\t\t\tclass=\"input username\"\n\t\t\t\t\t\t\tname=\"proxyUsername\"\n\t\t\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\t\t\tplaceholder=\"Proxy username\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:proxyPassword\">Proxy password</label>\n\t\t\t\t\t\t<RevealPassword\n\t\t\t\t\t\t\tv-slot:default=\"slotProps\"\n\t\t\t\t\t\t\tclass=\"input-wrap password-container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:proxyPassword\"\n\t\t\t\t\t\t\t\tref=\"proxyPassword\"\n\t\t\t\t\t\t\t\tv-model=\"defaults.proxyPassword\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\t\t\tplaceholder=\"Proxy password\"\n\t\t\t\t\t\t\t\tname=\"proxyPassword\"\n\t\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</RevealPassword>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"config.lockNetwork && !store.state.serverConfiguration?.public\">\n\t\t\t\t<h2>Network settings</h2>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:name\">Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"connect:name\"\n\t\t\t\t\t\tv-model.trim=\"defaults.name\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:password\">Password</label>\n\t\t\t\t\t<RevealPassword\n\t\t\t\t\t\tv-slot:default=\"slotProps\"\n\t\t\t\t\t\tclass=\"input-wrap password-container\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:password\"\n\t\t\t\t\t\t\tv-model=\"defaults.password\"\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\t\tplaceholder=\"Server password (optional)\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RevealPassword>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<h2>User preferences</h2>\n\t\t\t<div class=\"connect-row\">\n\t\t\t\t<label for=\"connect:nick\">Nick</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"connect:nick\"\n\t\t\t\t\tv-model=\"defaults.nick\"\n\t\t\t\t\tclass=\"input nick\"\n\t\t\t\t\tname=\"nick\"\n\t\t\t\t\tpattern=\"[^\\s:!@]+\"\n\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\trequired\n\t\t\t\t\t@input=\"onNickChanged\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<template v-if=\"!config?.useHexIp\">\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:username\">Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"connect:username\"\n\t\t\t\t\t\tref=\"usernameInput\"\n\t\t\t\t\t\tv-model.trim=\"defaults.username\"\n\t\t\t\t\t\tclass=\"input username\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div class=\"connect-row\">\n\t\t\t\t<label for=\"connect:realname\">Real name</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"connect:realname\"\n\t\t\t\t\tv-model.trim=\"defaults.realname\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tname=\"realname\"\n\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"connect-row\">\n\t\t\t\t<label for=\"connect:leaveMessage\">Leave message</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"connect:leaveMessage\"\n\t\t\t\t\tv-model.trim=\"defaults.leaveMessage\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tname=\"leaveMessage\"\n\t\t\t\t\tplaceholder=\"The Lounge - https://thelounge.chat\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<template v-if=\"defaults.uuid && !store.state.serverConfiguration?.public\">\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:commands\">\n\t\t\t\t\t\tCommands\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"tooltipped tooltipped-ne tooltipped-no-delay\"\n\t\t\t\t\t\t\taria-label=\"One /command per line.\nEach command will be executed in\nthe server tab on new connection\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button class=\"extra-help\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"connect:commands\"\n\t\t\t\t\t\tref=\"commandsInput\"\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t:value=\"defaults.commands ? defaults.commands.join('\\n') : ''\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tname=\"commands\"\n\t\t\t\t\t\t@input=\"resizeCommandsInput\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"!defaults.uuid\">\n\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t<label for=\"connect:channels\">Channels</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"connect:channels\"\n\t\t\t\t\t\tv-model.trim=\"defaults.join\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tname=\"join\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"store.state.serverConfiguration?.public\">\n\t\t\t\t<template v-if=\"config?.lockNetwork\">\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label></label>\n\t\t\t\t\t\t<div class=\"input-wrap\">\n\t\t\t\t\t\t\t<label class=\"tls\">\n\t\t\t\t\t\t\t\t<input v-model=\"displayPasswordField\" type=\"checkbox\" />\n\t\t\t\t\t\t\t\tI have a password\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"displayPasswordField\" class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:password\">Password</label>\n\t\t\t\t\t\t<RevealPassword\n\t\t\t\t\t\t\tv-slot:default=\"slotProps\"\n\t\t\t\t\t\t\tclass=\"input-wrap password-container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:password\"\n\t\t\t\t\t\t\t\tref=\"publicPassword\"\n\t\t\t\t\t\t\t\tv-model=\"defaults.password\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\t\t\tplaceholder=\"Server password (optional)\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</RevealPassword>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<h2 id=\"label-auth\">Authentication</h2>\n\t\t\t\t<div class=\"connect-row connect-auth\" role=\"group\" aria-labelledby=\"label-auth\">\n\t\t\t\t\t<label class=\"opt\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t:checked=\"!defaults.sasl\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sasl\"\n\t\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\t\t@change=\"setSaslAuth('')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tNo authentication\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"opt\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t:checked=\"defaults.sasl === 'plain'\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sasl\"\n\t\t\t\t\t\t\tvalue=\"plain\"\n\t\t\t\t\t\t\t@change=\"setSaslAuth('plain')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tUsername + password (SASL PLAIN)\n\t\t\t\t\t</label>\n\t\t\t\t\t<label\n\t\t\t\t\t\tv-if=\"!store.state.serverConfiguration?.public && defaults.tls\"\n\t\t\t\t\t\tclass=\"opt\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t:checked=\"defaults.sasl === 'external'\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname=\"sasl\"\n\t\t\t\t\t\t\tvalue=\"external\"\n\t\t\t\t\t\t\t@change=\"setSaslAuth('external')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tClient certificate (SASL EXTERNAL)\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<template v-if=\"defaults.sasl === 'plain'\">\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:username\">Account</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"connect:saslAccount\"\n\t\t\t\t\t\t\tv-model.trim=\"defaults.saslAccount\"\n\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\tname=\"saslAccount\"\n\t\t\t\t\t\t\tmaxlength=\"100\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"connect-row\">\n\t\t\t\t\t\t<label for=\"connect:password\">Password</label>\n\t\t\t\t\t\t<RevealPassword\n\t\t\t\t\t\t\tv-slot:default=\"slotProps\"\n\t\t\t\t\t\t\tclass=\"input-wrap password-container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"connect:saslPassword\"\n\t\t\t\t\t\t\t\tv-model=\"defaults.saslPassword\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\t\t\tname=\"saslPassword\"\n\t\t\t\t\t\t\t\tmaxlength=\"300\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</RevealPassword>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div v-else-if=\"defaults.sasl === 'external'\" class=\"connect-sasl-external\">\n\t\t\t\t\t<p>The Lounge automatically generates and manages the client certificate.</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tOn the IRC server, you will need to tell the services to attach the\n\t\t\t\t\t\tcertificate fingerprint (certfp) to your account, for example:\n\t\t\t\t\t</p>\n\t\t\t\t\t<pre><code>/msg NickServ CERT ADD</code></pre>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\" class=\"btn\" :disabled=\"disabled ? true : false\">\n\t\t\t\t\t<template v-if=\"defaults.uuid\">Save network</template>\n\t\t\t\t\t<template v-else>Connect</template>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</template>\n\n<style>\n#connect .connect-auth {\n\tdisplay: block;\n\tmargin-bottom: 10px;\n}\n\n#connect .connect-auth .opt {\n\tdisplay: block;\n\twidth: 100%;\n}\n\n#connect .connect-auth input {\n\tmargin: 3px 10px 0 0;\n}\n\n#connect .connect-sasl-external {\n\tpadding: 10px;\n\tborder-radius: 2px;\n\tbackground-color: #d9edf7;\n\tcolor: #31708f;\n}\n\n#connect .connect-sasl-external pre {\n\tmargin: 0;\n\tuser-select: text;\n}\n</style>\n\n<script lang=\"ts\">\nimport RevealPassword from \"./RevealPassword.vue\";\nimport SidebarToggle from \"./SidebarToggle.vue\";\nimport {defineComponent, nextTick, PropType, ref, watch} from \"vue\";\nimport {useStore} from \"../js/store\";\nimport {ClientNetwork} from \"../js/types\";\n\nexport type NetworkFormDefaults = Partial<ClientNetwork> & {\n\tjoin?: string;\n};\n\nexport default defineComponent({\n\tname: \"NetworkForm\",\n\tcomponents: {\n\t\tRevealPassword,\n\t\tSidebarToggle,\n\t},\n\tprops: {\n\t\thandleSubmit: {\n\t\t\ttype: Function as PropType<(network: ClientNetwork) => void>,\n\t\t\trequired: true,\n\t\t},\n\t\tdefaults: {\n\t\t\ttype: Object as PropType<NetworkFormDefaults>,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: Boolean,\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\t\tconst config = ref(store.state.serverConfiguration);\n\t\tconst previousUsername = ref(props.defaults?.username);\n\t\tconst displayPasswordField = ref(false);\n\n\t\tconst publicPassword = ref<HTMLInputElement | null>(null);\n\n\t\twatch(displayPasswordField, (newValue) => {\n\t\t\tif (newValue) {\n\t\t\t\tvoid nextTick(() => {\n\t\t\t\t\tpublicPassword.value?.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tconst commandsInput = ref<HTMLInputElement | null>(null);\n\n\t\tconst resizeCommandsInput = () => {\n\t\t\tif (!commandsInput.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset height first so it can down size\n\t\t\tcommandsInput.value.style.height = \"\";\n\n\t\t\t// 2 pixels to account for the border\n\t\t\tcommandsInput.value.style.height = `${Math.ceil(\n\t\t\t\tcommandsInput.value.scrollHeight + 2\n\t\t\t)}px`;\n\t\t};\n\n\t\twatch(\n\t\t\t() => props.defaults?.commands,\n\t\t\t() => {\n\t\t\t\tvoid nextTick(() => {\n\t\t\t\t\tresizeCommandsInput();\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => props.defaults?.tls,\n\t\t\t(isSecureChecked) => {\n\t\t\t\tconst ports = [6667, 6697];\n\t\t\t\tconst newPort = isSecureChecked ? 0 : 1;\n\n\t\t\t\t// If you disable TLS and current port is 6697,\n\t\t\t\t// set it to 6667, and vice versa\n\t\t\t\tif (props.defaults?.port === ports[newPort]) {\n\t\t\t\t\tprops.defaults.port = ports[1 - newPort];\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst setSaslAuth = (type: string) => {\n\t\t\tif (props.defaults) {\n\t\t\t\tprops.defaults.sasl = type;\n\t\t\t}\n\t\t};\n\n\t\tconst usernameInput = ref<HTMLInputElement | null>(null);\n\n\t\tconst onNickChanged = (event: Event) => {\n\t\t\tif (!usernameInput.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst usernameRef = usernameInput.value;\n\n\t\t\tif (!usernameRef.value || usernameRef.value === previousUsername.value) {\n\t\t\t\tusernameRef.value = (event.target as HTMLInputElement)?.value;\n\t\t\t}\n\n\t\t\tpreviousUsername.value = (event.target as HTMLInputElement)?.value;\n\t\t};\n\n\t\tconst onSubmit = (event: Event) => {\n\t\t\tconst formData = new FormData(event.target as HTMLFormElement);\n\t\t\tconst data: Partial<ClientNetwork> = {};\n\n\t\t\tformData.forEach((value, key) => {\n\t\t\t\tdata[key] = value;\n\t\t\t});\n\n\t\t\tprops.handleSubmit(data as ClientNetwork);\n\t\t};\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tconfig,\n\t\t\tdisplayPasswordField,\n\t\t\tpublicPassword,\n\t\t\tcommandsInput,\n\t\t\tresizeCommandsInput,\n\t\t\tsetSaslAuth,\n\t\t\tusernameInput,\n\t\t\tonNickChanged,\n\t\t\tonSubmit,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div\n\t\tv-if=\"store.state.networks.length === 0\"\n\t\tclass=\"empty\"\n\t\trole=\"navigation\"\n\t\taria-label=\"Network and Channel list\"\n\t>\n\t\tYou are not connected to any networks yet.\n\t</div>\n\t<div v-else ref=\"networklist\" role=\"navigation\" aria-label=\"Network and Channel list\">\n\t\t<div class=\"jump-to-input\">\n\t\t\t<input\n\t\t\t\tref=\"searchInput\"\n\t\t\t\t:value=\"searchText\"\n\t\t\t\tplaceholder=\"Jump to...\"\n\t\t\t\ttype=\"search\"\n\t\t\t\tclass=\"search input mousetrap\"\n\t\t\t\taria-label=\"Search among the channel list\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t\t@input=\"setSearchText\"\n\t\t\t\t@keydown.up=\"navigateResults($event, -1)\"\n\t\t\t\t@keydown.down=\"navigateResults($event, 1)\"\n\t\t\t\t@keydown.page-up=\"navigateResults($event, -10)\"\n\t\t\t\t@keydown.page-down=\"navigateResults($event, 10)\"\n\t\t\t\t@keydown.enter=\"selectResult\"\n\t\t\t\t@keydown.escape=\"deactivateSearch\"\n\t\t\t\t@focus=\"activateSearch\"\n\t\t\t/>\n\t\t</div>\n\t\t<div v-if=\"searchText\" class=\"jump-to-results\">\n\t\t\t<div v-if=\"results.length\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"item in results\"\n\t\t\t\t\t:key=\"item.channel.id\"\n\t\t\t\t\t@mouseenter=\"setActiveSearchItem(item.channel)\"\n\t\t\t\t\t@click.prevent=\"selectResult\"\n\t\t\t\t>\n\t\t\t\t\t<Channel\n\t\t\t\t\t\tv-if=\"item.channel.type !== 'lobby'\"\n\t\t\t\t\t\t:channel=\"item.channel\"\n\t\t\t\t\t\t:network=\"item.network\"\n\t\t\t\t\t\t:active=\"item.channel === activeSearchItem\"\n\t\t\t\t\t\t:is-filtering=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<NetworkLobby\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:channel=\"item.channel\"\n\t\t\t\t\t\t:network=\"item.network\"\n\t\t\t\t\t\t:active=\"item.channel === activeSearchItem\"\n\t\t\t\t\t\t:is-filtering=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"no-results\">No results found.</div>\n\t\t</div>\n\t\t<Draggable\n\t\t\tv-else\n\t\t\t:list=\"store.state.networks\"\n\t\t\t:delay=\"LONG_TOUCH_DURATION\"\n\t\t\t:delay-on-touch-only=\"true\"\n\t\t\t:touch-start-threshold=\"10\"\n\t\t\thandle=\".channel-list-item[data-type='lobby']\"\n\t\t\tdraggable=\".network\"\n\t\t\tghost-class=\"ui-sortable-ghost\"\n\t\t\tdrag-class=\"ui-sortable-dragging\"\n\t\t\tgroup=\"networks\"\n\t\t\tclass=\"networks\"\n\t\t\titem-key=\"uuid\"\n\t\t\t@change=\"onNetworkSort\"\n\t\t\t@choose=\"onDraggableChoose\"\n\t\t\t@unchoose=\"onDraggableUnchoose\"\n\t\t>\n\t\t\t<template v-slot:item=\"{element: network}\">\n\t\t\t\t<div\n\t\t\t\t\t:id=\"'network-' + network.uuid\"\n\t\t\t\t\t:key=\"network.uuid\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\tcollapsed: network.isCollapsed,\n\t\t\t\t\t\t'not-connected': !network.status.connected,\n\t\t\t\t\t\t'not-secure': !network.status.secure,\n\t\t\t\t\t}\"\n\t\t\t\t\tclass=\"network\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t@touchstart=\"onDraggableTouchStart\"\n\t\t\t\t\t@touchmove=\"onDraggableTouchMove\"\n\t\t\t\t\t@touchend=\"onDraggableTouchEnd\"\n\t\t\t\t\t@touchcancel=\"onDraggableTouchEnd\"\n\t\t\t\t>\n\t\t\t\t\t<NetworkLobby\n\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t:is-join-channel-shown=\"network.isJoinChannelShown\"\n\t\t\t\t\t\t:active=\"\n\t\t\t\t\t\t\tstore.state.activeChannel &&\n\t\t\t\t\t\t\tnetwork.channels[0] === store.state.activeChannel.channel\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@toggle-join-channel=\"\n\t\t\t\t\t\t\tnetwork.isJoinChannelShown = !network.isJoinChannelShown\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<JoinChannel\n\t\t\t\t\t\tv-if=\"network.isJoinChannelShown\"\n\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t:channel=\"network.channels[0]\"\n\t\t\t\t\t\t@toggle-join-channel=\"\n\t\t\t\t\t\t\tnetwork.isJoinChannelShown = !network.isJoinChannelShown\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Draggable\n\t\t\t\t\t\tdraggable=\".channel-list-item\"\n\t\t\t\t\t\tghost-class=\"ui-sortable-ghost\"\n\t\t\t\t\t\tdrag-class=\"ui-sortable-dragging\"\n\t\t\t\t\t\t:group=\"network.uuid\"\n\t\t\t\t\t\t:list=\"network.channels\"\n\t\t\t\t\t\t:delay=\"LONG_TOUCH_DURATION\"\n\t\t\t\t\t\t:delay-on-touch-only=\"true\"\n\t\t\t\t\t\t:touch-start-threshold=\"10\"\n\t\t\t\t\t\tclass=\"channels\"\n\t\t\t\t\t\titem-key=\"name\"\n\t\t\t\t\t\t@change=\"onChannelSort\"\n\t\t\t\t\t\t@choose=\"onDraggableChoose\"\n\t\t\t\t\t\t@unchoose=\"onDraggableUnchoose\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template v-slot:item=\"{element: channel, index}\">\n\t\t\t\t\t\t\t<Channel\n\t\t\t\t\t\t\t\tv-if=\"index > 0\"\n\t\t\t\t\t\t\t\t:key=\"channel.id\"\n\t\t\t\t\t\t\t\t:data-item=\"channel.id\"\n\t\t\t\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t\t\t:active=\"\n\t\t\t\t\t\t\t\t\tstore.state.activeChannel &&\n\t\t\t\t\t\t\t\t\tchannel === store.state.activeChannel.channel\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Draggable>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</Draggable>\n\t</div>\n</template>\n\n<style>\n.jump-to-input {\n\tmargin: 8px;\n\tposition: relative;\n}\n\n.jump-to-input .input {\n\tmargin: 0;\n\twidth: 100%;\n\tborder: 0;\n\tcolor: #fff;\n\tbackground-color: rgba(255, 255, 255, 0.1);\n\tpadding-right: 35px;\n\tappearance: none;\n}\n\n.jump-to-input .input::placeholder {\n\tcolor: rgba(255, 255, 255, 0.35);\n}\n\n.jump-to-input::before {\n\tcontent: \"\\f002\"; /* http://fontawesome.io/icon/search/ */\n\tcolor: rgba(255, 255, 255, 0.35);\n\tposition: absolute;\n\tright: 8px;\n\ttop: 0;\n\tbottom: 0;\n\tpointer-events: none;\n\tline-height: 35px !important;\n}\n\n.jump-to-results {\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none;\n\toverflow: auto;\n}\n\n.jump-to-results .no-results {\n\tmargin: 14px 8px;\n\ttext-align: center;\n}\n\n.jump-to-results .channel-list-item.active {\n\tcursor: pointer;\n}\n\n.jump-to-results .channel-list-item .add-channel,\n.jump-to-results .channel-list-item .close-tooltip {\n\tdisplay: none;\n}\n\n.jump-to-results .channel-list-item[data-type=\"lobby\"] {\n\tpadding: 8px 14px;\n}\n\n.jump-to-results .channel-list-item[data-type=\"lobby\"]::before {\n\tcontent: \"\\f233\";\n}\n</style>\n\n<script lang=\"ts\">\nimport {computed, watch, defineComponent, nextTick, onBeforeUnmount, onMounted, ref} from \"vue\";\n\nimport Mousetrap from \"mousetrap\";\nimport Draggable from \"./Draggable.vue\";\nimport {filter as fuzzyFilter} from \"fuzzy\";\nimport NetworkLobby from \"./NetworkLobby.vue\";\nimport Channel from \"./Channel.vue\";\nimport JoinChannel from \"./JoinChannel.vue\";\n\nimport socket from \"../js/socket\";\nimport collapseNetworkHelper from \"../js/helpers/collapseNetwork\";\nimport isIgnoredKeybind from \"../js/helpers/isIgnoredKeybind\";\nimport distance from \"../js/helpers/distance\";\nimport eventbus from \"../js/eventbus\";\nimport {ClientChan, NetChan} from \"../js/types\";\nimport {useStore} from \"../js/store\";\nimport {switchToChannel} from \"../js/router\";\nimport Sortable from \"sortablejs\";\n\nexport default defineComponent({\n\tname: \"NetworkList\",\n\tcomponents: {\n\t\tJoinChannel,\n\t\tNetworkLobby,\n\t\tChannel,\n\t\tDraggable,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst searchText = ref(\"\");\n\t\tconst activeSearchItem = ref<ClientChan | null>();\n\t\t// Number of milliseconds a touch has to last to be considered long\n\t\tconst LONG_TOUCH_DURATION = 500;\n\n\t\tconst startDrag = ref<[number, number] | null>();\n\t\tconst searchInput = ref<HTMLInputElement | null>(null);\n\t\tconst networklist = ref<HTMLDivElement | null>(null);\n\n\t\tconst sidebarWasClosed = ref(false);\n\n\t\tconst moveItemInArray = <T>(array: T[], from: number, to: number) => {\n\t\t\tconst item = array.splice(from, 1)[0];\n\t\t\tarray.splice(to, 0, item);\n\t\t};\n\n\t\tconst items = computed(() => {\n\t\t\tconst newItems: NetChan[] = [];\n\n\t\t\tfor (const network of store.state.networks) {\n\t\t\t\tfor (const channel of network.channels) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tstore.state.activeChannel &&\n\t\t\t\t\t\tchannel === store.state.activeChannel.channel\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewItems.push({network, channel});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn newItems;\n\t\t});\n\n\t\tconst results = computed(() => {\n\t\t\tconst newResults = fuzzyFilter(searchText.value, items.value, {\n\t\t\t\textract: (item) => item.channel.name,\n\t\t\t}).map((item) => item.original);\n\n\t\t\treturn newResults;\n\t\t});\n\n\t\tconst collapseNetwork = (event: Mousetrap.ExtendedKeyboardEvent) => {\n\t\t\tif (isIgnoredKeybind(event)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (store.state.activeChannel) {\n\t\t\t\tcollapseNetworkHelper(store.state.activeChannel.network, true);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst expandNetwork = (event: Mousetrap.ExtendedKeyboardEvent) => {\n\t\t\tif (isIgnoredKeybind(event)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (store.state.activeChannel) {\n\t\t\t\tcollapseNetworkHelper(store.state.activeChannel.network, false);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tconst onNetworkSort = (e: Sortable.SortableEvent) => {\n\t\t\tconst {oldIndex, newIndex} = e;\n\n\t\t\tif (oldIndex === undefined || newIndex === undefined || oldIndex === newIndex) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoveItemInArray(store.state.networks, oldIndex, newIndex);\n\n\t\t\tsocket.emit(\"sort\", {\n\t\t\t\ttype: \"networks\",\n\t\t\t\torder: store.state.networks.map((n) => n.uuid),\n\t\t\t});\n\t\t};\n\n\t\tconst onChannelSort = (e: Sortable.SortableEvent) => {\n\t\t\tlet {oldIndex, newIndex} = e;\n\n\t\t\tif (oldIndex === undefined || newIndex === undefined || oldIndex === newIndex) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Indexes are offset by one due to the lobby\n\t\t\toldIndex += 1;\n\t\t\tnewIndex += 1;\n\n\t\t\tconst unparsedId = e.item.getAttribute(\"data-item\");\n\n\t\t\tif (!unparsedId) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst id = parseInt(unparsedId);\n\t\t\tconst netChan = store.getters.findChannel(id);\n\n\t\t\tif (!netChan) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoveItemInArray(netChan.network.channels, oldIndex, newIndex);\n\n\t\t\tsocket.emit(\"sort\", {\n\t\t\t\ttype: \"channels\",\n\t\t\t\ttarget: netChan.network.uuid,\n\t\t\t\torder: netChan.network.channels.map((c) => c.id),\n\t\t\t});\n\t\t};\n\n\t\tconst isTouchEvent = (event: any): boolean => {\n\t\t\t// This is the same way Sortable.js detects a touch event. See\n\t\t\t// SortableJS/Sortable@daaefeda:/src/Sortable.js#L465\n\n\t\t\treturn !!(\n\t\t\t\t(event.touches && event.touches[0]) ||\n\t\t\t\t(event.pointerType && event.pointerType === \"touch\")\n\t\t\t);\n\t\t};\n\n\t\tconst onDraggableChoose = (event: any) => {\n\t\t\tconst original = event.originalEvent;\n\n\t\t\tif (isTouchEvent(original)) {\n\t\t\t\t// onDrag is only triggered when the user actually moves the\n\t\t\t\t// dragged object but onChoose is triggered as soon as the\n\t\t\t\t// item is eligible for dragging. This gives us an opportunity\n\t\t\t\t// to tell the user they've held the touch long enough.\n\t\t\t\tevent.item.classList.add(\"ui-sortable-dragging-touch-cue\");\n\n\t\t\t\tif (original instanceof TouchEvent && original.touches.length > 0) {\n\t\t\t\t\tstartDrag.value = [original.touches[0].clientX, original.touches[0].clientY];\n\t\t\t\t} else if (original instanceof PointerEvent) {\n\t\t\t\t\tstartDrag.value = [original.clientX, original.clientY];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst onDraggableUnchoose = (event: any) => {\n\t\t\tevent.item.classList.remove(\"ui-sortable-dragging-touch-cue\");\n\t\t\tstartDrag.value = null;\n\t\t};\n\n\t\tconst onDraggableTouchStart = (event: TouchEvent) => {\n\t\t\tif (event.touches.length === 1) {\n\t\t\t\t// This prevents an iOS long touch default behavior: selecting\n\t\t\t\t// the nearest selectable text.\n\t\t\t\tdocument.body.classList.add(\"force-no-select\");\n\t\t\t}\n\t\t};\n\n\t\tconst onDraggableTouchMove = (event: TouchEvent) => {\n\t\t\tif (startDrag.value && event.touches.length > 0) {\n\t\t\t\tconst touch = event.touches[0];\n\t\t\t\tconst currentPosition = [touch.clientX, touch.clientY];\n\n\t\t\t\tif (distance(startDrag.value, currentPosition as [number, number]) > 10) {\n\t\t\t\t\t// Context menu is shown on Android after long touch.\n\t\t\t\t\t// Dismiss it now that we're sure the user is dragging.\n\t\t\t\t\teventbus.emit(\"contextmenu:cancel\");\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst onDraggableTouchEnd = (event: TouchEvent) => {\n\t\t\tif (event.touches.length === 0) {\n\t\t\t\tdocument.body.classList.remove(\"force-no-select\");\n\t\t\t}\n\t\t};\n\n\t\tconst activateSearch = () => {\n\t\t\tif (searchInput.value === document.activeElement) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsidebarWasClosed.value = store.state.sidebarOpen ? false : true;\n\t\t\tstore.commit(\"sidebarOpen\", true);\n\n\t\t\tvoid nextTick(() => {\n\t\t\t\tsearchInput.value?.focus();\n\t\t\t});\n\t\t};\n\n\t\tconst deactivateSearch = () => {\n\t\t\tactiveSearchItem.value = null;\n\t\t\tsearchText.value = \"\";\n\t\t\tsearchInput.value?.blur();\n\n\t\t\tif (sidebarWasClosed.value) {\n\t\t\t\tstore.commit(\"sidebarOpen\", false);\n\t\t\t}\n\t\t};\n\n\t\tconst toggleSearch = (event: Mousetrap.ExtendedKeyboardEvent) => {\n\t\t\tif (isIgnoredKeybind(event)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (searchInput.value === document.activeElement) {\n\t\t\t\tdeactivateSearch();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tactivateSearch();\n\t\t\treturn false;\n\t\t};\n\n\t\tconst setSearchText = (e: Event) => {\n\t\t\tsearchText.value = (e.target as HTMLInputElement).value;\n\t\t};\n\n\t\tconst setActiveSearchItem = (channel?: ClientChan) => {\n\t\t\tif (!results.value.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!channel) {\n\t\t\t\tchannel = results.value[0].channel;\n\t\t\t}\n\n\t\t\tactiveSearchItem.value = channel;\n\t\t};\n\n\t\tconst scrollToActive = () => {\n\t\t\t// Scroll the list if needed after the active class is applied\n\t\t\tvoid nextTick(() => {\n\t\t\t\tconst el = networklist.value?.querySelector(\".channel-list-item.active\");\n\n\t\t\t\tif (el) {\n\t\t\t\t\tel.scrollIntoView({block: \"nearest\", inline: \"nearest\"});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tconst selectResult = () => {\n\t\t\tif (!searchText.value || !results.value.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (activeSearchItem.value) {\n\t\t\t\tswitchToChannel(activeSearchItem.value);\n\t\t\t\tdeactivateSearch();\n\t\t\t\tscrollToActive();\n\t\t\t}\n\t\t};\n\n\t\tconst navigateResults = (event: Event, direction: number) => {\n\t\t\t// Prevent propagation to stop global keybind handler from capturing pagedown/pageup\n\t\t\t// and redirecting it to the message list container for scrolling\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\tif (!searchText.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst channels = results.value.map((r) => r.channel);\n\n\t\t\t// Bail out if there's no channels to select\n\t\t\tif (!channels.length) {\n\t\t\t\tactiveSearchItem.value = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet currentIndex = activeSearchItem.value\n\t\t\t\t? channels.indexOf(activeSearchItem.value)\n\t\t\t\t: -1;\n\n\t\t\t// If there's no active channel select the first or last one depending on direction\n\t\t\tif (!activeSearchItem.value || currentIndex === -1) {\n\t\t\t\tactiveSearchItem.value = direction ? channels[0] : channels[channels.length - 1];\n\t\t\t\tscrollToActive();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcurrentIndex += direction;\n\n\t\t\t// Wrap around the list if necessary. Normaly each loop iterates once at most,\n\t\t\t// but might iterate more often if pgup or pgdown are used in a very short list\n\t\t\twhile (currentIndex < 0) {\n\t\t\t\tcurrentIndex += channels.length;\n\t\t\t}\n\n\t\t\twhile (currentIndex > channels.length - 1) {\n\t\t\t\tcurrentIndex -= channels.length;\n\t\t\t}\n\n\t\t\tactiveSearchItem.value = channels[currentIndex];\n\t\t\tscrollToActive();\n\t\t};\n\n\t\twatch(searchText, () => {\n\t\t\tsetActiveSearchItem();\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tMousetrap.bind(\"alt+shift+right\", expandNetwork);\n\t\t\tMousetrap.bind(\"alt+shift+left\", collapseNetwork);\n\t\t\tMousetrap.bind(\"alt+j\", toggleSearch);\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\tMousetrap.unbind(\"alt+shift+right\");\n\t\t\tMousetrap.unbind(\"alt+shift+left\");\n\t\t\tMousetrap.unbind(\"alt+j\");\n\t\t});\n\n\t\tconst networkContainerRef = ref<HTMLDivElement>();\n\t\tconst channelRefs = ref<{[key: string]: HTMLDivElement}>({});\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tnetworklist,\n\t\t\tsearchInput,\n\t\t\tsearchText,\n\t\t\tresults,\n\t\t\tactiveSearchItem,\n\t\t\tLONG_TOUCH_DURATION,\n\n\t\t\tactivateSearch,\n\t\t\tdeactivateSearch,\n\t\t\ttoggleSearch,\n\t\t\tsetSearchText,\n\t\t\tsetActiveSearchItem,\n\t\t\tscrollToActive,\n\t\t\tselectResult,\n\t\t\tnavigateResults,\n\t\t\tonChannelSort,\n\t\t\tonNetworkSort,\n\t\t\tonDraggableTouchStart,\n\t\t\tonDraggableTouchMove,\n\t\t\tonDraggableTouchEnd,\n\t\t\tonDraggableChoose,\n\t\t\tonDraggableUnchoose,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<ChannelWrapper v-bind=\"$props\" :channel=\"channel\">\n\t\t<button\n\t\t\tv-if=\"network.channels.length > 1\"\n\t\t\t:aria-controls=\"'network-' + network.uuid\"\n\t\t\t:aria-label=\"getExpandLabel(network)\"\n\t\t\t:aria-expanded=\"!network.isCollapsed\"\n\t\t\tclass=\"collapse-network\"\n\t\t\t@click.stop=\"onCollapseClick\"\n\t\t>\n\t\t\t<span class=\"collapse-network-icon\" />\n\t\t</button>\n\t\t<span v-else class=\"collapse-network\" />\n\t\t<div class=\"lobby-wrap\">\n\t\t\t<span :title=\"channel.name\" class=\"name\">{{ channel.name }}</span>\n\t\t\t<span\n\t\t\t\tv-if=\"network.status.connected && !network.status.secure\"\n\t\t\t\tclass=\"not-secure-tooltip tooltipped tooltipped-w\"\n\t\t\t\taria-label=\"Insecure connection\"\n\t\t\t>\n\t\t\t\t<span class=\"not-secure-icon\" />\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tv-if=\"!network.status.connected\"\n\t\t\t\tclass=\"not-connected-tooltip tooltipped tooltipped-w\"\n\t\t\t\taria-label=\"Disconnected\"\n\t\t\t>\n\t\t\t\t<span class=\"not-connected-icon\" />\n\t\t\t</span>\n\t\t\t<span v-if=\"channel.unread\" :class=\"{highlight: channel.highlight}\" class=\"badge\">{{\n\t\t\t\tunreadCount\n\t\t\t}}</span>\n\t\t</div>\n\t\t<span\n\t\t\t:aria-label=\"joinChannelLabel\"\n\t\t\tclass=\"add-channel-tooltip tooltipped tooltipped-w tooltipped-no-touch\"\n\t\t>\n\t\t\t<button\n\t\t\t\t:class=\"['add-channel', {opened: isJoinChannelShown}]\"\n\t\t\t\t:aria-controls=\"'join-channel-' + channel.id\"\n\t\t\t\t:aria-label=\"joinChannelLabel\"\n\t\t\t\t@click.stop=\"$emit('toggle-join-channel')\"\n\t\t\t/>\n\t\t</span>\n\t</ChannelWrapper>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport collapseNetwork from \"../js/helpers/collapseNetwork\";\nimport roundBadgeNumber from \"../js/helpers/roundBadgeNumber\";\nimport ChannelWrapper from \"./ChannelWrapper.vue\";\n\nimport type {ClientChan, ClientNetwork} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"Channel\",\n\tcomponents: {\n\t\tChannelWrapper,\n\t},\n\tprops: {\n\t\tnetwork: {\n\t\t\ttype: Object as PropType<ClientNetwork>,\n\t\t\trequired: true,\n\t\t},\n\t\tisJoinChannelShown: Boolean,\n\t\tactive: Boolean,\n\t\tisFiltering: Boolean,\n\t},\n\temits: [\"toggle-join-channel\"],\n\tsetup(props) {\n\t\tconst channel = computed(() => {\n\t\t\treturn props.network.channels[0];\n\t\t});\n\n\t\tconst joinChannelLabel = computed(() => {\n\t\t\treturn props.isJoinChannelShown ? \"Cancel\" : \"Join a channel\";\n\t\t});\n\n\t\tconst unreadCount = computed(() => {\n\t\t\treturn roundBadgeNumber(channel.value.unread);\n\t\t});\n\n\t\tconst onCollapseClick = () => {\n\t\t\tcollapseNetwork(props.network, !props.network.isCollapsed);\n\t\t};\n\n\t\tconst getExpandLabel = (network: ClientNetwork) => {\n\t\t\treturn network.isCollapsed ? \"Expand\" : \"Collapse\";\n\t\t};\n\n\t\treturn {\n\t\t\tchannel,\n\t\t\tjoinChannelLabel,\n\t\t\tunreadCount,\n\t\t\tonCollapseClick,\n\t\t\tgetExpandLabel,\n\t\t};\n\t},\n});\n</script>\n","<script lang=\"ts\">\nimport {defineComponent, PropType, h} from \"vue\";\nimport parse from \"../js/helpers/parse\";\nimport type {ClientMessage, ClientNetwork} from \"../js/types\";\n\nexport default defineComponent({\n\tname: \"ParsedMessage\",\n\tfunctional: true,\n\tprops: {\n\t\ttext: String,\n\t\tmessage: {type: Object as PropType<ClientMessage | string>, required: false},\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: false},\n\t},\n\trender(context) {\n\t\treturn parse(\n\t\t\ttypeof context.text !== \"undefined\" ? context.text : context.message.text,\n\t\t\tcontext.message,\n\t\t\tcontext.network\n\t\t);\n\t},\n});\n</script>\n","<template>\n\t<div>\n\t\t<slot :is-visible=\"isVisible\" />\n\t\t<span\n\t\t\tref=\"revealButton\"\n\t\t\ttype=\"button\"\n\t\t\t:class=\"[\n\t\t\t\t'reveal-password tooltipped tooltipped-n tooltipped-no-delay',\n\t\t\t\t{'reveal-password-visible': isVisible},\n\t\t\t]\"\n\t\t\t:aria-label=\"isVisible ? 'Hide password' : 'Show password'\"\n\t\t\t@click=\"onClick\"\n\t\t>\n\t\t\t<span :aria-label=\"isVisible ? 'Hide password' : 'Show password'\" />\n\t\t</span>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref} from \"vue\";\n\nexport default defineComponent({\n\tname: \"RevealPassword\",\n\tsetup() {\n\t\tconst isVisible = ref(false);\n\n\t\tconst onClick = () => {\n\t\t\tisVisible.value = !isVisible.value;\n\t\t};\n\n\t\treturn {\n\t\t\tisVisible,\n\t\t\tonClick,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<Chat\n\t\tv-if=\"activeChannel\"\n\t\t:network=\"activeChannel.network\"\n\t\t:channel=\"activeChannel.channel\"\n\t\t:focused=\"parseInt(String(route.query.focused), 10)\"\n\t\t@channel-changed=\"channelChanged\"\n\t/>\n</template>\n\n<script lang=\"ts\">\nimport {watch, computed, defineComponent, onMounted} from \"vue\";\nimport {useRoute} from \"vue-router\";\nimport {useStore} from \"../js/store\";\nimport {ClientChan} from \"../js/types\";\n\n// Temporary component for routing channels and lobbies\nimport Chat from \"./Chat.vue\";\n\nexport default defineComponent({\n\tname: \"RoutedChat\",\n\tcomponents: {\n\t\tChat,\n\t},\n\tsetup() {\n\t\tconst route = useRoute();\n\t\tconst store = useStore();\n\n\t\tconst activeChannel = computed(() => {\n\t\t\tconst chanId = parseInt(String(route.params.id || \"\"), 10);\n\t\t\tconst channel = store.getters.findChannel(chanId);\n\t\t\treturn channel;\n\t\t});\n\n\t\tconst setActiveChannel = () => {\n\t\t\tif (activeChannel.value) {\n\t\t\t\tstore.commit(\"activeChannel\", activeChannel.value);\n\t\t\t}\n\t\t};\n\n\t\twatch(activeChannel, () => {\n\t\t\tsetActiveChannel();\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tsetActiveChannel();\n\t\t});\n\n\t\tconst channelChanged = (channel: ClientChan) => {\n\t\t\tconst chanId = channel.id;\n\t\t\tconst chanInStore = store.getters.findChannel(chanId);\n\n\t\t\tif (chanInStore?.channel) {\n\t\t\t\tchanInStore.channel.unread = 0;\n\t\t\t\tchanInStore.channel.highlight = 0;\n\t\t\t}\n\t\t};\n\n\t\treturn {\n\t\t\troute,\n\t\t\tactiveChannel,\n\t\t\tchannelChanged,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div class=\"session-item\">\n\t\t<div class=\"session-item-info\">\n\t\t\t<strong>{{ session.agent }}</strong>\n\n\t\t\t<a :href=\"'https://ipinfo.io/' + session.ip\" target=\"_blank\" rel=\"noopener\">{{\n\t\t\t\tsession.ip\n\t\t\t}}</a>\n\n\t\t\t<p v-if=\"session.active > 1\" class=\"session-usage\">\n\t\t\t\tActive in {{ session.active }} browsers\n\t\t\t</p>\n\t\t\t<p v-else-if=\"!session.current && !session.active\" class=\"session-usage\">\n\t\t\t\tLast used on <time>{{ lastUse }}</time>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"session-item-btn\">\n\t\t\t<button class=\"btn\" @click.prevent=\"signOut\">\n\t\t\t\t<template v-if=\"session.current\">Sign out</template>\n\t\t\t\t<template v-else>Revoke</template>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.session-list .session-item {\n\tdisplay: flex;\n\tfont-size: 14px;\n}\n\n.session-list .session-item-info {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n}\n\n.session-list .session-item-btn {\n\tflex-shrink: 0;\n}\n\n.session-list .session-usage {\n\tfont-style: italic;\n\tcolor: var(--body-color-muted);\n}\n</style>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport localetime from \"../js/helpers/localetime\";\nimport Auth from \"../js/auth\";\nimport socket from \"../js/socket\";\nimport {ClientSession} from \"../js/store\";\n\nexport default defineComponent({\n\tname: \"Session\",\n\tprops: {\n\t\tsession: {\n\t\t\ttype: Object as PropType<ClientSession>,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(props) {\n\t\tconst lastUse = computed(() => {\n\t\t\treturn localetime(props.session.lastUse);\n\t\t});\n\n\t\tconst signOut = () => {\n\t\t\tif (!props.session.current) {\n\t\t\t\tsocket.emit(\"sign-out\", props.session.token);\n\t\t\t} else {\n\t\t\t\tsocket.emit(\"sign-out\");\n\t\t\t\tAuth.signout();\n\t\t\t}\n\t\t};\n\n\t\treturn {\n\t\t\tlastUse,\n\t\t\tsignOut,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div>\n\t\t<div\n\t\t\tv-if=\"\n\t\t\t\t!store.state.serverConfiguration?.public &&\n\t\t\t\t!store.state.serverConfiguration?.ldapEnabled\n\t\t\t\"\n\t\t\tid=\"change-password\"\n\t\t\trole=\"group\"\n\t\t\taria-labelledby=\"label-change-password\"\n\t\t>\n\t\t\t<h2 id=\"label-change-password\">Change password</h2>\n\t\t\t<div class=\"password-container\">\n\t\t\t\t<label for=\"current-password\" class=\"sr-only\"> Enter current password </label>\n\t\t\t\t<RevealPassword v-slot:default=\"slotProps\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"current-password\"\n\t\t\t\t\t\tv-model=\"old_password\"\n\t\t\t\t\t\tautocomplete=\"current-password\"\n\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\tname=\"old_password\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tplaceholder=\"Enter current password\"\n\t\t\t\t\t/>\n\t\t\t\t</RevealPassword>\n\t\t\t</div>\n\t\t\t<div class=\"password-container\">\n\t\t\t\t<label for=\"new-password\" class=\"sr-only\"> Enter desired new password </label>\n\t\t\t\t<RevealPassword v-slot:default=\"slotProps\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"new-password\"\n\t\t\t\t\t\tv-model=\"new_password\"\n\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\tname=\"new_password\"\n\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tplaceholder=\"Enter desired new password\"\n\t\t\t\t\t/>\n\t\t\t\t</RevealPassword>\n\t\t\t</div>\n\t\t\t<div class=\"password-container\">\n\t\t\t\t<label for=\"new-password-verify\" class=\"sr-only\"> Repeat new password </label>\n\t\t\t\t<RevealPassword v-slot:default=\"slotProps\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"new-password-verify\"\n\t\t\t\t\t\tv-model=\"verify_password\"\n\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\tname=\"verify_password\"\n\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tplaceholder=\"Repeat new password\"\n\t\t\t\t\t/>\n\t\t\t\t</RevealPassword>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"passwordChangeStatus && passwordChangeStatus.success\"\n\t\t\t\tclass=\"feedback success\"\n\t\t\t>\n\t\t\t\tSuccessfully updated your password\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-else-if=\"passwordChangeStatus && passwordChangeStatus.error\"\n\t\t\t\tclass=\"feedback error\"\n\t\t\t>\n\t\t\t\t{{ passwordErrors[passwordChangeStatus.error] }}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\" class=\"btn\" @click.prevent=\"changePassword\">\n\t\t\t\t\tChange password\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-if=\"!store.state.serverConfiguration?.public\" class=\"session-list\" role=\"group\">\n\t\t\t<h2>Sessions</h2>\n\n\t\t\t<h3>Current session</h3>\n\t\t\t<Session v-if=\"currentSession\" :session=\"currentSession\" />\n\n\t\t\t<template v-if=\"activeSessions.length > 0\">\n\t\t\t\t<h3>Active sessions</h3>\n\t\t\t\t<Session\n\t\t\t\t\tv-for=\"session in activeSessions\"\n\t\t\t\t\t:key=\"session.token\"\n\t\t\t\t\t:session=\"session\"\n\t\t\t\t/>\n\t\t\t</template>\n\n\t\t\t<h3>Other sessions</h3>\n\t\t\t<p v-if=\"store.state.sessions.length === 0\">Loading</p>\n\t\t\t<p v-else-if=\"otherSessions.length === 0\">\n\t\t\t\t<em>You are not currently logged in to any other device.</em>\n\t\t\t</p>\n\t\t\t<Session\n\t\t\t\tv-for=\"session in otherSessions\"\n\t\t\t\tv-else\n\t\t\t\t:key=\"session.token\"\n\t\t\t\t:session=\"session\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport socket from \"../../js/socket\";\nimport RevealPassword from \"../RevealPassword.vue\";\nimport Session from \"../Session.vue\";\nimport {computed, defineComponent, onMounted, PropType, ref} from \"vue\";\nimport {useStore} from \"../../js/store\";\n\nexport default defineComponent({\n\tname: \"UserSettings\",\n\tcomponents: {\n\t\tRevealPassword,\n\t\tSession,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\tconst passwordErrors = {\n\t\t\tmissing_fields: \"Please fill in all fields\",\n\t\t\tpassword_mismatch: \"Both new password fields must match\",\n\t\t\tpassword_incorrect: \"The current password field does not match your account password\",\n\t\t\tupdate_failed: \"Failed to update your password\",\n\t\t};\n\n\t\tconst passwordChangeStatus = ref<{\n\t\t\tsuccess: boolean;\n\t\t\terror: keyof typeof passwordErrors;\n\t\t}>();\n\n\t\tconst old_password = ref(\"\");\n\t\tconst new_password = ref(\"\");\n\t\tconst verify_password = ref(\"\");\n\n\t\tconst currentSession = computed(() => {\n\t\t\treturn store.state.sessions.find((item) => item.current);\n\t\t});\n\n\t\tconst activeSessions = computed(() => {\n\t\t\treturn store.state.sessions.filter((item) => !item.current && item.active > 0);\n\t\t});\n\n\t\tconst otherSessions = computed(() => {\n\t\t\treturn store.state.sessions.filter((item) => !item.current && !item.active);\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tsocket.emit(\"sessions:get\");\n\t\t});\n\n\t\tconst changePassword = () => {\n\t\t\tconst data = {\n\t\t\t\told_password: old_password.value,\n\t\t\t\tnew_password: new_password.value,\n\t\t\t\tverify_password: verify_password.value,\n\t\t\t};\n\n\t\t\tif (!data.old_password || !data.new_password || !data.verify_password) {\n\t\t\t\tpasswordChangeStatus.value = {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: \"missing_fields\",\n\t\t\t\t};\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (data.new_password !== data.verify_password) {\n\t\t\t\tpasswordChangeStatus.value = {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: \"password_mismatch\",\n\t\t\t\t};\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsocket.once(\"change-password\", (response) => {\n\t\t\t\t// TODO type\n\t\t\t\tpasswordChangeStatus.value = response as any;\n\t\t\t});\n\n\t\t\tsocket.emit(\"change-password\", data);\n\t\t};\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tpasswordChangeStatus,\n\t\t\tpasswordErrors,\n\t\t\tcurrentSession,\n\t\t\tactiveSessions,\n\t\t\totherSessions,\n\t\t\tchangePassword,\n\t\t\told_password,\n\t\t\tnew_password,\n\t\t\tverify_password,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div>\n\t\t<h2>Messages</h2>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input :checked=\"store.state.settings.motd\" type=\"checkbox\" name=\"motd\" />\n\t\t\t\tShow <abbr title=\"Message Of The Day\">MOTD</abbr>\n\t\t\t</label>\n\t\t</div>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.showSeconds\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"showSeconds\"\n\t\t\t\t/>\n\t\t\t\tInclude seconds in timestamp\n\t\t\t</label>\n\t\t</div>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.use12hClock\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"use12hClock\"\n\t\t\t\t/>\n\t\t\t\tUse 12-hour timestamps\n\t\t\t</label>\n\t\t</div>\n\t\t<template v-if=\"store.state.serverConfiguration?.prefetch\">\n\t\t\t<h2>Link previews</h2>\n\t\t\t<div>\n\t\t\t\t<label class=\"opt\">\n\t\t\t\t\t<input :checked=\"store.state.settings.media\" type=\"checkbox\" name=\"media\" />\n\t\t\t\t\tAuto-expand media\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label class=\"opt\">\n\t\t\t\t\t<input :checked=\"store.state.settings.links\" type=\"checkbox\" name=\"links\" />\n\t\t\t\t\tAuto-expand websites\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</template>\n\t\t<h2 id=\"label-status-messages\">\n\t\t\tStatus messages\n\t\t\t<span\n\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\taria-label=\"Joins, parts, quits, kicks, nick changes, and mode changes\"\n\t\t\t>\n\t\t\t\t<button class=\"extra-help\" />\n\t\t\t</span>\n\t\t</h2>\n\t\t<div role=\"group\" aria-labelledby=\"label-status-messages\">\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.statusMessages === 'shown'\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"statusMessages\"\n\t\t\t\t\tvalue=\"shown\"\n\t\t\t\t/>\n\t\t\t\tShow all status messages individually\n\t\t\t</label>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.statusMessages === 'condensed'\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"statusMessages\"\n\t\t\t\t\tvalue=\"condensed\"\n\t\t\t\t/>\n\t\t\t\tCondense status messages together\n\t\t\t</label>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.statusMessages === 'hidden'\"\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tname=\"statusMessages\"\n\t\t\t\t\tvalue=\"hidden\"\n\t\t\t\t/>\n\t\t\t\tHide all status messages\n\t\t\t</label>\n\t\t</div>\n\t\t<h2>Visual Aids</h2>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.coloredNicks\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"coloredNicks\"\n\t\t\t\t/>\n\t\t\t\tEnable colored nicknames\n\t\t\t</label>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.autocomplete\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"autocomplete\"\n\t\t\t\t/>\n\t\t\t\tEnable autocomplete\n\t\t\t</label>\n\t\t</div>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<label for=\"nickPostfix\" class=\"opt\">\n\t\t\t\t\tNick autocomplete postfix\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\t\t\taria-label=\"Nick autocomplete postfix (for example a comma)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button class=\"extra-help\" />\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"nickPostfix\"\n\t\t\t\t\t:value=\"store.state.settings.nickPostfix\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"nickPostfix\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tplaceholder=\"Nick autocomplete postfix (e.g. ', ')\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<h2>Theme</h2>\n\t\t<div>\n\t\t\t<label for=\"theme-select\" class=\"sr-only\">Theme</label>\n\t\t\t<select\n\t\t\t\tid=\"theme-select\"\n\t\t\t\t:value=\"store.state.settings.theme\"\n\t\t\t\tname=\"theme\"\n\t\t\t\tclass=\"input\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\t\tv-for=\"theme in store.state.serverConfiguration?.themes\"\n\t\t\t\t\t:key=\"theme.name\"\n\t\t\t\t\t:value=\"theme.name\"\n\t\t\t\t>\n\t\t\t\t\t{{ theme.displayName }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<h2>Custom Stylesheet</h2>\n\t\t\t<label for=\"user-specified-css-input\" class=\"sr-only\">\n\t\t\t\tCustom stylesheet. You can override any style with CSS here.\n\t\t\t</label>\n\t\t\t<textarea\n\t\t\t\tid=\"user-specified-css-input\"\n\t\t\t\t:value=\"store.state.settings.userStyles\"\n\t\t\t\tclass=\"input\"\n\t\t\t\tname=\"userStyles\"\n\t\t\t\tplaceholder=\"/* You can override any style with CSS here */\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\ntextarea#user-specified-css-input {\n\theight: 100px;\n}\n</style>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport {useStore} from \"../../js/store\";\n\nexport default defineComponent({\n\tname: \"AppearanceSettings\",\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\treturn {\n\t\t\tstore,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div>\n\t\t<div v-if=\"canRegisterProtocol || hasInstallPromptEvent\">\n\t\t\t<h2>Native app</h2>\n\t\t\t<button\n\t\t\t\tv-if=\"hasInstallPromptEvent\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"btn\"\n\t\t\t\t@click.prevent=\"nativeInstallPrompt\"\n\t\t\t>\n\t\t\t\tAdd The Lounge to Home screen\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tv-if=\"canRegisterProtocol\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"btn\"\n\t\t\t\t@click.prevent=\"registerProtocol\"\n\t\t\t>\n\t\t\t\tOpen irc:// URLs with The Lounge\n\t\t\t</button>\n\t\t</div>\n\t\t<div v-if=\"store.state.serverConfiguration?.fileUpload\">\n\t\t\t<h2>File uploads</h2>\n\t\t\t<div>\n\t\t\t\t<label class=\"opt\">\n\t\t\t\t\t<input\n\t\t\t\t\t\t:checked=\"store.state.settings.uploadCanvas\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"uploadCanvas\"\n\t\t\t\t\t/>\n\t\t\t\t\tAttempt to remove metadata from images before uploading\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\t\t\taria-label=\"This option renders the image into a canvas element to remove metadata from the image.\n\tThis may break orientation if your browser does not support that.\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button class=\"extra-help\" />\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!store.state.serverConfiguration?.public\">\n\t\t\t<h2>Settings synchronisation</h2>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.syncSettings\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"syncSettings\"\n\t\t\t\t/>\n\t\t\t\tSynchronize settings with other clients\n\t\t\t</label>\n\t\t\t<template v-if=\"!store.state.settings.syncSettings\">\n\t\t\t\t<div v-if=\"store.state.serverHasSettings\" class=\"settings-sync-panel\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Warning:</strong> Checking this box will override the settings of\n\t\t\t\t\t\tthis client with those stored on the server.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tUse the button below to enable synchronization, and override any settings\n\t\t\t\t\t\talready synced to the server.\n\t\t\t\t\t</p>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-small\" @click=\"onForceSyncClick\">\n\t\t\t\t\t\tSync settings and enable\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"settings-sync-panel\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Warning:</strong> No settings have been synced before. Enabling this\n\t\t\t\t\t\twill sync all settings of this client as the base for other clients.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t<div v-if=\"!store.state.serverConfiguration?.public\">\n\t\t\t<h2>Automatic away message</h2>\n\n\t\t\t<label class=\"opt\">\n\t\t\t\t<label for=\"awayMessage\" class=\"sr-only\">Automatic away message</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"awayMessage\"\n\t\t\t\t\t:value=\"store.state.settings.awayMessage\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"awayMessage\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tplaceholder=\"Away message if The Lounge is not open\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\t</div>\n</template>\n\n<style></style>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, onMounted, ref} from \"vue\";\nimport {useStore} from \"../../js/store\";\nimport {BeforeInstallPromptEvent} from \"../../js/types\";\n\nlet installPromptEvent: BeforeInstallPromptEvent | null = null;\n\nwindow.addEventListener(\"beforeinstallprompt\", (e) => {\n\te.preventDefault();\n\tinstallPromptEvent = e as BeforeInstallPromptEvent;\n});\n\nexport default defineComponent({\n\tname: \"GeneralSettings\",\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst canRegisterProtocol = ref(false);\n\n\t\tconst hasInstallPromptEvent = computed(() => {\n\t\t\t// TODO: This doesn't hide the button after clicking\n\t\t\treturn installPromptEvent !== null;\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\t// Enable protocol handler registration if supported,\n\t\t\t// and the network configuration is not locked\n\t\t\tcanRegisterProtocol.value =\n\t\t\t\t!!window.navigator.registerProtocolHandler &&\n\t\t\t\t!store.state.serverConfiguration?.lockNetwork;\n\t\t});\n\n\t\tconst nativeInstallPrompt = () => {\n\t\t\tif (!installPromptEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinstallPromptEvent.prompt().catch((e) => {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\n\t\t\tinstallPromptEvent = null;\n\t\t};\n\n\t\tconst onForceSyncClick = () => {\n\t\t\tstore.dispatch(\"settings/syncAll\", true).catch((e) => {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\n\t\t\tstore\n\t\t\t\t.dispatch(\"settings/update\", {\n\t\t\t\t\tname: \"syncSettings\",\n\t\t\t\t\tvalue: true,\n\t\t\t\t\tsync: true,\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t});\n\t\t};\n\n\t\tconst registerProtocol = () => {\n\t\t\tconst uri = document.location.origin + document.location.pathname + \"?uri=%s\";\n\t\t\t// @ts-expect-error\n\t\t\t// the third argument is deprecated but recommended for compatibility: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/registerProtocolHandler\n\t\t\twindow.navigator.registerProtocolHandler(\"irc\", uri, \"The Lounge\");\n\t\t\t// @ts-expect-error\n\t\t\twindow.navigator.registerProtocolHandler(\"ircs\", uri, \"The Lounge\");\n\t\t};\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tcanRegisterProtocol,\n\t\t\thasInstallPromptEvent,\n\t\t\tnativeInstallPrompt,\n\t\t\tonForceSyncClick,\n\t\t\tregisterProtocol,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<!-- 220px is the width of the sidebar, and we add 100px to allow for the text -->\n\t<aside class=\"settings-menu\">\n\t\t<h2>Settings</h2>\n\t\t<ul role=\"navigation\" aria-label=\"Settings tabs\">\n\t\t\t<SettingTabItem name=\"General\" class-name=\"general\" to=\"\" />\n\t\t\t<SettingTabItem name=\"Appearance\" class-name=\"appearance\" to=\"appearance\" />\n\t\t\t<SettingTabItem name=\"Notifications\" class-name=\"notifications\" to=\"notifications\" />\n\t\t\t<SettingTabItem name=\"Account\" class-name=\"account\" to=\"account\" />\n\t\t</ul>\n\t</aside>\n</template>\n\n<style>\n.settings-menu {\n\tposition: fixed;\n\t/* top: Header + (padding bottom of h2 - border) */\n\ttop: calc(45px + 5px);\n\t/* Mid page minus width of container and 30 pixels for padding */\n\tmargin-left: calc(50% - 480px - 30px);\n}\n\n/** The calculation is mobile +  2/3 of container width. Fairly arbitrary. */\n@media screen and (max-width: calc(768px + 320px)) {\n\t.settings-menu {\n\t\tposition: static;\n\t\twidth: min(480px, 100%);\n\t\talign-self: center;\n\t\tmargin: 0 auto;\n\t\tpadding: 0 15px;\n\t}\n}\n\n.settings-menu ul {\n\tpadding: 0;\n}\n\n.settings-menu li {\n\tfont-size: 18px;\n\tlist-style: none;\n}\n\n.settings-menu button {\n\tcolor: var(--body-color-muted);\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: inline-block;\n\ttext-align: left;\n}\n\n.settings-menu li:not(:last-of-type) button {\n\tmargin-bottom: 8px;\n}\n\n.settings-menu button::before {\n\twidth: 18px;\n\theight: 18px;\n\tdisplay: inline-block;\n\tcontent: \"\";\n\tmargin-right: 8px;\n}\n\n.settings-menu .appearance::before {\n\tcontent: \"\\f108\"; /* http://fontawesome.io/icon/desktop/ */\n}\n\n.settings-menu .account::before {\n\tcontent: \"\\f007\"; /* http://fontawesome.io/icon/user/ */\n}\n\n.settings-menu .messages::before {\n\tcontent: \"\\f0e0\"; /* http://fontawesome.io/icon/envelope/ */\n}\n\n.settings-menu .notifications::before {\n\tcontent: \"\\f0f3\"; /* http://fontawesome.io/icon/bell/ */\n}\n\n.settings-menu .general::before {\n\tcontent: \"\\f013\"; /* http://fontawesome.io/icon/cog/ */\n}\n\n.settings-menu button:hover,\n.settings-menu button.active {\n\tcolor: var(--body-color);\n}\n\n.settings-menu button.active {\n\tcursor: default;\n}\n</style>\n\n<script lang=\"ts\">\nimport SettingTabItem from \"./SettingTabItem.vue\";\nimport {defineComponent} from \"vue\";\n\nexport default defineComponent({\n\tname: \"SettingsTabs\",\n\tcomponents: {\n\t\tSettingTabItem,\n\t},\n});\n</script>\n","<template>\n\t<div>\n\t\t<template v-if=\"!store.state.serverConfiguration?.public\">\n\t\t\t<h2>Push Notifications</h2>\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tid=\"pushNotifications\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:disabled=\"\n\t\t\t\t\t\tstore.state.pushNotificationState !== 'supported' &&\n\t\t\t\t\t\tstore.state.pushNotificationState !== 'subscribed'\n\t\t\t\t\t\"\n\t\t\t\t\t@click=\"onPushButtonClick\"\n\t\t\t\t>\n\t\t\t\t\t<template v-if=\"store.state.pushNotificationState === 'subscribed'\">\n\t\t\t\t\t\tUnsubscribe from push notifications\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if=\"store.state.pushNotificationState === 'loading'\">\n\t\t\t\t\t\tLoading\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else> Subscribe to push notifications </template>\n\t\t\t\t</button>\n\t\t\t\t<div v-if=\"store.state.pushNotificationState === 'nohttps'\" class=\"error\">\n\t\t\t\t\t<strong>Warning</strong>: Push notifications are only supported over HTTPS\n\t\t\t\t\tconnections.\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"store.state.pushNotificationState === 'unsupported'\" class=\"error\">\n\t\t\t\t\t<strong>Warning</strong>:\n\t\t\t\t\t<span>Push notifications are not supported by your browser.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<h2>Browser Notifications</h2>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"desktopNotifications\"\n\t\t\t\t\t:checked=\"store.state.settings.desktopNotifications\"\n\t\t\t\t\t:disabled=\"store.state.desktopNotificationState === 'nohttps'\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"desktopNotifications\"\n\t\t\t\t/>\n\t\t\t\tEnable browser notifications<br />\n\t\t\t\t<div v-if=\"store.state.desktopNotificationState === 'unsupported'\" class=\"error\">\n\t\t\t\t\t<strong>Warning</strong>: Notifications are not supported by your browser.\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"store.state.desktopNotificationState === 'nohttps'\"\n\t\t\t\t\tid=\"warnBlockedDesktopNotifications\"\n\t\t\t\t\tclass=\"error\"\n\t\t\t\t>\n\t\t\t\t\t<strong>Warning</strong>: Notifications are only supported over HTTPS\n\t\t\t\t\tconnections.\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"store.state.desktopNotificationState === 'blocked'\"\n\t\t\t\t\tid=\"warnBlockedDesktopNotifications\"\n\t\t\t\t\tclass=\"error\"\n\t\t\t\t>\n\t\t\t\t\t<strong>Warning</strong>: Notifications are blocked by your browser.\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.notification\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"notification\"\n\t\t\t\t/>\n\t\t\t\tEnable notification sound\n\t\t\t</label>\n\t\t</div>\n\t\t<div>\n\t\t\t<div class=\"opt\">\n\t\t\t\t<button id=\"play\" @click.prevent=\"playNotification\">Play sound</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<label class=\"opt\">\n\t\t\t\t<input\n\t\t\t\t\t:checked=\"store.state.settings.notifyAllMessages\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tname=\"notifyAllMessages\"\n\t\t\t\t/>\n\t\t\t\tEnable notification for all messages\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div v-if=\"!store.state.serverConfiguration?.public\">\n\t\t\t<label class=\"opt\">\n\t\t\t\t<label for=\"highlights\" class=\"opt\">\n\t\t\t\t\tCustom highlights\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\t\t\taria-label=\"If a message contains any of these comma-separated\nexpressions, it will trigger a highlight.\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button class=\"extra-help\" />\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"highlights\"\n\t\t\t\t\t:value=\"store.state.settings.highlights\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"highlights\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tplaceholder=\"Comma-separated, e.g.: word, some more words, anotherword\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div v-if=\"!store.state.serverConfiguration?.public\">\n\t\t\t<label class=\"opt\">\n\t\t\t\t<label for=\"highlightExceptions\" class=\"opt\">\n\t\t\t\t\tHighlight exceptions\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-delay\"\n\t\t\t\t\t\taria-label=\"If a message contains any of these comma-separated\nexpressions, it will not trigger a highlight even if it contains\nyour nickname or expressions defined in custom highlights.\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button class=\"extra-help\" />\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"highlightExceptions\"\n\t\t\t\t\t:value=\"store.state.settings.highlightExceptions\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"highlightExceptions\"\n\t\t\t\t\tclass=\"input\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tplaceholder=\"Comma-separated, e.g.: word, some more words, anotherword\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent} from \"vue\";\nimport {useStore} from \"../../js/store\";\nimport webpush from \"../../js/webpush\";\n\nexport default defineComponent({\n\tname: \"NotificationSettings\",\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\tconst isIOS = computed(\n\t\t\t() =>\n\t\t\t\t[\n\t\t\t\t\t\"iPad Simulator\",\n\t\t\t\t\t\"iPhone Simulator\",\n\t\t\t\t\t\"iPod Simulator\",\n\t\t\t\t\t\"iPad\",\n\t\t\t\t\t\"iPhone\",\n\t\t\t\t\t\"iPod\",\n\t\t\t\t].includes(navigator.platform) ||\n\t\t\t\t// iPad on iOS 13 detection\n\t\t\t\t(navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n\t\t);\n\n\t\tconst playNotification = () => {\n\t\t\tconst pop = new Audio();\n\t\t\tpop.src = \"audio/pop.wav\";\n\n\t\t\t// eslint-disable-next-line\n\t\t\tpop.play();\n\t\t};\n\n\t\tconst onPushButtonClick = () => {\n\t\t\twebpush.togglePushSubscription();\n\t\t};\n\n\t\treturn {\n\t\t\tisIOS,\n\t\t\tstore,\n\t\t\tplayNotification,\n\t\t\tonPushButtonClick,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<li :aria-label=\"name\" role=\"tab\" :aria-selected=\"route.name === name\" aria-controls=\"settings\">\n\t\t<router-link v-slot:default=\"{navigate, isExactActive}\" :to=\"'/settings/' + to\" custom>\n\t\t\t<button\n\t\t\t\t:class=\"['icon', className, {active: isExactActive}]\"\n\t\t\t\t@click=\"navigate\"\n\t\t\t\t@keypress.enter=\"navigate\"\n\t\t\t>\n\t\t\t\t{{ name }}\n\t\t\t</button>\n\t\t</router-link>\n\t</li>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport {useRoute} from \"vue-router\";\n\nexport default defineComponent({\n\tname: \"SettingTabListItem\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tclassName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tto: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup() {\n\t\tconst route = useRoute();\n\n\t\treturn {\n\t\t\troute,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<aside id=\"sidebar\" ref=\"sidebar\">\n\t\t<div class=\"scrollable-area\">\n\t\t\t<div class=\"logo-container\">\n\t\t\t\t<img\n\t\t\t\t\t:src=\"`img/logo-${isPublic() ? 'horizontal-' : ''}transparent-bg.svg`\"\n\t\t\t\t\tclass=\"logo\"\n\t\t\t\t\talt=\"The Lounge\"\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t/>\n\t\t\t\t<img\n\t\t\t\t\t:src=\"`img/logo-${isPublic() ? 'horizontal-' : ''}transparent-bg-inverted.svg`\"\n\t\t\t\t\tclass=\"logo-inverted\"\n\t\t\t\t\talt=\"The Lounge\"\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t/>\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"isDevelopment\"\n\t\t\t\t\ttitle=\"The Lounge has been built in development mode\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\tbackgroundColor: '#ff9e18',\n\t\t\t\t\t\tcolor: '#000',\n\t\t\t\t\t\tpadding: '2px',\n\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\t}\"\n\t\t\t\t\t>DEVELOPER</span\n\t\t\t\t>\n\t\t\t</div>\n\t\t\t<NetworkList />\n\t\t</div>\n\t\t<footer id=\"footer\">\n\t\t\t<span\n\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-touch\"\n\t\t\t\taria-label=\"Connect to network\"\n\t\t\t\t><router-link\n\t\t\t\t\tv-slot:default=\"{navigate, isActive}\"\n\t\t\t\t\tto=\"/connect\"\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\taria-controls=\"connect\"\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\t:class=\"['icon', 'connect', {active: isActive}]\"\n\t\t\t\t\t\t:aria-selected=\"isActive\"\n\t\t\t\t\t\t@click=\"navigate\"\n\t\t\t\t\t\t@keypress.enter=\"navigate\"\n\t\t\t\t\t/> </router-link\n\t\t\t></span>\n\t\t\t<span class=\"tooltipped tooltipped-n tooltipped-no-touch\" aria-label=\"Settings\"\n\t\t\t\t><router-link\n\t\t\t\t\tv-slot:default=\"{navigate, isActive}\"\n\t\t\t\t\tto=\"/settings\"\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\taria-controls=\"settings\"\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\t:class=\"['icon', 'settings', {active: isActive}]\"\n\t\t\t\t\t\t:aria-selected=\"isActive\"\n\t\t\t\t\t\t@click=\"navigate\"\n\t\t\t\t\t\t@keypress.enter=\"navigate\"\n\t\t\t\t\t></button> </router-link\n\t\t\t></span>\n\t\t\t<span\n\t\t\t\tclass=\"tooltipped tooltipped-n tooltipped-no-touch\"\n\t\t\t\t:aria-label=\"\n\t\t\t\t\tstore.state.serverConfiguration?.isUpdateAvailable\n\t\t\t\t\t\t? 'Help\\n(update available)'\n\t\t\t\t\t\t: 'Help'\n\t\t\t\t\"\n\t\t\t\t><router-link\n\t\t\t\t\tv-slot:default=\"{navigate, isActive}\"\n\t\t\t\t\tto=\"/help\"\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\taria-controls=\"help\"\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\t:aria-selected=\"route.name === 'Help'\"\n\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t'icon',\n\t\t\t\t\t\t\t'help',\n\t\t\t\t\t\t\t{notified: store.state.serverConfiguration?.isUpdateAvailable},\n\t\t\t\t\t\t\t{active: isActive},\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t@click=\"navigate\"\n\t\t\t\t\t\t@keypress.enter=\"navigate\"\n\t\t\t\t\t></button> </router-link\n\t\t\t></span>\n\t\t</footer>\n\t</aside>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, nextTick, onMounted, onUnmounted, PropType, ref} from \"vue\";\nimport {useRoute} from \"vue-router\";\nimport {useStore} from \"../js/store\";\nimport NetworkList from \"./NetworkList.vue\";\n\nexport default defineComponent({\n\tname: \"Sidebar\",\n\tcomponents: {\n\t\tNetworkList,\n\t},\n\tprops: {\n\t\toverlay: {type: Object as PropType<HTMLElement | null>, required: true},\n\t},\n\tsetup(props) {\n\t\tconst isDevelopment = process.env.NODE_ENV !== \"production\";\n\n\t\tconst store = useStore();\n\t\tconst route = useRoute();\n\n\t\tconst touchStartPos = ref<Touch | null>();\n\t\tconst touchCurPos = ref<Touch | null>();\n\t\tconst touchStartTime = ref<number>(0);\n\t\tconst menuWidth = ref<number>(0);\n\t\tconst menuIsMoving = ref<boolean>(false);\n\t\tconst menuIsAbsolute = ref<boolean>(false);\n\n\t\tconst sidebar = ref<HTMLElement | null>(null);\n\n\t\tconst toggle = (state: boolean) => {\n\t\t\tstore.commit(\"sidebarOpen\", state);\n\t\t};\n\n\t\tconst onTouchMove = (e: TouchEvent) => {\n\t\t\tconst touch = (touchCurPos.value = e.touches.item(0));\n\n\t\t\tif (\n\t\t\t\t!touch ||\n\t\t\t\t!touchStartPos.value ||\n\t\t\t\t!touchStartPos.value.screenX ||\n\t\t\t\t!touchStartPos.value.screenY\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet distX = touch.screenX - touchStartPos.value.screenX;\n\t\t\tconst distY = touch.screenY - touchStartPos.value.screenY;\n\n\t\t\tif (!menuIsMoving.value) {\n\t\t\t\t// tan(45) is 1. Gestures in 0-45 (< 1) are considered horizontal, so\n\t\t\t\t// menu must be open; gestures in 45-90 (>1) are considered vertical, so\n\t\t\t\t// chat windows must be scrolled.\n\t\t\t\tif (Math.abs(distY / distX) >= 1) {\n\t\t\t\t\t// eslint-disable-next-line no-use-before-define\n\t\t\t\t\tonTouchEnd();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst devicePixelRatio = window.devicePixelRatio || 2;\n\n\t\t\t\tif (Math.abs(distX) > devicePixelRatio) {\n\t\t\t\t\tstore.commit(\"sidebarDragging\", true);\n\t\t\t\t\tmenuIsMoving.value = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do not animate the menu on desktop view\n\t\t\tif (!menuIsAbsolute.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (store.state.sidebarOpen) {\n\t\t\t\tdistX += menuWidth.value;\n\t\t\t}\n\n\t\t\tif (distX > menuWidth.value) {\n\t\t\t\tdistX = menuWidth.value;\n\t\t\t} else if (distX < 0) {\n\t\t\t\tdistX = 0;\n\t\t\t}\n\n\t\t\tif (sidebar.value) {\n\t\t\t\tsidebar.value.style.transform = \"translate3d(\" + distX.toString() + \"px, 0, 0)\";\n\t\t\t}\n\n\t\t\tif (props.overlay) {\n\t\t\t\tprops.overlay.style.opacity = `${distX / menuWidth.value}`;\n\t\t\t}\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tif (!touchStartPos.value?.screenX || !touchCurPos.value?.screenX) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst diff = touchCurPos.value.screenX - touchStartPos.value.screenX;\n\t\t\tconst absDiff = Math.abs(diff);\n\n\t\t\tif (\n\t\t\t\tabsDiff > menuWidth.value / 2 ||\n\t\t\t\t(Date.now() - touchStartTime.value < 180 && absDiff > 50)\n\t\t\t) {\n\t\t\t\ttoggle(diff > 0);\n\t\t\t}\n\n\t\t\tdocument.body.removeEventListener(\"touchmove\", onTouchMove);\n\t\t\tdocument.body.removeEventListener(\"touchend\", onTouchEnd);\n\n\t\t\tstore.commit(\"sidebarDragging\", false);\n\n\t\t\ttouchStartPos.value = null;\n\t\t\ttouchCurPos.value = null;\n\t\t\ttouchStartTime.value = 0;\n\t\t\tmenuIsMoving.value = false;\n\n\t\t\tvoid nextTick(() => {\n\t\t\t\tif (sidebar.value) {\n\t\t\t\t\tsidebar.value.style.transform = \"\";\n\t\t\t\t}\n\n\t\t\t\tif (props.overlay) {\n\t\t\t\t\tprops.overlay.style.opacity = \"\";\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tconst onTouchStart = (e: TouchEvent) => {\n\t\t\tif (!sidebar.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttouchStartPos.value = touchCurPos.value = e.touches.item(0);\n\n\t\t\tif (e.touches.length !== 1) {\n\t\t\t\tonTouchEnd();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst styles = window.getComputedStyle(sidebar.value);\n\n\t\t\tmenuWidth.value = parseFloat(styles.width);\n\t\t\tmenuIsAbsolute.value = styles.position === \"absolute\";\n\n\t\t\tif (\n\t\t\t\t!store.state.sidebarOpen ||\n\t\t\t\t(touchStartPos.value?.screenX && touchStartPos.value.screenX > menuWidth.value)\n\t\t\t) {\n\t\t\t\ttouchStartTime.value = Date.now();\n\n\t\t\t\tdocument.body.addEventListener(\"touchmove\", onTouchMove, {passive: true});\n\t\t\t\tdocument.body.addEventListener(\"touchend\", onTouchEnd, {passive: true});\n\t\t\t}\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tdocument.body.addEventListener(\"touchstart\", onTouchStart, {passive: true});\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\tdocument.body.removeEventListener(\"touchstart\", onTouchStart);\n\t\t});\n\n\t\tconst isPublic = () => document.body.classList.contains(\"public\");\n\n\t\treturn {\n\t\t\tisDevelopment,\n\t\t\tstore,\n\t\t\troute,\n\t\t\tsidebar,\n\t\t\ttoggle,\n\t\t\tonTouchStart,\n\t\t\tonTouchMove,\n\t\t\tonTouchEnd,\n\t\t\tisPublic,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<button class=\"lt\" aria-label=\"Toggle channel list\" @click=\"store.commit('toggleSidebar')\" />\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport {useStore} from \"../js/store\";\n\nexport default defineComponent({\n\tname: \"SidebarToggle\",\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\treturn {\n\t\t\tstore,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<table class=\"ban-list\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"hostmask\">Banned</th>\n\t\t\t\t<th class=\"banned_by\">Banned By</th>\n\t\t\t\t<th class=\"banned_at\">Banned At</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr v-for=\"ban in channel.data\" :key=\"ban.hostmask\">\n\t\t\t\t<td class=\"hostmask\"><ParsedMessage :network=\"network\" :text=\"ban.hostmask\" /></td>\n\t\t\t\t<td class=\"banned_by\">{{ ban.banned_by }}</td>\n\t\t\t\t<td class=\"banned_at\">{{ localetime(ban.banned_at) }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script lang=\"ts\">\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport localeTime from \"../../js/helpers/localetime\";\nimport {defineComponent, PropType} from \"vue\";\nimport type {ClientNetwork, ClientChan} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"ListBans\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup() {\n\t\tconst localetime = (date: number | Date) => {\n\t\t\treturn localeTime(date);\n\t\t};\n\n\t\treturn {\n\t\t\tlocaletime,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span v-if=\"channel.data.text\">{{ channel.data.text }}</span>\n\t<table v-else class=\"channel-list\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"channel\">Channel</th>\n\t\t\t\t<th class=\"users\">Users</th>\n\t\t\t\t<th class=\"topic\">Topic</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr v-for=\"chan in channel.data\" :key=\"chan.channel\">\n\t\t\t\t<td class=\"channel\"><ParsedMessage :network=\"network\" :text=\"chan.channel\" /></td>\n\t\t\t\t<td class=\"users\">{{ chan.num_users }}</td>\n\t\t\t\t<td class=\"topic\"><ParsedMessage :network=\"network\" :text=\"chan.topic\" /></td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientChan, ClientNetwork} from \"../../js/types\";\nimport ParsedMessage from \"../ParsedMessage.vue\";\n\nexport default defineComponent({\n\tname: \"ListChannels\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n});\n</script>\n","<template>\n\t<table class=\"ignore-list\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"hostmask\">Hostmask</th>\n\t\t\t\t<th class=\"when\">Ignored At</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr v-for=\"user in channel.data\" :key=\"user.hostmask\">\n\t\t\t\t<td class=\"hostmask\"><ParsedMessage :network=\"network\" :text=\"user.hostmask\" /></td>\n\t\t\t\t<td class=\"when\">{{ localetime(user.when) }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script lang=\"ts\">\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport localetime from \"../../js/helpers/localetime\";\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientChan} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"ListIgnored\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\tlocaletime,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<table class=\"invite-list\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"hostmask\">Invited</th>\n\t\t\t\t<th class=\"invitened_by\">Invited By</th>\n\t\t\t\t<th class=\"invitened_at\">Invited At</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr v-for=\"invite in channel.data\" :key=\"invite.hostmask\">\n\t\t\t\t<td class=\"hostmask\">\n\t\t\t\t\t<ParsedMessage :network=\"network\" :text=\"invite.hostmask\" />\n\t\t\t\t</td>\n\t\t\t\t<td class=\"invitened_by\">{{ invite.invited_by }}</td>\n\t\t\t\t<td class=\"invitened_at\">{{ localetime(invite.invited_at) }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</template>\n\n<script lang=\"ts\">\nimport ParsedMessage from \"../ParsedMessage.vue\";\nimport localetime from \"../../js/helpers/localetime\";\nimport {defineComponent, PropType} from \"vue\";\nimport {ClientNetwork, ClientChan} from \"../../js/types\";\n\nexport default defineComponent({\n\tname: \"ListInvites\",\n\tcomponents: {\n\t\tParsedMessage,\n\t},\n\tprops: {\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: true},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: true},\n\t},\n\tsetup() {\n\t\treturn {\n\t\t\tlocaletime: (date: Date) => localetime(date),\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<span\n\t\t:class=\"['user', {[nickColor]: store.state.settings.coloredNicks}, {active: active}]\"\n\t\t:data-name=\"user.nick\"\n\t\trole=\"button\"\n\t\tv-on=\"onHover ? {mouseenter: hover} : {}\"\n\t\t@click.prevent=\"openContextMenu\"\n\t\t@contextmenu.prevent=\"openContextMenu\"\n\t\t><slot>{{ mode }}{{ user.nick }}</slot></span\n\t>\n</template>\n\n<script lang=\"ts\">\nimport {computed, defineComponent, PropType} from \"vue\";\nimport {UserInMessage} from \"../../server/models/msg\";\nimport eventbus from \"../js/eventbus\";\nimport colorClass from \"../js/helpers/colorClass\";\nimport type {ClientChan, ClientNetwork, ClientUser} from \"../js/types\";\nimport {useStore} from \"../js/store\";\n\ntype UsernameUser = Partial<UserInMessage> & {\n\tmode?: string;\n\tnick: string;\n};\n\nexport default defineComponent({\n\tname: \"Username\",\n\tprops: {\n\t\tuser: {\n\t\t\t// TODO: UserInMessage shouldn't be necessary here.\n\t\t\ttype: Object as PropType<UsernameUser | UserInMessage>,\n\t\t\trequired: true,\n\t\t},\n\t\tactive: Boolean,\n\t\tonHover: {\n\t\t\ttype: Function as PropType<(user: UserInMessage) => void>,\n\t\t\trequired: false,\n\t\t},\n\t\tchannel: {type: Object as PropType<ClientChan>, required: false},\n\t\tnetwork: {type: Object as PropType<ClientNetwork>, required: false},\n\t},\n\tsetup(props) {\n\t\tconst mode = computed(() => {\n\t\t\t// Message objects have a singular mode, but user objects have modes array\n\t\t\tif (props.user.modes) {\n\t\t\t\treturn props.user.modes[0];\n\t\t\t}\n\n\t\t\treturn props.user.mode;\n\t\t});\n\n\t\t// TODO: Nick must be ! because our user prop union includes UserInMessage\n\t\tconst nickColor = computed(() => colorClass(props.user.nick!));\n\n\t\tconst hover = () => {\n\t\t\tif (props.onHover) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\t\t\t\treturn props.onHover(props.user as UserInMessage);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\n\t\tconst openContextMenu = (event: Event) => {\n\t\t\teventbus.emit(\"contextmenu:user\", {\n\t\t\t\tevent: event,\n\t\t\t\tuser: props.user,\n\t\t\t\tnetwork: props.network,\n\t\t\t\tchannel: props.channel,\n\t\t\t});\n\t\t};\n\n\t\tconst store = useStore();\n\n\t\treturn {\n\t\t\tmode,\n\t\t\tnickColor,\n\t\t\thover,\n\t\t\topenContextMenu,\n\t\t\tstore,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"version-checker\" :class=\"[store.state.versionStatus]\">\n\t\t<p v-if=\"store.state.versionStatus === 'loading'\">Checking for updates</p>\n\t\t<p v-if=\"store.state.versionStatus === 'new-version'\">\n\t\t\tThe Lounge <b>{{ store.state.versionData?.latest.version }}</b>\n\t\t\t<template v-if=\"store.state.versionData?.latest.prerelease\"> (pre-release) </template>\n\t\t\tis now available.\n\t\t\t<br />\n\n\t\t\t<a :href=\"store.state.versionData?.latest.url\" target=\"_blank\" rel=\"noopener\">\n\t\t\t\tRead more on GitHub\n\t\t\t</a>\n\t\t</p>\n\t\t<p v-if=\"store.state.versionStatus === 'new-packages'\">\n\t\t\tThe Lounge is up to date, but there are out of date packages Run\n\t\t\t<code>thelounge upgrade</code> on the server to upgrade packages.\n\t\t</p>\n\t\t<template v-if=\"store.state.versionStatus === 'up-to-date'\">\n\t\t\t<p>The Lounge is up to date!</p>\n\n\t\t\t<button\n\t\t\t\tv-if=\"store.state.versionDataExpired\"\n\t\t\t\tid=\"check-now\"\n\t\t\t\tclass=\"btn btn-small\"\n\t\t\t\t@click=\"checkNow\"\n\t\t\t>\n\t\t\t\tCheck now\n\t\t\t</button>\n\t\t</template>\n\t\t<template v-if=\"store.state.versionStatus === 'error'\">\n\t\t\t<p>Information about latest release could not be retrieved.</p>\n\n\t\t\t<button id=\"check-now\" class=\"btn btn-small\" @click=\"checkNow\">Try again</button>\n\t\t</template>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, onMounted} from \"vue\";\nimport socket from \"../js/socket\";\nimport {useStore} from \"../js/store\";\n\nexport default defineComponent({\n\tname: \"VersionChecker\",\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\tconst checkNow = () => {\n\t\t\tstore.commit(\"versionData\", null);\n\t\t\tstore.commit(\"versionStatus\", \"loading\");\n\t\t\tsocket.emit(\"changelog\");\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tif (!store.state.versionData) {\n\t\t\t\tcheckNow();\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tstore,\n\t\t\tcheckNow,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"changelog\" class=\"window\" aria-label=\"Changelog\">\n\t\t<div class=\"header\">\n\t\t\t<SidebarToggle />\n\t\t</div>\n\t\t<div class=\"container\">\n\t\t\t<router-link id=\"back-to-help\" to=\"/help\"> Help</router-link>\n\n\t\t\t<template\n\t\t\t\tv-if=\"store.state.versionData?.current && store.state.versionData?.current.version\"\n\t\t\t>\n\t\t\t\t<h1 class=\"title\">\n\t\t\t\t\tRelease notes for {{ store.state.versionData.current.version }}\n\t\t\t\t</h1>\n\n\t\t\t\t<template v-if=\"store.state.versionData.current.changelog\">\n\t\t\t\t\t<h3>Introduction</h3>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref=\"changelog\"\n\t\t\t\t\t\tclass=\"changelog-text\"\n\t\t\t\t\t\tv-html=\"store.state.versionData.current.changelog\"\n\t\t\t\t\t></div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<p>Unable to retrieve changelog for current release from GitHub.</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tv-if=\"store.state.serverConfiguration?.version\"\n\t\t\t\t\t\t\t:href=\"`https://github.com/thelounge/thelounge/releases/tag/v${store.state.serverConfiguration?.version}`\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>View release notes for this version on GitHub</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</p>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<p v-else>Loading changelog</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, onMounted, onUpdated, ref} from \"vue\";\nimport socket from \"../../js/socket\";\nimport {useStore} from \"../../js/store\";\nimport SidebarToggle from \"../SidebarToggle.vue\";\n\nexport default defineComponent({\n\tname: \"Changelog\",\n\tcomponents: {\n\t\tSidebarToggle,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst changelog = ref<HTMLDivElement | null>(null);\n\n\t\tconst patchChangelog = () => {\n\t\t\tif (!changelog.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst links = changelog.value.querySelectorAll(\"a\");\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\t// Make sure all links will open a new tab instead of exiting the application\n\t\t\t\tlink.setAttribute(\"target\", \"_blank\");\n\t\t\t\tlink.setAttribute(\"rel\", \"noopener\");\n\n\t\t\t\tif (link.querySelector(\"img\")) {\n\t\t\t\t\t// Add required metadata to image links, to support built-in image viewer\n\t\t\t\t\tlink.classList.add(\"toggle-thumbnail\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tif (!store.state.versionData) {\n\t\t\t\tsocket.emit(\"changelog\");\n\t\t\t}\n\n\t\t\tpatchChangelog();\n\t\t});\n\n\t\tonUpdated(() => {\n\t\t\tpatchChangelog();\n\t\t});\n\n\t\treturn {\n\t\t\tstore,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<NetworkForm :handle-submit=\"handleSubmit\" :defaults=\"defaults\" :disabled=\"disabled\" />\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref} from \"vue\";\n\nimport socket from \"../../js/socket\";\nimport {useStore} from \"../../js/store\";\nimport NetworkForm, {NetworkFormDefaults} from \"../NetworkForm.vue\";\n\nexport default defineComponent({\n\tname: \"Connect\",\n\tcomponents: {\n\t\tNetworkForm,\n\t},\n\tprops: {\n\t\tqueryParams: Object,\n\t},\n\tsetup(props) {\n\t\tconst store = useStore();\n\n\t\tconst disabled = ref(false);\n\n\t\tconst handleSubmit = (data: Record<string, any>) => {\n\t\t\tdisabled.value = true;\n\t\t\tsocket.emit(\"network:new\", data);\n\t\t};\n\n\t\tconst parseOverrideParams = (params?: Record<string, string>) => {\n\t\t\tif (!params) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst parsedParams: Record<string, any> = {};\n\n\t\t\tfor (let key of Object.keys(params)) {\n\t\t\t\tlet value = params[key];\n\n\t\t\t\t// Param can contain multiple values in an array if its supplied more than once\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tvalue = value[0];\n\t\t\t\t}\n\n\t\t\t\t// Support `channels` as a compatibility alias with other clients\n\t\t\t\tif (key === \"channels\") {\n\t\t\t\t\tkey = \"join\";\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!Object.prototype.hasOwnProperty.call(\n\t\t\t\t\t\tstore.state.serverConfiguration?.defaults,\n\t\t\t\t\t\tkey\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// When the network is locked, URL overrides should not affect disabled fields\n\t\t\t\tif (\n\t\t\t\t\tstore.state.serverConfiguration?.lockNetwork &&\n\t\t\t\t\t[\"name\", \"host\", \"port\", \"tls\", \"rejectUnauthorized\"].includes(key)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (key === \"join\") {\n\t\t\t\t\tvalue = value\n\t\t\t\t\t\t.split(\",\")\n\t\t\t\t\t\t.map((chan) => {\n\t\t\t\t\t\t\tif (!chan.match(/^[#&!+]/)) {\n\t\t\t\t\t\t\t\treturn `#${chan}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn chan;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(\", \");\n\t\t\t\t}\n\n\t\t\t\t// Override server provided defaults with parameters passed in the URL if they match the data type\n\t\t\t\tswitch (typeof store.state.serverConfiguration?.defaults[key]) {\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tif (value === \"0\" || value === \"false\") {\n\t\t\t\t\t\t\tparsedParams[key] = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparsedParams[key] = !!value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\tparsedParams[key] = Number(value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\tparsedParams[key] = String(value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parsedParams;\n\t\t};\n\n\t\tconst defaults = ref<Partial<NetworkFormDefaults>>(\n\t\t\tObject.assign(\n\t\t\t\t{},\n\t\t\t\tstore.state.serverConfiguration?.defaults,\n\t\t\t\tparseOverrideParams(props.queryParams)\n\t\t\t)\n\t\t);\n\n\t\treturn {\n\t\t\tdefaults,\n\t\t\tdisabled,\n\t\t\thandleSubmit,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"help\" class=\"window\" role=\"tabpanel\" aria-label=\"Help\">\n\t\t<div class=\"header\">\n\t\t\t<SidebarToggle />\n\t\t</div>\n\t\t<div class=\"container\">\n\t\t\t<h1 class=\"title\">Help</h1>\n\n\t\t\t<h2 class=\"help-version-title\">\n\t\t\t\t<span>About The Lounge</span>\n\t\t\t\t<small>\n\t\t\t\t\tv{{ store.state.serverConfiguration?.version }} (<router-link\n\t\t\t\t\t\tid=\"view-changelog\"\n\t\t\t\t\t\tto=\"/changelog\"\n\t\t\t\t\t\t>release notes</router-link\n\t\t\t\t\t>)\n\t\t\t\t</small>\n\t\t\t</h2>\n\n\t\t\t<div class=\"about\">\n\t\t\t\t<VersionChecker />\n\n\t\t\t\t<template v-if=\"store.state.serverConfiguration?.gitCommit\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThe Lounge is running from source (<a\n\t\t\t\t\t\t\t:href=\"`https://github.com/thelounge/thelounge/tree/${store.state.serverConfiguration?.gitCommit}`\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>commit <code>{{ store.state.serverConfiguration?.gitCommit }}</code></a\n\t\t\t\t\t\t>).\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tCompare\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t:href=\"`https://github.com/thelounge/thelounge/compare/${store.state.serverConfiguration?.gitCommit}...master`\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t\t>between\n\t\t\t\t\t\t\t\t<code>{{ store.state.serverConfiguration?.gitCommit }}</code> and\n\t\t\t\t\t\t\t\t<code>master</code></a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tto see what you are missing\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tCompare\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t:href=\"`https://github.com/thelounge/thelounge/compare/${store.state.serverConfiguration?.version}...${store.state.serverConfiguration?.gitCommit}`\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t\t>between\n\t\t\t\t\t\t\t\t<code>{{ store.state.serverConfiguration?.version }}</code> and\n\t\t\t\t\t\t\t\t<code>{{ store.state.serverConfiguration?.gitCommit }}</code></a\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tto see your local changes\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</template>\n\n\t\t\t\t<p>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://thelounge.chat/\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\tclass=\"website-link\"\n\t\t\t\t\t\t>Website</a\n\t\t\t\t\t>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://thelounge.chat/docs/\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\tclass=\"documentation-link\"\n\t\t\t\t\t\t>Documentation</a\n\t\t\t\t\t>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://github.com/thelounge/thelounge/issues/new\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\tclass=\"report-issue-link\"\n\t\t\t\t\t\t>Report an issue</a\n\t\t\t\t\t>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<h2 v-if=\"isTouch\">Gestures</h2>\n\n\t\t\t<div v-if=\"isTouch\" class=\"help-item\">\n\t\t\t\t<div class=\"subject gesture\">Single-Finger Swipe Left</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Hide sidebar.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isTouch\" class=\"help-item\">\n\t\t\t\t<div class=\"subject gesture\">Single-Finger Swipe Right</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Show sidebar.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isTouch\" class=\"help-item\">\n\t\t\t\t<div class=\"subject gesture\">Two-Finger Swipe Left</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the next window in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"isTouch\" class=\"help-item\">\n\t\t\t\t<div class=\"subject gesture\">Two-Finger Swipe Right</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the previous window in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h2>Keyboard Shortcuts</h2>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>Shift</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the next lobby in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>Shift</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the previous lobby in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>Shift</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Collapse current network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>Shift</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Expand current network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the next window in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd></kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd></kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the previous window in the channel list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>A</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>A</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the first window with unread messages.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>S</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>S</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Toggle sidebar.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>U</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>U</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Toggle channel user list.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>J</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>J</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Toggle jump to channel switcher.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>M</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>M</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Toggle recent mentions popup.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Alt</kbd> <kbd>/</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>/</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Switch to the help menu.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span><kbd>Esc</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tClose current contextual window (context menu, image viewer, topic edit,\n\t\t\t\t\t\tetc) and remove focus from input.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h2>Formatting Shortcuts</h2>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>K</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>K</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark any text typed after this shortcut to be colored. After hitting this\n\t\t\t\t\t\tshortcut, enter an integer in the range\n\t\t\t\t\t\t<code>015</code> to select the desired color, or use the autocompletion\n\t\t\t\t\t\tmenu to choose a color name (see below).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tBackground color can be specified by putting a comma and another integer in\n\t\t\t\t\t\tthe range <code>015</code> after the foreground color number\n\t\t\t\t\t\t(autocompletion works too).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tA color reference can be found\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://modern.ircdocs.horse/formatting.html#colors\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>here</a\n\t\t\t\t\t\t>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>B</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>B</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut as\n\t\t\t\t\t\t<span class=\"irc-bold\">bold</span>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>U</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>U</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut as\n\t\t\t\t\t\t<span class=\"irc-underline\">underlined</span>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>I</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>I</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut as\n\t\t\t\t\t\t<span class=\"irc-italic\">italics</span>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>S</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>S</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut as\n\t\t\t\t\t\t<span class=\"irc-strikethrough\">struck through</span>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>M</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>M</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut as\n\t\t\t\t\t\t<span class=\"irc-monospace\">monospaced</span>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<span v-if=\"!isApple\"><kbd>Ctrl</kbd> <kbd>O</kbd></span>\n\t\t\t\t\t<span v-else><kbd></kbd> <kbd>O</kbd></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tMark all text typed after this shortcut to be reset to its original\n\t\t\t\t\t\tformatting.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h2>Autocompletion</h2>\n\n\t\t\t<p>\n\t\t\t\tTo auto-complete nicknames, channels, commands, and emoji, type one of the\n\t\t\t\tcharacters below to open a suggestion list. Use the <kbd></kbd> and\n\t\t\t\t<kbd></kbd> keys to highlight an item, and insert it by pressing <kbd>Tab</kbd> or\n\t\t\t\t<kbd>Enter</kbd> (or by clicking the desired item).\n\t\t\t</p>\n\t\t\t<p>Autocompletion can be disabled in settings.</p>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>@</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Nickname</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>#</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Channel</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Commands (see list of commands below)</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>:</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tEmoji (note: requires two search characters, to avoid conflicting with\n\t\t\t\t\t\tcommon emoticons like <code>:)</code>)\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h2>Commands</h2>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/away [message]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Mark yourself as away with an optional message.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/back</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Remove your away status (set with <code>/away</code>).</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/ban nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tBan (<code>+b</code>) a user from the current channel. This can be a\n\t\t\t\t\t\tnickname or a hostmask.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/banlist</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Load the banlist for the current channel.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/collapse</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tCollapse all previews in the current channel (opposite of\n\t\t\t\t\t\t<code>/expand</code>)\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/connect host [port]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tConnect to a new IRC network. If <code>port</code> starts with a\n\t\t\t\t\t\t<code>+</code> sign, the connection will be made secure using TLS.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>Alias: <code>/server</code></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/ctcp target cmd [args]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSend a <abbr title=\"Client-to-client protocol\">CTCP</abbr>\n\t\t\t\t\t\trequest. Read more about this on\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://en.wikipedia.org/wiki/Client-to-client_protocol\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>the dedicated Wikipedia article</a\n\t\t\t\t\t\t>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/deop nick [...nick]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tRemove op (<code>-o</code>) from one or several users in the current\n\t\t\t\t\t\tchannel.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/devoice nick [...nick]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tRemove voice (<code>-v</code>) from one or several users in the current\n\t\t\t\t\t\tchannel.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/disconnect [message]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Disconnect from the current network with an optionally-provided message.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/expand</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tExpand all previews in the current channel (opposite of\n\t\t\t\t\t\t<code>/collapse</code>)\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/invite nick [channel]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tInvite a user to the specified channel. If\n\t\t\t\t\t\t<code>channel</code> is omitted, user will be invited to the current\n\t\t\t\t\t\tchannel.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/ignore nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tBlock any messages from the specified user on the current network. This can\n\t\t\t\t\t\tbe a nickname or a hostmask.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/ignorelist</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Load the list of ignored users for the current network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/join channel [password]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tJoin a channel. Password is only needed in protected channels and can\n\t\t\t\t\t\tusually be omitted.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/kick nick [reason]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Kick a user from the current channel.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/kickban nick [reason]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tKick and ban (<code>+b</code>) a user from the current channel. Unlike\n\t\t\t\t\t\t<code>/ban</code>, only nicknames (and not host masks) can be used.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/list</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Retrieve a list of available channels on this network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/me message</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSend an action message to the current channel. The Lounge will display it\n\t\t\t\t\t\tinline, as if the message was posted in the third person.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/mode flags [args]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSet the given flags to the current channel if the active window is a\n\t\t\t\t\t\tchannel, another user if the active window is a private message window, or\n\t\t\t\t\t\tyourself if the current window is a server window.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/msg channel message</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Send a message to the specified channel.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/mute [...channel]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPrevent messages from generating any feedback for a channel. This turns off\n\t\t\t\t\t\tthe highlight indicator, hides mentions and inhibits push notifications.\n\t\t\t\t\t\tMuting a network lobby mutes the entire network. Not specifying any channel\n\t\t\t\t\t\ttarget mutes the current channel. Revert with <code>/unmute</code>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/nick newnick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Change your nickname on the current network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/notice channel message</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Sends a notice message to the specified channel.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/op nick [...nick]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Give op (<code>+o</code>) to one or several users in the current channel.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/part [channel]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tClose the specified channel or private message window, or the current\n\t\t\t\t\t\tchannel if <code>channel</code> is omitted.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>Aliases: <code>/close</code>, <code>/leave</code></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/rejoin</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLeave and immediately rejoin the current channel. Useful to quickly get op\n\t\t\t\t\t\tfrom ChanServ in an empty channel, for example.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>Alias: <code>/cycle</code></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/query nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Send a private message to the specified user.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/quit [message]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Disconnect from the current network with an optional message.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/raw message</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Send a raw message to the current IRC network.</p>\n\t\t\t\t\t<p>Aliases: <code>/quote</code>, <code>/send</code></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/slap nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Slap someone in the current channel with a trout!</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"store.state.settings.searchEnabled\" class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/search query</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Search for messages in the current channel / user</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/topic [newtopic]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGet the topic in the current channel. If <code>newtopic</code> is specified,\n\t\t\t\t\t\tsets the topic in the current channel.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/unban nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tUnban (<code>-b</code>) a user from the current channel. This can be a\n\t\t\t\t\t\tnickname or a hostmask.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/unignore nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tUnblock messages from the specified user on the current network. This can be\n\t\t\t\t\t\ta nickname or a hostmask.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/unmute [...channel]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tUn-mutes the given channel(s) or the current channel if no channel is\n\t\t\t\t\t\tprovided. See <code>/mute</code> for more information.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/voice nick [...nick]</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tGive voice (<code>+v</code>) to one or several users in the current channel.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"help-item\">\n\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t<code>/whois nick</code>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"description\">\n\t\t\t\t\t<p>Retrieve information about the given user on the current network.</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref} from \"vue\";\nimport {useStore} from \"../../js/store\";\nimport SidebarToggle from \"../SidebarToggle.vue\";\nimport VersionChecker from \"../VersionChecker.vue\";\n\nexport default defineComponent({\n\tname: \"Help\",\n\tcomponents: {\n\t\tSidebarToggle,\n\t\tVersionChecker,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst isApple = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) || false;\n\t\tconst isTouch = navigator.maxTouchPoints > 0;\n\n\t\treturn {\n\t\t\tisApple,\n\t\t\tisTouch,\n\t\t\tstore,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<NetworkForm\n\t\tv-if=\"networkData\"\n\t\t:handle-submit=\"handleSubmit\"\n\t\t:defaults=\"networkData\"\n\t\t:disabled=\"disabled\"\n\t/>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, onMounted, ref, watch} from \"vue\";\nimport {useRoute} from \"vue-router\";\nimport {switchToChannel} from \"../../js/router\";\nimport socket from \"../../js/socket\";\nimport {useStore} from \"../../js/store\";\nimport NetworkForm, {NetworkFormDefaults} from \"../NetworkForm.vue\";\n\nexport default defineComponent({\n\tname: \"NetworkEdit\",\n\tcomponents: {\n\t\tNetworkForm,\n\t},\n\tsetup() {\n\t\tconst route = useRoute();\n\t\tconst store = useStore();\n\n\t\tconst disabled = ref(false);\n\t\tconst networkData = ref<NetworkFormDefaults | null>(null);\n\n\t\tconst setNetworkData = () => {\n\t\t\tsocket.emit(\"network:get\", String(route.params.uuid || \"\"));\n\t\t\tnetworkData.value = store.getters.findNetwork(String(route.params.uuid || \"\"));\n\t\t};\n\n\t\tconst handleSubmit = (data: {uuid: string; name: string}) => {\n\t\t\tdisabled.value = true;\n\t\t\tsocket.emit(\"network:edit\", data);\n\n\t\t\t// TODO: move networks to vuex and update state when the network info comes in\n\t\t\tconst network = store.getters.findNetwork(data.uuid);\n\n\t\t\tif (network) {\n\t\t\t\tnetwork.name = network.channels[0].name = data.name;\n\n\t\t\t\tswitchToChannel(network.channels[0]);\n\t\t\t}\n\t\t};\n\n\t\twatch(\n\t\t\t() => route.params.uuid,\n\t\t\t(newValue) => {\n\t\t\t\tsetNetworkData();\n\t\t\t}\n\t\t);\n\n\t\tonMounted(() => {\n\t\t\tsetNetworkData();\n\t\t});\n\n\t\treturn {\n\t\t\tdisabled,\n\t\t\tnetworkData,\n\t\t\thandleSubmit,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"chat-container\" class=\"window\">\n\t\t<div\n\t\t\tid=\"chat\"\n\t\t\t:class=\"{\n\t\t\t\t'time-seconds': store.state.settings.showSeconds,\n\t\t\t\t'time-12h': store.state.settings.use12hClock,\n\t\t\t}\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"chat-view\"\n\t\t\t\tdata-type=\"search-results\"\n\t\t\t\taria-label=\"Search results\"\n\t\t\t\trole=\"tabpanel\"\n\t\t\t>\n\t\t\t\t<div v-if=\"network && channel\" class=\"header\">\n\t\t\t\t\t<SidebarToggle />\n\t\t\t\t\t<span class=\"title\"\n\t\t\t\t\t\t>Searching in <span class=\"channel-name\">{{ channel.name }}</span> for</span\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"topic\">{{ route.query.q }}</span>\n\t\t\t\t\t<MessageSearchForm :network=\"network\" :channel=\"channel\" />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"close\"\n\t\t\t\t\t\taria-label=\"Close search window\"\n\t\t\t\t\t\ttitle=\"Close search window\"\n\t\t\t\t\t\t@click=\"closeSearch\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"network && channel\" class=\"chat-content\">\n\t\t\t\t\t<div ref=\"chat\" class=\"chat\" tabindex=\"-1\">\n\t\t\t\t\t\t<div v-show=\"moreResultsAvailable\" class=\"show-more\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tref=\"loadMoreButton\"\n\t\t\t\t\t\t\t\t:disabled=\"\n\t\t\t\t\t\t\t\t\t!!store.state.messageSearchPendingQuery ||\n\t\t\t\t\t\t\t\t\t!store.state.isConnected\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t\t\t\t@click=\"onShowMoreClick\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span v-if=\"store.state.messageSearchPendingQuery\">Loading</span>\n\t\t\t\t\t\t\t\t<span v-else>Show older messages</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"store.state.messageSearchPendingQuery && !offset\"\n\t\t\t\t\t\t\tclass=\"search-status\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSearching\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else-if=\"!messages.length && !offset\" class=\"search-status\">\n\t\t\t\t\t\t\tNo results found.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"messages\"\n\t\t\t\t\t\t\trole=\"log\"\n\t\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\t\taria-relevant=\"additions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"(message, id) in messages\"\n\t\t\t\t\t\t\t\t:key=\"message.id\"\n\t\t\t\t\t\t\t\tclass=\"result\"\n\t\t\t\t\t\t\t\t@click=\"jump(message, id)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DateMarker\n\t\t\t\t\t\t\t\t\tv-if=\"shouldDisplayDateMarker(message, id)\"\n\t\t\t\t\t\t\t\t\t:key=\"message.id + '-date'\"\n\t\t\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\t\t:key=\"message.id\"\n\t\t\t\t\t\t\t\t\t:channel=\"channel\"\n\t\t\t\t\t\t\t\t\t:network=\"network\"\n\t\t\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t\t\t:data-id=\"message.id\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.channel-name {\n\tfont-weight: 700;\n}\n</style>\n\n<script lang=\"ts\">\nimport socket from \"../../js/socket\";\nimport eventbus from \"../../js/eventbus\";\n\nimport SidebarToggle from \"../SidebarToggle.vue\";\nimport Message from \"../Message.vue\";\nimport MessageSearchForm from \"../MessageSearchForm.vue\";\nimport DateMarker from \"../DateMarker.vue\";\nimport {watch, computed, defineComponent, nextTick, ref, onMounted, onUnmounted} from \"vue\";\nimport type {ClientMessage} from \"../../js/types\";\n\nimport {useStore} from \"../../js/store\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport {switchToChannel} from \"../../js/router\";\nimport {SearchQuery} from \"../../../server/plugins/messageStorage/types\";\n\nexport default defineComponent({\n\tname: \"SearchResults\",\n\tcomponents: {\n\t\tSidebarToggle,\n\t\tMessage,\n\t\tDateMarker,\n\t\tMessageSearchForm,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\t\tconst route = useRoute();\n\t\tconst router = useRouter();\n\n\t\tconst chat = ref<HTMLDivElement>();\n\n\t\tconst loadMoreButton = ref<HTMLButtonElement>();\n\n\t\tconst offset = ref(0);\n\t\tconst moreResultsAvailable = ref(false);\n\t\tconst oldScrollTop = ref(0);\n\t\tconst oldChatHeight = ref(0);\n\n\t\tconst messages = computed(() => {\n\t\t\tconst results = store.state.messageSearchResults?.results;\n\n\t\t\tif (!results) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn results;\n\t\t});\n\n\t\tconst chan = computed(() => {\n\t\t\tconst chanId = parseInt(String(route.params.id || \"\"), 10);\n\t\t\treturn store.getters.findChannel(chanId);\n\t\t});\n\n\t\tconst network = computed(() => {\n\t\t\tif (!chan.value) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn chan.value.network;\n\t\t});\n\n\t\tconst channel = computed(() => {\n\t\t\tif (!chan.value) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn chan.value.channel;\n\t\t});\n\n\t\tconst setActiveChannel = () => {\n\t\t\tif (!chan.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstore.commit(\"activeChannel\", chan.value);\n\t\t};\n\n\t\tconst closeSearch = () => {\n\t\t\tif (!channel.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitchToChannel(channel.value);\n\t\t};\n\n\t\tconst shouldDisplayDateMarker = (message: ClientMessage, id: number) => {\n\t\t\tconst previousMessage = messages.value[id - 1];\n\n\t\t\tif (!previousMessage) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn new Date(previousMessage.time).getDay() !== new Date(message.time).getDay();\n\t\t};\n\n\t\tconst clearSearchState = () => {\n\t\t\toffset.value = 0;\n\t\t\tstore.commit(\"messageSearchResults\", null);\n\t\t\tstore.commit(\"messageSearchPendingQuery\", null);\n\t\t};\n\n\t\tconst doSearch = () => {\n\t\t\tif (!network.value || !channel.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearSearchState(); // this is a new search, so we need to clear anything before that\n\t\t\tconst query: SearchQuery = {\n\t\t\t\tnetworkUuid: network.value.uuid,\n\t\t\t\tchannelName: channel.value.name,\n\t\t\t\tsearchTerm: String(route.query.q || \"\"),\n\t\t\t\toffset: offset.value,\n\t\t\t};\n\t\t\tstore.commit(\"messageSearchPendingQuery\", query);\n\t\t\tsocket.emit(\"search\", query);\n\t\t};\n\n\t\tconst onShowMoreClick = () => {\n\t\t\tif (!chat.value || !network.value || !channel.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\toffset.value += 100;\n\n\t\t\toldScrollTop.value = chat.value.scrollTop;\n\t\t\toldChatHeight.value = chat.value.scrollHeight;\n\n\t\t\tconst query: SearchQuery = {\n\t\t\t\tnetworkUuid: network.value.uuid,\n\t\t\t\tchannelName: channel.value.name,\n\t\t\t\tsearchTerm: String(route.query.q || \"\"),\n\t\t\t\toffset: offset.value,\n\t\t\t};\n\t\t\tstore.commit(\"messageSearchPendingQuery\", query);\n\t\t\tsocket.emit(\"search\", query);\n\t\t};\n\n\t\tconst jumpToBottom = async () => {\n\t\t\tawait nextTick();\n\n\t\t\tconst el = chat.value;\n\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tel.scrollTop = el.scrollHeight;\n\t\t};\n\n\t\tconst jump = (message: ClientMessage, id: number) => {\n\t\t\t// TODO: Implement jumping to messages!\n\t\t\t// This is difficult because it means client will need to handle a potentially nonlinear message set\n\t\t\t// (loading IntersectionObserver both before AND after the messages)\n\t\t};\n\n\t\twatch(\n\t\t\t() => route.params.id,\n\t\t\t() => {\n\t\t\t\tdoSearch();\n\t\t\t\tsetActiveChannel();\n\t\t\t}\n\t\t);\n\n\t\twatch(\n\t\t\t() => route.query,\n\t\t\t() => {\n\t\t\t\tdoSearch();\n\t\t\t\tsetActiveChannel();\n\t\t\t}\n\t\t);\n\n\t\twatch(messages, async () => {\n\t\t\tmoreResultsAvailable.value = !!(\n\t\t\t\tmessages.value.length && !(messages.value.length % 100)\n\t\t\t);\n\n\t\t\tif (!offset.value) {\n\t\t\t\tawait jumpToBottom();\n\t\t\t} else {\n\t\t\t\tawait nextTick();\n\n\t\t\t\tconst el = chat.value;\n\n\t\t\t\tif (!el) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst currentChatHeight = el.scrollHeight;\n\t\t\t\tel.scrollTop = oldScrollTop.value + currentChatHeight - oldChatHeight.value;\n\t\t\t}\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tsetActiveChannel();\n\t\t\tdoSearch();\n\n\t\t\teventbus.on(\"escapekey\", closeSearch);\n\t\t\teventbus.on(\"re-search\", doSearch);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\teventbus.off(\"escapekey\", closeSearch);\n\t\t\teventbus.off(\"re-search\", doSearch);\n\t\t\tclearSearchState();\n\t\t});\n\n\t\treturn {\n\t\t\tchat,\n\t\t\tloadMoreButton,\n\t\t\tmessages,\n\t\t\tmoreResultsAvailable,\n\t\t\tnetwork,\n\t\t\tchannel,\n\t\t\troute,\n\t\t\toffset,\n\t\t\tstore,\n\t\t\tsetActiveChannel,\n\t\t\tcloseSearch,\n\t\t\tshouldDisplayDateMarker,\n\t\t\tdoSearch,\n\t\t\tonShowMoreClick,\n\t\t\tjumpToBottom,\n\t\t\tjump,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"settings\" class=\"window\" role=\"tabpanel\" aria-label=\"Settings\">\n\t\t<div class=\"header\">\n\t\t\t<SidebarToggle />\n\t\t</div>\n\t\t<Navigation />\n\n\t\t<div class=\"container\">\n\t\t\t<form ref=\"settingsForm\" autocomplete=\"off\" @change=\"onChange\" @submit.prevent>\n\t\t\t\t<router-view></router-view>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport SidebarToggle from \"../SidebarToggle.vue\";\nimport Navigation from \"../Settings/Navigation.vue\";\nimport {useStore} from \"../../js/store\";\n\nexport default defineComponent({\n\tname: \"Settings\",\n\tcomponents: {\n\t\tSidebarToggle,\n\t\tNavigation,\n\t},\n\tsetup() {\n\t\tconst store = useStore();\n\n\t\tconst onChange = (event: Event) => {\n\t\t\tconst ignore = [\"old_password\", \"new_password\", \"verify_password\"];\n\n\t\t\tconst name = (event.target as HTMLInputElement).name;\n\n\t\t\tif (ignore.includes(name)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet value: boolean | string;\n\n\t\t\tif ((event.target as HTMLInputElement).type === \"checkbox\") {\n\t\t\t\tvalue = (event.target as HTMLInputElement).checked;\n\t\t\t} else {\n\t\t\t\tvalue = (event.target as HTMLInputElement).value;\n\t\t\t}\n\n\t\t\tvoid store.dispatch(\"settings/update\", {name, value, sync: true});\n\t\t};\n\n\t\treturn {\n\t\t\tonChange,\n\t\t};\n\t},\n});\n</script>\n","<template>\n\t<div id=\"sign-in\" class=\"window\" role=\"tabpanel\" aria-label=\"Sign-in\">\n\t\t<form class=\"container\" method=\"post\" action=\"\" @submit=\"onSubmit\">\n\t\t\t<img\n\t\t\t\tsrc=\"img/logo-vertical-transparent-bg.svg\"\n\t\t\t\tclass=\"logo\"\n\t\t\t\talt=\"The Lounge\"\n\t\t\t\twidth=\"256\"\n\t\t\t\theight=\"170\"\n\t\t\t/>\n\t\t\t<img\n\t\t\t\tsrc=\"img/logo-vertical-transparent-bg-inverted.svg\"\n\t\t\t\tclass=\"logo-inverted\"\n\t\t\t\talt=\"The Lounge\"\n\t\t\t\twidth=\"256\"\n\t\t\t\theight=\"170\"\n\t\t\t/>\n\n\t\t\t<label for=\"signin-username\">Username</label>\n\t\t\t<input\n\t\t\t\tid=\"signin-username\"\n\t\t\t\tv-model=\"username\"\n\t\t\t\tclass=\"input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"username\"\n\t\t\t\tautocapitalize=\"none\"\n\t\t\t\tautocorrect=\"off\"\n\t\t\t\tautocomplete=\"username\"\n\t\t\t\trequired\n\t\t\t\tautofocus\n\t\t\t/>\n\n\t\t\t<div class=\"password-container\">\n\t\t\t\t<label for=\"signin-password\">Password</label>\n\t\t\t\t<RevealPassword v-slot:default=\"slotProps\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"signin-password\"\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t\t:type=\"slotProps.isVisible ? 'text' : 'password'\"\n\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\t\tautocomplete=\"current-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</RevealPassword>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"errorShown\" class=\"error\">Authentication failed.</div>\n\n\t\t\t<button :disabled=\"inFlight\" type=\"submit\" class=\"btn\">Sign in</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport storage from \"../../js/localStorage\";\nimport socket from \"../../js/socket\";\nimport RevealPassword from \"../RevealPassword.vue\";\nimport {defineComponent, onBeforeUnmount, onMounted, ref} from \"vue\";\n\nexport default defineComponent({\n\tname: \"SignIn\",\n\tcomponents: {\n\t\tRevealPassword,\n\t},\n\tsetup() {\n\t\tconst inFlight = ref(false);\n\t\tconst errorShown = ref(false);\n\n\t\tconst username = ref(storage.get(\"user\") || \"\");\n\t\tconst password = ref(\"\");\n\n\t\tconst onAuthFailed = () => {\n\t\t\tinFlight.value = false;\n\t\t\terrorShown.value = true;\n\t\t};\n\n\t\tconst onSubmit = (event: Event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tif (!username.value || !password.value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinFlight.value = true;\n\t\t\terrorShown.value = false;\n\n\t\t\tconst values = {\n\t\t\t\tuser: username.value,\n\t\t\t\tpassword: password.value,\n\t\t\t};\n\n\t\t\tstorage.set(\"user\", values.user);\n\n\t\t\tsocket.emit(\"auth:perform\", values);\n\t\t};\n\n\t\tonMounted(() => {\n\t\t\tsocket.on(\"auth:failed\", onAuthFailed);\n\t\t});\n\n\t\tonBeforeUnmount(() => {\n\t\t\tsocket.off(\"auth:failed\", onAuthFailed);\n\t\t});\n\n\t\treturn {\n\t\t\tinFlight,\n\t\t\terrorShown,\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\tonSubmit,\n\t\t};\n\t},\n});\n</script>\n","const matchFormatting =\n\t/\\x02|\\x1D|\\x1F|\\x16|\\x0F|\\x11|\\x1E|\\x03(?:[0-9]{1,2}(?:,[0-9]{1,2})?)?|\\x04(?:[0-9a-f]{6}(?:,[0-9a-f]{6})?)?/gi;\n\nexport function cleanIrcMessage(message: string) {\n\treturn message.replace(matchFormatting, \"\").trim();\n}\n\nexport const condensedTypes = new Set([\n\t\"away\",\n\t\"back\",\n\t\"chghost\",\n\t\"join\",\n\t\"kick\",\n\t\"mode\",\n\t\"nick\",\n\t\"part\",\n\t\"quit\",\n]);\n","import LinkifyIt, {Match} from \"linkify-it\";\nimport tlds from \"tlds\";\n\nexport type NoSchemaMatch = Match & {\n\tnoschema: boolean;\n};\n\nexport type LinkPart = {\n\tstart: number;\n\tend: number;\n\tlink: string;\n};\n\nLinkifyIt.prototype.normalize = function normalize(match: NoSchemaMatch) {\n\tmatch.noschema = false;\n\n\tif (!match.schema) {\n\t\tmatch.schema = \"http:\";\n\t\tmatch.url = \"http://\" + match.url;\n\t\tmatch.noschema = true;\n\t}\n\n\tif (match.schema === \"//\") {\n\t\tmatch.schema = \"http:\";\n\t\tmatch.url = \"http:\" + match.url;\n\t\tmatch.noschema = true;\n\t}\n\n\tif (match.schema === \"mailto:\" && !/^mailto:/i.test(match.url)) {\n\t\tmatch.url = \"mailto:\" + match.url;\n\t}\n};\n\nconst linkify = LinkifyIt().tlds(tlds).tlds(\"onion\", true);\n\n// Known schemes to detect in text\nconst commonSchemes = [\n\t\"sftp\",\n\t\"smb\",\n\t\"file\",\n\t\"irc\",\n\t\"ircs\",\n\t\"svn\",\n\t\"git\",\n\t\"steam\",\n\t\"mumble\",\n\t\"ts3server\",\n\t\"svn+ssh\",\n\t\"ssh\",\n\t\"gopher\",\n\t\"gemini\",\n];\n\nfor (const schema of commonSchemes) {\n\tlinkify.add(schema + \":\", \"http:\");\n}\n\nexport function findLinks(text: string) {\n\tconst matches = linkify.match(text) as NoSchemaMatch[];\n\n\tif (!matches) {\n\t\treturn [];\n\t}\n\n\treturn matches.map(makeLinkPart);\n}\n\nexport function findLinksWithSchema(text: string) {\n\tconst matches = linkify.match(text) as NoSchemaMatch[];\n\n\tif (!matches) {\n\t\treturn [];\n\t}\n\n\treturn matches.filter((url) => !url.noschema).map(makeLinkPart);\n}\n\nfunction makeLinkPart(url: NoSchemaMatch): LinkPart {\n\treturn {\n\t\tstart: url.index,\n\t\tend: url.lastIndex,\n\t\tlink: url.url,\n\t};\n}\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { render } from \"./App.vue?vue&type=template&id=83f030a4&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/App.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"83f030a4\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('83f030a4', __exports__)) {\n    api.reload('83f030a4', __exports__)\n  }\n  \n  module.hot.accept(\"./App.vue?vue&type=template&id=83f030a4&ts=true\", () => {\n    api.rerender('83f030a4', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Channel.vue?vue&type=template&id=3110e710&ts=true\"\nimport script from \"./Channel.vue?vue&type=script&lang=ts\"\nexport * from \"./Channel.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Channel.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3110e710\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3110e710', __exports__)) {\n    api.reload('3110e710', __exports__)\n  }\n  \n  module.hot.accept(\"./Channel.vue?vue&type=template&id=3110e710&ts=true\", () => {\n    api.rerender('3110e710', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ChannelWrapper.vue?vue&type=template&id=2a809bda&ts=true\"\nimport script from \"./ChannelWrapper.vue?vue&type=script&lang=ts\"\nexport * from \"./ChannelWrapper.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ChannelWrapper.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"2a809bda\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('2a809bda', __exports__)) {\n    api.reload('2a809bda', __exports__)\n  }\n  \n  module.hot.accept(\"./ChannelWrapper.vue?vue&type=template&id=2a809bda&ts=true\", () => {\n    api.rerender('2a809bda', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Chat.vue?vue&type=template&id=15a6951b&ts=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=ts\"\nexport * from \"./Chat.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Chat.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"15a6951b\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('15a6951b', __exports__)) {\n    api.reload('15a6951b', __exports__)\n  }\n  \n  module.hot.accept(\"./Chat.vue?vue&type=template&id=15a6951b&ts=true\", () => {\n    api.rerender('15a6951b', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ChatInput.vue?vue&type=template&id=6fb76c9f&ts=true\"\nimport script from \"./ChatInput.vue?vue&type=script&lang=ts\"\nexport * from \"./ChatInput.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ChatInput.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"6fb76c9f\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6fb76c9f', __exports__)) {\n    api.reload('6fb76c9f', __exports__)\n  }\n  \n  module.hot.accept(\"./ChatInput.vue?vue&type=template&id=6fb76c9f&ts=true\", () => {\n    api.rerender('6fb76c9f', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ChatUserList.vue?vue&type=template&id=e8878678&ts=true\"\nimport script from \"./ChatUserList.vue?vue&type=script&lang=ts\"\nexport * from \"./ChatUserList.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ChatUserList.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"e8878678\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('e8878678', __exports__)) {\n    api.reload('e8878678', __exports__)\n  }\n  \n  module.hot.accept(\"./ChatUserList.vue?vue&type=template&id=e8878678&ts=true\", () => {\n    api.rerender('e8878678', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ConfirmDialog.vue?vue&type=template&id=83a07816&ts=true\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./ConfirmDialog.vue?vue&type=style&index=0&id=83a07816&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ConfirmDialog.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"83a07816\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('83a07816', __exports__)) {\n    api.reload('83a07816', __exports__)\n  }\n  \n  module.hot.accept(\"./ConfirmDialog.vue?vue&type=template&id=83a07816&ts=true\", () => {\n    api.rerender('83a07816', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ContextMenu.vue?vue&type=template&id=32d42c8a&ts=true\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ContextMenu.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"32d42c8a\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('32d42c8a', __exports__)) {\n    api.reload('32d42c8a', __exports__)\n  }\n  \n  module.hot.accept(\"./ContextMenu.vue?vue&type=template&id=32d42c8a&ts=true\", () => {\n    api.rerender('32d42c8a', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./DateMarker.vue?vue&type=template&id=a286d9ea&ts=true\"\nimport script from \"./DateMarker.vue?vue&type=script&lang=ts\"\nexport * from \"./DateMarker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/DateMarker.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"a286d9ea\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('a286d9ea', __exports__)) {\n    api.reload('a286d9ea', __exports__)\n  }\n  \n  module.hot.accept(\"./DateMarker.vue?vue&type=template&id=a286d9ea&ts=true\", () => {\n    api.rerender('a286d9ea', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=683fa95a&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Draggable.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"683fa95a\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('683fa95a', __exports__)) {\n    api.reload('683fa95a', __exports__)\n  }\n  \n  module.hot.accept(\"./Draggable.vue?vue&type=template&id=683fa95a&ts=true\", () => {\n    api.rerender('683fa95a', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ImageViewer.vue?vue&type=template&id=5266c9da&ts=true\"\nimport script from \"./ImageViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./ImageViewer.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/ImageViewer.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"5266c9da\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('5266c9da', __exports__)) {\n    api.reload('5266c9da', __exports__)\n  }\n  \n  module.hot.accept(\"./ImageViewer.vue?vue&type=template&id=5266c9da&ts=true\", () => {\n    api.rerender('5266c9da', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./InlineChannel.vue?vue&type=template&id=3dbb9212&ts=true\"\nimport script from \"./InlineChannel.vue?vue&type=script&lang=ts\"\nexport * from \"./InlineChannel.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/InlineChannel.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3dbb9212\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3dbb9212', __exports__)) {\n    api.reload('3dbb9212', __exports__)\n  }\n  \n  module.hot.accept(\"./InlineChannel.vue?vue&type=template&id=3dbb9212&ts=true\", () => {\n    api.rerender('3dbb9212', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./JoinChannel.vue?vue&type=template&id=add39df4&ts=true\"\nimport script from \"./JoinChannel.vue?vue&type=script&lang=ts\"\nexport * from \"./JoinChannel.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/JoinChannel.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"add39df4\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('add39df4', __exports__)) {\n    api.reload('add39df4', __exports__)\n  }\n  \n  module.hot.accept(\"./JoinChannel.vue?vue&type=template&id=add39df4&ts=true\", () => {\n    api.rerender('add39df4', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./LinkPreview.vue?vue&type=template&id=45c6f87b&ts=true\"\nimport script from \"./LinkPreview.vue?vue&type=script&lang=ts\"\nexport * from \"./LinkPreview.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/LinkPreview.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"45c6f87b\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('45c6f87b', __exports__)) {\n    api.reload('45c6f87b', __exports__)\n  }\n  \n  module.hot.accept(\"./LinkPreview.vue?vue&type=template&id=45c6f87b&ts=true\", () => {\n    api.rerender('45c6f87b', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./LinkPreviewFileSize.vue?vue&type=template&id=70eaceb8&ts=true\"\nimport script from \"./LinkPreviewFileSize.vue?vue&type=script&lang=ts\"\nexport * from \"./LinkPreviewFileSize.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/LinkPreviewFileSize.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"70eaceb8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('70eaceb8', __exports__)) {\n    api.reload('70eaceb8', __exports__)\n  }\n  \n  module.hot.accept(\"./LinkPreviewFileSize.vue?vue&type=template&id=70eaceb8&ts=true\", () => {\n    api.rerender('70eaceb8', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./LinkPreviewToggle.vue?vue&type=template&id=7bc08faf&ts=true\"\nimport script from \"./LinkPreviewToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./LinkPreviewToggle.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/LinkPreviewToggle.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"7bc08faf\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('7bc08faf', __exports__)) {\n    api.reload('7bc08faf', __exports__)\n  }\n  \n  module.hot.accept(\"./LinkPreviewToggle.vue?vue&type=template&id=7bc08faf&ts=true\", () => {\n    api.rerender('7bc08faf', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Mentions.vue?vue&type=template&id=7151738c&ts=true\"\nimport script from \"./Mentions.vue?vue&type=script&lang=ts\"\nexport * from \"./Mentions.vue?vue&type=script&lang=ts\"\n\nimport \"./Mentions.vue?vue&type=style&index=0&id=7151738c&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Mentions.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"7151738c\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('7151738c', __exports__)) {\n    api.reload('7151738c', __exports__)\n  }\n  \n  module.hot.accept(\"./Mentions.vue?vue&type=template&id=7151738c&ts=true\", () => {\n    api.rerender('7151738c', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Message.vue?vue&type=template&id=26a16fd8&ts=true\"\nimport script from \"./Message.vue?vue&type=script&lang=ts\"\nexport * from \"./Message.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Message.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"26a16fd8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('26a16fd8', __exports__)) {\n    api.reload('26a16fd8', __exports__)\n  }\n  \n  module.hot.accept(\"./Message.vue?vue&type=template&id=26a16fd8&ts=true\", () => {\n    api.rerender('26a16fd8', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./MessageCondensed.vue?vue&type=template&id=dd9173ba&ts=true\"\nimport script from \"./MessageCondensed.vue?vue&type=script&lang=ts\"\nexport * from \"./MessageCondensed.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageCondensed.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"dd9173ba\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('dd9173ba', __exports__)) {\n    api.reload('dd9173ba', __exports__)\n  }\n  \n  module.hot.accept(\"./MessageCondensed.vue?vue&type=template&id=dd9173ba&ts=true\", () => {\n    api.rerender('dd9173ba', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./MessageList.vue?vue&type=template&id=6f17bfd2&ts=true\"\nimport script from \"./MessageList.vue?vue&type=script&lang=ts\"\nexport * from \"./MessageList.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageList.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"6f17bfd2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6f17bfd2', __exports__)) {\n    api.reload('6f17bfd2', __exports__)\n  }\n  \n  module.hot.accept(\"./MessageList.vue?vue&type=template&id=6f17bfd2&ts=true\", () => {\n    api.rerender('6f17bfd2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./MessageSearchForm.vue?vue&type=template&id=ab39d480&ts=true\"\nimport script from \"./MessageSearchForm.vue?vue&type=script&lang=ts\"\nexport * from \"./MessageSearchForm.vue?vue&type=script&lang=ts\"\n\nimport \"./MessageSearchForm.vue?vue&type=style&index=0&id=ab39d480&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageSearchForm.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"ab39d480\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('ab39d480', __exports__)) {\n    api.reload('ab39d480', __exports__)\n  }\n  \n  module.hot.accept(\"./MessageSearchForm.vue?vue&type=template&id=ab39d480&ts=true\", () => {\n    api.rerender('ab39d480', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./away.vue?vue&type=template&id=5988b410&ts=true\"\nimport script from \"./away.vue?vue&type=script&lang=ts\"\nexport * from \"./away.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/away.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"5988b410\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('5988b410', __exports__)) {\n    api.reload('5988b410', __exports__)\n  }\n  \n  module.hot.accept(\"./away.vue?vue&type=template&id=5988b410&ts=true\", () => {\n    api.rerender('5988b410', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./back.vue?vue&type=template&id=9c0fb91e&ts=true\"\nimport script from \"./back.vue?vue&type=script&lang=ts\"\nexport * from \"./back.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/back.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9c0fb91e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9c0fb91e', __exports__)) {\n    api.reload('9c0fb91e', __exports__)\n  }\n  \n  module.hot.accept(\"./back.vue?vue&type=template&id=9c0fb91e&ts=true\", () => {\n    api.rerender('9c0fb91e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./chghost.vue?vue&type=template&id=40aa8e30&ts=true\"\nimport script from \"./chghost.vue?vue&type=script&lang=ts\"\nexport * from \"./chghost.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/chghost.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"40aa8e30\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('40aa8e30', __exports__)) {\n    api.reload('40aa8e30', __exports__)\n  }\n  \n  module.hot.accept(\"./chghost.vue?vue&type=template&id=40aa8e30&ts=true\", () => {\n    api.rerender('40aa8e30', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ctcp.vue?vue&type=template&id=07362ba8&ts=true\"\nimport script from \"./ctcp.vue?vue&type=script&lang=ts\"\nexport * from \"./ctcp.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/ctcp.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"07362ba8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('07362ba8', __exports__)) {\n    api.reload('07362ba8', __exports__)\n  }\n  \n  module.hot.accept(\"./ctcp.vue?vue&type=template&id=07362ba8&ts=true\", () => {\n    api.rerender('07362ba8', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ctcp_request.vue?vue&type=template&id=34458cf8&ts=true\"\nimport script from \"./ctcp_request.vue?vue&type=script&lang=ts\"\nexport * from \"./ctcp_request.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/ctcp_request.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"34458cf8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('34458cf8', __exports__)) {\n    api.reload('34458cf8', __exports__)\n  }\n  \n  module.hot.accept(\"./ctcp_request.vue?vue&type=template&id=34458cf8&ts=true\", () => {\n    api.rerender('34458cf8', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./error.vue?vue&type=template&id=53bbf76e&ts=true\"\nimport script from \"./error.vue?vue&type=script&lang=ts\"\nexport * from \"./error.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/error.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"53bbf76e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('53bbf76e', __exports__)) {\n    api.reload('53bbf76e', __exports__)\n  }\n  \n  module.hot.accept(\"./error.vue?vue&type=template&id=53bbf76e&ts=true\", () => {\n    api.rerender('53bbf76e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./invite.vue?vue&type=template&id=0c465813&ts=true\"\nimport script from \"./invite.vue?vue&type=script&lang=ts\"\nexport * from \"./invite.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/invite.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0c465813\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0c465813', __exports__)) {\n    api.reload('0c465813', __exports__)\n  }\n  \n  module.hot.accept(\"./invite.vue?vue&type=template&id=0c465813&ts=true\", () => {\n    api.rerender('0c465813', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./join.vue?vue&type=template&id=3fffbb98&ts=true\"\nimport script from \"./join.vue?vue&type=script&lang=ts\"\nexport * from \"./join.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/join.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3fffbb98\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3fffbb98', __exports__)) {\n    api.reload('3fffbb98', __exports__)\n  }\n  \n  module.hot.accept(\"./join.vue?vue&type=template&id=3fffbb98&ts=true\", () => {\n    api.rerender('3fffbb98', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./kick.vue?vue&type=template&id=00149150&ts=true\"\nimport script from \"./kick.vue?vue&type=script&lang=ts\"\nexport * from \"./kick.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/kick.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"00149150\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('00149150', __exports__)) {\n    api.reload('00149150', __exports__)\n  }\n  \n  module.hot.accept(\"./kick.vue?vue&type=template&id=00149150&ts=true\", () => {\n    api.rerender('00149150', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./mode.vue?vue&type=template&id=0e9c9a2d&ts=true\"\nimport script from \"./mode.vue?vue&type=script&lang=ts\"\nexport * from \"./mode.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/mode.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0e9c9a2d\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0e9c9a2d', __exports__)) {\n    api.reload('0e9c9a2d', __exports__)\n  }\n  \n  module.hot.accept(\"./mode.vue?vue&type=template&id=0e9c9a2d&ts=true\", () => {\n    api.rerender('0e9c9a2d', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./mode_channel.vue?vue&type=template&id=9e94521e&ts=true\"\nimport script from \"./mode_channel.vue?vue&type=script&lang=ts\"\nexport * from \"./mode_channel.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/mode_channel.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9e94521e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9e94521e', __exports__)) {\n    api.reload('9e94521e', __exports__)\n  }\n  \n  module.hot.accept(\"./mode_channel.vue?vue&type=template&id=9e94521e&ts=true\", () => {\n    api.rerender('9e94521e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./mode_user.vue?vue&type=template&id=5fc67fcd&ts=true\"\nimport script from \"./mode_user.vue?vue&type=script&lang=ts\"\nexport * from \"./mode_user.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/mode_user.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"5fc67fcd\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('5fc67fcd', __exports__)) {\n    api.reload('5fc67fcd', __exports__)\n  }\n  \n  module.hot.accept(\"./mode_user.vue?vue&type=template&id=5fc67fcd&ts=true\", () => {\n    api.rerender('5fc67fcd', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./monospace_block.vue?vue&type=template&id=0aaad692&ts=true\"\nimport script from \"./monospace_block.vue?vue&type=script&lang=ts\"\nexport * from \"./monospace_block.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/monospace_block.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0aaad692\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0aaad692', __exports__)) {\n    api.reload('0aaad692', __exports__)\n  }\n  \n  module.hot.accept(\"./monospace_block.vue?vue&type=template&id=0aaad692&ts=true\", () => {\n    api.rerender('0aaad692', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./nick.vue?vue&type=template&id=37b817ed&ts=true\"\nimport script from \"./nick.vue?vue&type=script&lang=ts\"\nexport * from \"./nick.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/nick.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"37b817ed\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('37b817ed', __exports__)) {\n    api.reload('37b817ed', __exports__)\n  }\n  \n  module.hot.accept(\"./nick.vue?vue&type=template&id=37b817ed&ts=true\", () => {\n    api.rerender('37b817ed', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./part.vue?vue&type=template&id=7a601c7d&ts=true\"\nimport script from \"./part.vue?vue&type=script&lang=ts\"\nexport * from \"./part.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/part.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"7a601c7d\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('7a601c7d', __exports__)) {\n    api.reload('7a601c7d', __exports__)\n  }\n  \n  module.hot.accept(\"./part.vue?vue&type=template&id=7a601c7d&ts=true\", () => {\n    api.rerender('7a601c7d', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./quit.vue?vue&type=template&id=163b664e&ts=true\"\nimport script from \"./quit.vue?vue&type=script&lang=ts\"\nexport * from \"./quit.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/quit.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"163b664e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('163b664e', __exports__)) {\n    api.reload('163b664e', __exports__)\n  }\n  \n  module.hot.accept(\"./quit.vue?vue&type=template&id=163b664e&ts=true\", () => {\n    api.rerender('163b664e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./raw.vue?vue&type=template&id=2394290e&ts=true\"\nimport script from \"./raw.vue?vue&type=script&lang=ts\"\nexport * from \"./raw.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/raw.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"2394290e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('2394290e', __exports__)) {\n    api.reload('2394290e', __exports__)\n  }\n  \n  module.hot.accept(\"./raw.vue?vue&type=template&id=2394290e&ts=true\", () => {\n    api.rerender('2394290e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./topic.vue?vue&type=template&id=573e0715&ts=true\"\nimport script from \"./topic.vue?vue&type=script&lang=ts\"\nexport * from \"./topic.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/topic.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"573e0715\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('573e0715', __exports__)) {\n    api.reload('573e0715', __exports__)\n  }\n  \n  module.hot.accept(\"./topic.vue?vue&type=template&id=573e0715&ts=true\", () => {\n    api.rerender('573e0715', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./topic_set_by.vue?vue&type=template&id=18f4146e&ts=true\"\nimport script from \"./topic_set_by.vue?vue&type=script&lang=ts\"\nexport * from \"./topic_set_by.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/topic_set_by.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"18f4146e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('18f4146e', __exports__)) {\n    api.reload('18f4146e', __exports__)\n  }\n  \n  module.hot.accept(\"./topic_set_by.vue?vue&type=template&id=18f4146e&ts=true\", () => {\n    api.rerender('18f4146e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./whois.vue?vue&type=template&id=08de56ce&ts=true\"\nimport script from \"./whois.vue?vue&type=script&lang=ts\"\nexport * from \"./whois.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/MessageTypes/whois.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"08de56ce\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('08de56ce', __exports__)) {\n    api.reload('08de56ce', __exports__)\n  }\n  \n  module.hot.accept(\"./whois.vue?vue&type=template&id=08de56ce&ts=true\", () => {\n    api.rerender('08de56ce', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./NetworkForm.vue?vue&type=template&id=80f047c2&ts=true\"\nimport script from \"./NetworkForm.vue?vue&type=script&lang=ts\"\nexport * from \"./NetworkForm.vue?vue&type=script&lang=ts\"\n\nimport \"./NetworkForm.vue?vue&type=style&index=0&id=80f047c2&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/NetworkForm.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"80f047c2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('80f047c2', __exports__)) {\n    api.reload('80f047c2', __exports__)\n  }\n  \n  module.hot.accept(\"./NetworkForm.vue?vue&type=template&id=80f047c2&ts=true\", () => {\n    api.rerender('80f047c2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./NetworkList.vue?vue&type=template&id=18fdfa0e&ts=true\"\nimport script from \"./NetworkList.vue?vue&type=script&lang=ts\"\nexport * from \"./NetworkList.vue?vue&type=script&lang=ts\"\n\nimport \"./NetworkList.vue?vue&type=style&index=0&id=18fdfa0e&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/NetworkList.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"18fdfa0e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('18fdfa0e', __exports__)) {\n    api.reload('18fdfa0e', __exports__)\n  }\n  \n  module.hot.accept(\"./NetworkList.vue?vue&type=template&id=18fdfa0e&ts=true\", () => {\n    api.rerender('18fdfa0e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./NetworkLobby.vue?vue&type=template&id=4de56d0b&ts=true\"\nimport script from \"./NetworkLobby.vue?vue&type=script&lang=ts\"\nexport * from \"./NetworkLobby.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/NetworkLobby.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"4de56d0b\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('4de56d0b', __exports__)) {\n    api.reload('4de56d0b', __exports__)\n  }\n  \n  module.hot.accept(\"./NetworkLobby.vue?vue&type=template&id=4de56d0b&ts=true\", () => {\n    api.rerender('4de56d0b', render)\n  })\n\n}\n\n\nexport default __exports__","import script from \"./ParsedMessage.vue?vue&type=script&lang=ts\"\nexport * from \"./ParsedMessage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"client/components/ParsedMessage.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3f0238fa\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3f0238fa', __exports__)) {\n    api.reload('3f0238fa', __exports__)\n  }\n  \n}\n\n\nexport default __exports__","import { render } from \"./RevealPassword.vue?vue&type=template&id=15b2ccea&ts=true\"\nimport script from \"./RevealPassword.vue?vue&type=script&lang=ts\"\nexport * from \"./RevealPassword.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/RevealPassword.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"15b2ccea\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('15b2ccea', __exports__)) {\n    api.reload('15b2ccea', __exports__)\n  }\n  \n  module.hot.accept(\"./RevealPassword.vue?vue&type=template&id=15b2ccea&ts=true\", () => {\n    api.rerender('15b2ccea', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./RoutedChat.vue?vue&type=template&id=7de24d94&ts=true\"\nimport script from \"./RoutedChat.vue?vue&type=script&lang=ts\"\nexport * from \"./RoutedChat.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/RoutedChat.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"7de24d94\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('7de24d94', __exports__)) {\n    api.reload('7de24d94', __exports__)\n  }\n  \n  module.hot.accept(\"./RoutedChat.vue?vue&type=template&id=7de24d94&ts=true\", () => {\n    api.rerender('7de24d94', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Session.vue?vue&type=template&id=1f62eb23&ts=true\"\nimport script from \"./Session.vue?vue&type=script&lang=ts\"\nexport * from \"./Session.vue?vue&type=script&lang=ts\"\n\nimport \"./Session.vue?vue&type=style&index=0&id=1f62eb23&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Session.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1f62eb23\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1f62eb23', __exports__)) {\n    api.reload('1f62eb23', __exports__)\n  }\n  \n  module.hot.accept(\"./Session.vue?vue&type=template&id=1f62eb23&ts=true\", () => {\n    api.rerender('1f62eb23', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Account.vue?vue&type=template&id=82d55638&ts=true\"\nimport script from \"./Account.vue?vue&type=script&lang=ts\"\nexport * from \"./Account.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/Account.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"82d55638\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('82d55638', __exports__)) {\n    api.reload('82d55638', __exports__)\n  }\n  \n  module.hot.accept(\"./Account.vue?vue&type=template&id=82d55638&ts=true\", () => {\n    api.rerender('82d55638', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Appearance.vue?vue&type=template&id=9d2fa406&ts=true\"\nimport script from \"./Appearance.vue?vue&type=script&lang=ts\"\nexport * from \"./Appearance.vue?vue&type=script&lang=ts\"\n\nimport \"./Appearance.vue?vue&type=style&index=0&id=9d2fa406&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/Appearance.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9d2fa406\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9d2fa406', __exports__)) {\n    api.reload('9d2fa406', __exports__)\n  }\n  \n  module.hot.accept(\"./Appearance.vue?vue&type=template&id=9d2fa406&ts=true\", () => {\n    api.rerender('9d2fa406', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./General.vue?vue&type=template&id=815203c2&ts=true\"\nimport script from \"./General.vue?vue&type=script&lang=ts\"\nexport * from \"./General.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/General.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"815203c2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('815203c2', __exports__)) {\n    api.reload('815203c2', __exports__)\n  }\n  \n  module.hot.accept(\"./General.vue?vue&type=template&id=815203c2&ts=true\", () => {\n    api.rerender('815203c2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Navigation.vue?vue&type=template&id=551823ad&ts=true\"\nimport script from \"./Navigation.vue?vue&type=script&lang=ts\"\nexport * from \"./Navigation.vue?vue&type=script&lang=ts\"\n\nimport \"./Navigation.vue?vue&type=style&index=0&id=551823ad&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/Navigation.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"551823ad\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('551823ad', __exports__)) {\n    api.reload('551823ad', __exports__)\n  }\n  \n  module.hot.accept(\"./Navigation.vue?vue&type=template&id=551823ad&ts=true\", () => {\n    api.rerender('551823ad', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Notifications.vue?vue&type=template&id=2e7cd6df&ts=true\"\nimport script from \"./Notifications.vue?vue&type=script&lang=ts\"\nexport * from \"./Notifications.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/Notifications.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"2e7cd6df\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('2e7cd6df', __exports__)) {\n    api.reload('2e7cd6df', __exports__)\n  }\n  \n  module.hot.accept(\"./Notifications.vue?vue&type=template&id=2e7cd6df&ts=true\", () => {\n    api.rerender('2e7cd6df', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./SettingTabItem.vue?vue&type=template&id=cda44a1e&ts=true\"\nimport script from \"./SettingTabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./SettingTabItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Settings/SettingTabItem.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"cda44a1e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('cda44a1e', __exports__)) {\n    api.reload('cda44a1e', __exports__)\n  }\n  \n  module.hot.accept(\"./SettingTabItem.vue?vue&type=template&id=cda44a1e&ts=true\", () => {\n    api.rerender('cda44a1e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Sidebar.vue?vue&type=template&id=083ea0e9&ts=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=ts\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Sidebar.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"083ea0e9\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('083ea0e9', __exports__)) {\n    api.reload('083ea0e9', __exports__)\n  }\n  \n  module.hot.accept(\"./Sidebar.vue?vue&type=template&id=083ea0e9&ts=true\", () => {\n    api.rerender('083ea0e9', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./SidebarToggle.vue?vue&type=template&id=1ac7ad9d&ts=true\"\nimport script from \"./SidebarToggle.vue?vue&type=script&lang=ts\"\nexport * from \"./SidebarToggle.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/SidebarToggle.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1ac7ad9d\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1ac7ad9d', __exports__)) {\n    api.reload('1ac7ad9d', __exports__)\n  }\n  \n  module.hot.accept(\"./SidebarToggle.vue?vue&type=template&id=1ac7ad9d&ts=true\", () => {\n    api.rerender('1ac7ad9d', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ListBans.vue?vue&type=template&id=0ed4d9fb&ts=true\"\nimport script from \"./ListBans.vue?vue&type=script&lang=ts\"\nexport * from \"./ListBans.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Special/ListBans.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0ed4d9fb\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0ed4d9fb', __exports__)) {\n    api.reload('0ed4d9fb', __exports__)\n  }\n  \n  module.hot.accept(\"./ListBans.vue?vue&type=template&id=0ed4d9fb&ts=true\", () => {\n    api.rerender('0ed4d9fb', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ListChannels.vue?vue&type=template&id=9016abf2&ts=true\"\nimport script from \"./ListChannels.vue?vue&type=script&lang=ts\"\nexport * from \"./ListChannels.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Special/ListChannels.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"9016abf2\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('9016abf2', __exports__)) {\n    api.reload('9016abf2', __exports__)\n  }\n  \n  module.hot.accept(\"./ListChannels.vue?vue&type=template&id=9016abf2&ts=true\", () => {\n    api.rerender('9016abf2', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ListIgnored.vue?vue&type=template&id=0f560aeb&ts=true\"\nimport script from \"./ListIgnored.vue?vue&type=script&lang=ts\"\nexport * from \"./ListIgnored.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Special/ListIgnored.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"0f560aeb\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('0f560aeb', __exports__)) {\n    api.reload('0f560aeb', __exports__)\n  }\n  \n  module.hot.accept(\"./ListIgnored.vue?vue&type=template&id=0f560aeb&ts=true\", () => {\n    api.rerender('0f560aeb', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./ListInvites.vue?vue&type=template&id=5ad464a3&ts=true\"\nimport script from \"./ListInvites.vue?vue&type=script&lang=ts\"\nexport * from \"./ListInvites.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Special/ListInvites.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"5ad464a3\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('5ad464a3', __exports__)) {\n    api.reload('5ad464a3', __exports__)\n  }\n  \n  module.hot.accept(\"./ListInvites.vue?vue&type=template&id=5ad464a3&ts=true\", () => {\n    api.rerender('5ad464a3', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Username.vue?vue&type=template&id=34970e19&ts=true\"\nimport script from \"./Username.vue?vue&type=script&lang=ts\"\nexport * from \"./Username.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Username.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"34970e19\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('34970e19', __exports__)) {\n    api.reload('34970e19', __exports__)\n  }\n  \n  module.hot.accept(\"./Username.vue?vue&type=template&id=34970e19&ts=true\", () => {\n    api.rerender('34970e19', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./VersionChecker.vue?vue&type=template&id=18223540&ts=true\"\nimport script from \"./VersionChecker.vue?vue&type=script&lang=ts\"\nexport * from \"./VersionChecker.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/VersionChecker.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"18223540\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('18223540', __exports__)) {\n    api.reload('18223540', __exports__)\n  }\n  \n  module.hot.accept(\"./VersionChecker.vue?vue&type=template&id=18223540&ts=true\", () => {\n    api.rerender('18223540', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Changelog.vue?vue&type=template&id=67823235&ts=true\"\nimport script from \"./Changelog.vue?vue&type=script&lang=ts\"\nexport * from \"./Changelog.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/Changelog.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"67823235\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('67823235', __exports__)) {\n    api.reload('67823235', __exports__)\n  }\n  \n  module.hot.accept(\"./Changelog.vue?vue&type=template&id=67823235&ts=true\", () => {\n    api.rerender('67823235', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Connect.vue?vue&type=template&id=1129cccb&ts=true\"\nimport script from \"./Connect.vue?vue&type=script&lang=ts\"\nexport * from \"./Connect.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/Connect.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1129cccb\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1129cccb', __exports__)) {\n    api.reload('1129cccb', __exports__)\n  }\n  \n  module.hot.accept(\"./Connect.vue?vue&type=template&id=1129cccb&ts=true\", () => {\n    api.rerender('1129cccb', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Help.vue?vue&type=template&id=3f809fb0&ts=true\"\nimport script from \"./Help.vue?vue&type=script&lang=ts\"\nexport * from \"./Help.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/Help.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3f809fb0\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3f809fb0', __exports__)) {\n    api.reload('3f809fb0', __exports__)\n  }\n  \n  module.hot.accept(\"./Help.vue?vue&type=template&id=3f809fb0&ts=true\", () => {\n    api.rerender('3f809fb0', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./NetworkEdit.vue?vue&type=template&id=1616d48e&ts=true\"\nimport script from \"./NetworkEdit.vue?vue&type=script&lang=ts\"\nexport * from \"./NetworkEdit.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/NetworkEdit.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"1616d48e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('1616d48e', __exports__)) {\n    api.reload('1616d48e', __exports__)\n  }\n  \n  module.hot.accept(\"./NetworkEdit.vue?vue&type=template&id=1616d48e&ts=true\", () => {\n    api.rerender('1616d48e', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./SearchResults.vue?vue&type=template&id=29b58f62&ts=true\"\nimport script from \"./SearchResults.vue?vue&type=script&lang=ts\"\nexport * from \"./SearchResults.vue?vue&type=script&lang=ts\"\n\nimport \"./SearchResults.vue?vue&type=style&index=0&id=29b58f62&lang=css\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/SearchResults.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"29b58f62\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('29b58f62', __exports__)) {\n    api.reload('29b58f62', __exports__)\n  }\n  \n  module.hot.accept(\"./SearchResults.vue?vue&type=template&id=29b58f62&ts=true\", () => {\n    api.rerender('29b58f62', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./Settings.vue?vue&type=template&id=77176fdc&ts=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/Settings.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"77176fdc\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('77176fdc', __exports__)) {\n    api.reload('77176fdc', __exports__)\n  }\n  \n  module.hot.accept(\"./Settings.vue?vue&type=template&id=77176fdc&ts=true\", () => {\n    api.rerender('77176fdc', render)\n  })\n\n}\n\n\nexport default __exports__","import { render } from \"./SignIn.vue?vue&type=template&id=233e4c1e&ts=true\"\nimport script from \"./SignIn.vue?vue&type=script&lang=ts\"\nexport * from \"./SignIn.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/hyegyu/Dev/wiki/thelounge/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"client/components/Windows/SignIn.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"233e4c1e\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('233e4c1e', __exports__)) {\n    api.reload('233e4c1e', __exports__)\n  }\n  \n  module.hot.accept(\"./SignIn.vue?vue&type=template&id=233e4c1e&ts=true\", () => {\n    api.rerender('233e4c1e', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./App.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./App.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Channel.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Channel.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChannelWrapper.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChannelWrapper.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Chat.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Chat.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatInput.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatInput.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatUserList.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatUserList.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ConfirmDialog.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ConfirmDialog.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ContextMenu.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ContextMenu.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./DateMarker.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./DateMarker.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Draggable.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Draggable.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ImageViewer.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ImageViewer.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./InlineChannel.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./InlineChannel.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./JoinChannel.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./JoinChannel.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreview.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreview.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewFileSize.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewFileSize.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewToggle.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewToggle.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Mentions.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Mentions.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Message.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Message.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageCondensed.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageCondensed.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageList.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageList.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageSearchForm.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageSearchForm.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./away.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./away.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./back.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./back.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./chghost.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./chghost.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp_request.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp_request.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./error.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./error.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./invite.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./invite.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./join.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./join.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./kick.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./kick.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_channel.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_channel.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_user.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_user.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./monospace_block.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./monospace_block.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./nick.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./nick.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./part.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./part.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./quit.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./quit.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./raw.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./raw.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic_set_by.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic_set_by.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./whois.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./whois.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkForm.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkForm.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkList.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkList.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkLobby.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkLobby.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ParsedMessage.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ParsedMessage.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RevealPassword.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RevealPassword.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RoutedChat.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RoutedChat.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Session.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Session.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Account.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Account.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Appearance.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Appearance.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./General.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./General.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Navigation.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Navigation.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Notifications.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Notifications.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SettingTabItem.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SettingTabItem.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Sidebar.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Sidebar.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SidebarToggle.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SidebarToggle.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListBans.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListBans.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListChannels.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListChannels.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListIgnored.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListIgnored.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListInvites.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListInvites.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Username.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Username.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./VersionChecker.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./VersionChecker.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Changelog.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Changelog.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Connect.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Connect.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Help.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Help.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkEdit.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkEdit.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SearchResults.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SearchResults.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Settings.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Settings.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SignIn.vue?vue&type=script&lang=ts\"; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SignIn.vue?vue&type=script&lang=ts\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./App.vue?vue&type=template&id=83f030a4&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Channel.vue?vue&type=template&id=3110e710&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChannelWrapper.vue?vue&type=template&id=2a809bda&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Chat.vue?vue&type=template&id=15a6951b&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatInput.vue?vue&type=template&id=6fb76c9f&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ChatUserList.vue?vue&type=template&id=e8878678&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ConfirmDialog.vue?vue&type=template&id=83a07816&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ContextMenu.vue?vue&type=template&id=32d42c8a&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./DateMarker.vue?vue&type=template&id=a286d9ea&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Draggable.vue?vue&type=template&id=683fa95a&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ImageViewer.vue?vue&type=template&id=5266c9da&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./InlineChannel.vue?vue&type=template&id=3dbb9212&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./JoinChannel.vue?vue&type=template&id=add39df4&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreview.vue?vue&type=template&id=45c6f87b&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewFileSize.vue?vue&type=template&id=70eaceb8&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./LinkPreviewToggle.vue?vue&type=template&id=7bc08faf&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Mentions.vue?vue&type=template&id=7151738c&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Message.vue?vue&type=template&id=26a16fd8&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageCondensed.vue?vue&type=template&id=dd9173ba&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageList.vue?vue&type=template&id=6f17bfd2&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageSearchForm.vue?vue&type=template&id=ab39d480&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./away.vue?vue&type=template&id=5988b410&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./back.vue?vue&type=template&id=9c0fb91e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./chghost.vue?vue&type=template&id=40aa8e30&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp.vue?vue&type=template&id=07362ba8&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ctcp_request.vue?vue&type=template&id=34458cf8&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./error.vue?vue&type=template&id=53bbf76e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./invite.vue?vue&type=template&id=0c465813&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./join.vue?vue&type=template&id=3fffbb98&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./kick.vue?vue&type=template&id=00149150&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode.vue?vue&type=template&id=0e9c9a2d&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_channel.vue?vue&type=template&id=9e94521e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./mode_user.vue?vue&type=template&id=5fc67fcd&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./monospace_block.vue?vue&type=template&id=0aaad692&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./nick.vue?vue&type=template&id=37b817ed&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./part.vue?vue&type=template&id=7a601c7d&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./quit.vue?vue&type=template&id=163b664e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./raw.vue?vue&type=template&id=2394290e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic.vue?vue&type=template&id=573e0715&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./topic_set_by.vue?vue&type=template&id=18f4146e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./whois.vue?vue&type=template&id=08de56ce&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkForm.vue?vue&type=template&id=80f047c2&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkList.vue?vue&type=template&id=18fdfa0e&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkLobby.vue?vue&type=template&id=4de56d0b&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RevealPassword.vue?vue&type=template&id=15b2ccea&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./RoutedChat.vue?vue&type=template&id=7de24d94&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Session.vue?vue&type=template&id=1f62eb23&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Account.vue?vue&type=template&id=82d55638&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Appearance.vue?vue&type=template&id=9d2fa406&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./General.vue?vue&type=template&id=815203c2&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Navigation.vue?vue&type=template&id=551823ad&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Notifications.vue?vue&type=template&id=2e7cd6df&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SettingTabItem.vue?vue&type=template&id=cda44a1e&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Sidebar.vue?vue&type=template&id=083ea0e9&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SidebarToggle.vue?vue&type=template&id=1ac7ad9d&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListBans.vue?vue&type=template&id=0ed4d9fb&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListChannels.vue?vue&type=template&id=9016abf2&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListIgnored.vue?vue&type=template&id=0f560aeb&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ListInvites.vue?vue&type=template&id=5ad464a3&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Username.vue?vue&type=template&id=34970e19&ts=true\"","export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./VersionChecker.vue?vue&type=template&id=18223540&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Changelog.vue?vue&type=template&id=67823235&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Connect.vue?vue&type=template&id=1129cccb&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Help.vue?vue&type=template&id=3f809fb0&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkEdit.vue?vue&type=template&id=1616d48e&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SearchResults.vue?vue&type=template&id=29b58f62&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Settings.vue?vue&type=template&id=77176fdc&ts=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SignIn.vue?vue&type=template&id=233e4c1e&ts=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./ConfirmDialog.vue?vue&type=style&index=0&id=83a07816&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Mentions.vue?vue&type=style&index=0&id=7151738c&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./MessageSearchForm.vue?vue&type=style&index=0&id=ab39d480&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkForm.vue?vue&type=style&index=0&id=80f047c2&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./NetworkList.vue?vue&type=style&index=0&id=18fdfa0e&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Session.vue?vue&type=style&index=0&id=1f62eb23&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Appearance.vue?vue&type=style&index=0&id=9d2fa406&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./Navigation.vue?vue&type=style&index=0&id=551823ad&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-2.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use!./SearchResults.vue?vue&type=style&index=0&id=29b58f62&lang=css\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"js/bundle.js\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkthelounge\"] = self[\"webpackChunkthelounge\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"js/bundle.vendor.js\"], () => (__webpack_require__(\"./client/js/vue.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["requireViews","require","context","keys","reduce","acc","path","substring","length","default","storage","location","Auth","signout","clear","reload","constants","Mousetrap","Textcomplete","TextareaEditor","fuzzy","emojiMap","store","enableAutocomplete","emojiSearchTerms","Object","emojiStrategy","id","match","search","term","callback","replace","fuzzyGrep","template","string","original","String","index","nicksStrategy","slice","completeNicks","map","val","replaceNick","chanStrategy","completeChans","commandStrategy","completeCommands","foregroundColorStrategy","toLowerCase","matchingColorCodes","colorCodeMap","filter","i","test","pre","post","rendered","value","parseInt","backgroundColorStrategy","pair","concat","input","tabCount","lastMatch","currentMatches","addEventListener","e","detail","bind","state","isAutoCompleting","preventDefault","text","selectionStart","split","pop","position","newMatch","remainder","substr","selectionEnd","dispatchEvent","CustomEvent","strategies","editor","textcomplete","dropdown","className","placement","on","commit","hide","destroy","settings","nickPostfix","activeChannel","channel","pendingMessage","array","results","el","rawNicks","users","sort","a","b","lastMessage","u","nick","me","network","otherUser","name","type","word","isFuzzy","w","indexOf","getCommands","cmds","commands","searchEnabled","c","words","channels","push","chat","window","InstallTrigger","selection","getSelection","anchorNode","focusNode","range","getRangeAt","documentFragment","cloneContents","div","document","createElement","appendChild","selectAllChildren","setTimeout","removeChild","removeAllRanges","addRange","socket","messageIds","message","messages","toggled","preview","previews","shown","body","classList","contains","emit","target","command","switchToChannel","args","chanTypes","serverOptions","CHANTYPES","channelList","includes","join","chan","getters","findChannelOnCurrentNetwork","router","params","query","q","catch","console","error","timeFormats","msgDefault","msgWithSeconds","msg12h","msg12hWithSeconds","mobileViewportPixels","events","Map","EventBus","handler","has","get","set","off","item","evt","isCollapsed","stored","networks","Set","JSON","parse","add","uuid","delete","stringify","str","hash","charCodeAt","toString","eventbus","useCloseChannel","generateChannelContextMenu","closeChannel","typeMap","lobby","special","closeMap","items","label","class","link","action","isJoinChannelShown","status","connected","editTopic","title","button","result","humanFriendlyChanTypeMap","mutableChanTypes","chanType","muted","setMutedTo","generateInlineChannelContextMenu","find","generateUserContextMenu","user","currentChannelUser","whois","modes","modeCharToName","modeTextTemplate","revoke","m","symbol","res","mode","give","networkModeSymbols","PREFIX","symbols","compare","p1","p2","prefix","forEach","distance","x1","y1","x2","y2","Math","hypot","sizes","size","floor","log","fixedSize","parseFloat","pow","toFixed","anyIntersection","start","end","fill","existingEntries","textSegment","escapeRegExp","escapeRegExpCharSet","raw","escaped","findChannels","channelPrefixes","userModes","userModePattern","channelPrefixPattern","channelPattern","channelRegExp","RegExp","exec","emojiRegExp","regExp","findEmoji","emoji","nickRegExp","findNames","nicks","assign","textPart","fragment","fragStart","max","min","sortParts","merge","parts","styleFragments","cleanText","prev","curr","intersection","some","p","filled","allParts","part","fragments","BOLD","COLOR","HEX_COLOR","RESET","REVERSE","ITALIC","UNDERLINE","STRIKETHROUGH","MONOSPACE","colorRx","hexColorRx","controlCodesRx","parseStyle","colorCodes","bold","textColor","bgColor","hexColor","hexBgColor","italic","underline","strikethrough","monospace","resetStyle","undefined","emitFragment","processedText","fragmentStart","Number","toUpperCase","tmp","properties","prepare","lastEntry","every","key","highlight","event","tagName","listenForTwoFingerSwipes","onTwoFingerSwipe","history","touches","timestamp","performance","now","center","screenX","screenY","last","centersAreEqual","passive","direction","getSwipe","hist","MIN_SWIPE_SPEED","previous","current","speed","abs","getCardinalDirection","tangent","dayjs","time","format","h","findLinks","LinkPreviewToggle","LinkPreviewFileSize","InlineChannel","Username","emojiModifiersRegex","createFragment","classes","data","style","hasData","color","pref","channelParts","linkParts","emojiParts","nameParts","href","dir","rel","linkEls","emojiWithoutModifiers","role","stringUri","host","port","tls","uri","URL","protocol","hostname","pathname","count","closed","navigate","isChannelCollapsed","isIgnoredKeybind","navigateWindow","cardinalDirection","flatChannels","jumpToChannel","findIndex","n","targetChannel","outer_loop","unread","err","element","querySelector","scrollIntoViewNicely","ignoredKeys","currentRoute","go","altKey","which","ctrlKey","metaKey","focus","getElementById","scrollIntoView","block","inline","localStorage","setItem","getItem","remove","removeItem","createRouter","createWebHashHistory","SignIn","Connect","Settings","Help","Changelog","NetworkEdit","SearchResults","RoutedChat","AppearanceSettings","GeneralSettings","AccountSettings","NotificationSettings","routes","component","beforeEnter","to","from","next","appLoaded","props","route","queryParams","children","beforeEach","watch","matched","findChannel","findNetwork","afterEach","innerWidth","firstUnread","splice","moreHistoryAvailable","routeName","navigator","serviceWorker","channelTarget","defaultSettingConfig","apply","sync","defaultConfig","syncSettings","auto","advanced","autocomplete","coloredNicks","desktopNotifications","root","Notification","permission","requestPermission","highlights","highlightExceptions","awayMessage","links","motd","notification","notifyAllMessages","showSeconds","use12hClock","statusMessages","theme","dataset","serverTheme","themeEl","themeUrl","HTMLLinkElement","Error","hrefAttr","attributes","getNamedItem","serverConfiguration","newTheme","themes","metaSelector","HTMLMetaElement","themeColor","content","media","uploadCanvas","userStyles","innerHTML","config","normalizeConfig","createState","settingName","obj","newConfig","lastServerHash","updateLoadingMessage","reloadPage","showSignIn","serverHash","token","doFastAuth","openChannel","hasConfig","g_TheLoungeRemoveLoading","disconnect","loading","textContent","currentUserVisibleError","latest","packages","changelog","expiresAt","expires","Date","isUpdateAvailable","upload","once","dispatch","fileUpload","initialize","currentTheme","t","defaultTheme","returnValue","handleDisconnect","io","attempt","sendBuffer","reconnection","skipReconnect","requestIdleCallback","connect","timeout","netChan","parseIrcUri","mergeNetworkData","isReady","handledQuery","handleQueryParams","active","newNetworks","collapsedNetworks","currentNetwork","initChannel","prototype","hasOwnProperty","call","mergeChannelData","oldChannels","newChannels","currentChannel","usersOutdated","totalMessages","URLSearchParams","cleanParams","cleanUri","origin","replaceState","fromEntries","entries","shouldOpen","nextTick","inputHistory","self","reverse","unshift","historyLoading","cleanIrcMessage","Audio","src","play","receivingChannel","isActiveChannel","msg","showInActive","notifyMessage","messageLimit","scrolledToBottom","updateUserList","targetId","hasFocus","exception","hasServiceWorker","ready","then","registration","postMessage","chanId","notify","tag","badge","icon","close","getTime","idx","previewIndex","response","secure","isCurrentNetworkBeingRemoved","pendingQuery","messageSearchPendingQuery","channelName","networkUuid","offset","searchTerm","messageSearchResults","lastUse","serverHasSettings","order","topic","transports","autoConnect","process","env","NODE_ENV","createSettingsStore","namespaced","assignStoredSettings","loadFromLocalStorage","mutations","actions","syncAll","force","applyAll","update","settingConfig","storedSettings","defaultSettings","newSettings","createStore","useStore","baseUseStore","appName","DesktopNotificationState","detectDesktopNotificationState","Unsupported","Granted","isSecureContext","NoHttps","Blocked","desktopNotificationState","isConnected","mentions","pushNotificationState","sessions","sidebarOpen","sidebarDragging","userlistOpen","versionData","versionStatus","versionDataExpired","findChannelOnNetwork","highlightCount","alertEventCount","channelname","inputHistoryPosition","refreshDesktopNotificationState","payload","removeNetwork","networkId","sortNetworks","sortFn","toggleSidebar","toggleUserlist","addMessageSearchResults","partChannel","storePattern","Symbol","settingsStore","registerModule","updateCursor","Uploader","xhr","fileQueue","tokenKeepAlive","overlay","uploadProgressbar","onDragEnter","dragEnter","onDragOver","dragOver","onDragLeave","dragLeave","onDrop","drop","onPaste","paste","init","uploadNextFileInQueue","mounted","unmounted","removeEventListener","dataTransfer","types","relatedTarget","files","Array","kind","getAsFile","triggerUpload","clipboardData","handleResponse","wasQueueEmpty","maxFileSize","fileUploadMaxFileSize","file","requestToken","setProgress","toggle","width","shift","setInterval","startsWith","renderImage","newFile","performUpload","fileReader","FileReader","onabort","onerror","abort","onload","img","Image","canvas","height","ctx","getContext","drawImage","toBlob","blob","File","readAsDataURL","XMLHttpRequest","percent","loaded","total","onreadystatechange","readyState","DONE","responseText","statusText","formData","FormData","append","open","send","clearInterval","url","insertUploadUrl","fullURL","textbox","HTMLTextAreaElement","initStart","headToCursor","cursorToTail","textBeforeTail","instance","createApp","App","favicon","faviconNormal","getAttribute","faviconAlerted","other","VueApp","use","mount","_","setAttribute","nav","setAppBadge","clearAppBadge","errorHandler","togglePushSubscription","hasSubscriptionOnServer","isAllowedServiceWorkersHost","register","pushManager","getSubscription","subscription","unsubscribe","successful","existingSubscription","subscribe","applicationServerKey","userVisibleOnly","toJSON","throttle","Sidebar","ImageViewer","ContextMenu","ConfirmDialog","Mentions","computed","provide","defineComponent","onBeforeUnmount","onMounted","ref","imageViewerKey","contextMenuKey","confirmDialogKey","components","setup","loungeWindow","imageViewer","contextMenu","confirmDialog","viewportClasses","notified","debouncedResize","dayChangeTimeout","escapeKey","toggleUserList","toggleMentions","msUntilNextDay","today","tommorow","getFullYear","getMonth","getDate","prepareOpenStates","viewportWidth","isUserlistOpen","emitDayChange","unbind","clearTimeout","roundBadgeNumber","ChannelWrapper","required","Boolean","isFiltering","unreadCount","isChannelVisible","getAriaLabel","extra","click","openContextMenu","ParsedMessage","MessageList","ChatInput","ChatUserList","SidebarToggle","MessageSearchForm","ListBans","ListInvites","ListChannels","ListIgnored","focused","emits","messageList","topicInput","specialComponent","channelChanged","hideUserVisibleError","saveTopic","newTopic","openMentions","wrapCursor","autocompletion","onUnmounted","formattingHotkeys","bracketWraps","uploadInput","autocompletionRef","setInputSize","getComputedStyle","lineHeight","ceil","scrollHeight","setPendingMessage","getInputPlaceholder","onSubmit","cmd","onUploadInputChange","openFileUpload","blurInput","blur","onBlur","inputTrap","modifier","onRow","totalRows","fuzzyFilter","userSearchInput","activeUser","userlist","filteredUsers","extract","groupedUsers","groups","setUserSearchInput","getModeClass","selectUser","rect","getBoundingClientRect","ev","MouseEvent","view","bubbles","cancelable","clientX","left","clientY","top","hoverUser","removeHoverUser","scrollToActiveUser","navigateUserList","stopImmediatePropagation","currentIndex","incoming","cb","useRouter","isOpen","passthrough","previousActiveElement","activeItem","enablePointerEvents","containerClick","currentTarget","positionContextMenu","menuWidth","offsetWidth","menuHeight","offsetHeight","pageX","pageY","innerHeight","hoverItem","clickItem","clickActiveItem","newItems","activeElement","pos","openChannelContextMenu","openInlineChannelContextMenu","openUserContextMenu","navigateMenu","nextItem","calendar","extend","localeDate","hoursPassed","dayChange","friendlyDate","sameDay","lastDay","lastWeek","sameElse","Sortable","Props","delay","delayOnTouchOnly","touchStartThreshold","handle","draggable","ghostClass","dragClass","group","itemKey","list","containerRef","sortable","newDraggable","onChoose","onUnchoose","onEnd","viewer","image","previousImage","nextImage","x","y","transform","scale","computeImageStyles","transformX","transformY","closeViewer","setPrevNextImages","flat","thumb","prepareImage","viewerEl","imageEl","naturalWidth","naturalHeight","onImageLoad","calculateZoomShift","newScale","oldScale","imageWidth","centerX","centerY","correctPosition","widthScaled","heightScaled","containerWidth","containerHeight","reduceTouches","totalX","totalY","totalScale","i2","sqrt","onTouchStart","onImageTouchStart","touch","currentTouches","touchEndFingers","currentTransform","startTransform","touchMove","moveEvent","deltaX","deltaY","deltaScale","fixedPosition","touchEnd","endEvent","changedTouches","onImageMouseDown","stopPropagation","startX","startY","startTransformX","startTransformY","movedDistance","mouseMove","newX","newY","mouseUp","upEvent","onMouseWheel","delta","onClick","newLink","oldLink","directives","inputChannel","inputPassword","existingChannel","inject","onBeforeRouteUpdate","friendlysize","keepScrollPosition","Function","showMoreButton","isContentShown","container","moreButtonLabel","imageMaxSize","maxSize","handleResize","onPreviewReady","sourceLoaded","onPreviewUpdate","onThumbnailError","onThumbnailClick","onMoreClick","updateShownState","defaultState","previewSize","ariaLabel","localetime","relativeTime","isLoading","resolvedMessages","messageTime","fromNow","dismissMention","msgId","dismissAllMentions","togglePopup","closePopup","LinkPreview","MessageTypes","isPreviousSource","timeFormat","messageTimeLocale","messageComponent","isAction","condensedTypes","Message","onCollapseClick","condensedText","modeChangesCount","char","quit","strings","clipboard","MessageCondensed","DateMarker","onBeforeUpdate","unreadMarkerShown","loadMoreButton","historyObserver","skipNextScrollEvent","isWaitingForNextTick","jumpToBottom","scrollTop","onShowMoreClick","lastId","condensed","onLoadButtonObserved","entry","isIntersecting","IntersectionObserver","condensedMessages","lastCondensedContainer","shouldDisplayDateMarker","previousMessage","oldDate","newDate","shouldDisplayUnreadMarker","currentMessage","onCopy","heightOld","onLinkPreviewToggle","handleScroll","observe","unobserve","deep","useRoute","searchOpened","searchInput","searchInputField","onSearchPage","newValue","closeSearch","toggleSearch","searchMessages","errorMessage","reason","lines","line","when","date","RevealPassword","handleSubmit","defaults","disabled","previousUsername","username","displayPasswordField","publicPassword","commandsInput","resizeCommandsInput","isSecureChecked","ports","newPort","setSaslAuth","sasl","usernameInput","onNickChanged","usernameRef","Draggable","NetworkLobby","Channel","JoinChannel","collapseNetworkHelper","searchText","activeSearchItem","LONG_TOUCH_DURATION","startDrag","networklist","sidebarWasClosed","moveItemInArray","newResults","collapseNetwork","expandNetwork","onNetworkSort","oldIndex","newIndex","onChannelSort","unparsedId","isTouchEvent","pointerType","onDraggableChoose","originalEvent","TouchEvent","PointerEvent","onDraggableUnchoose","onDraggableTouchStart","onDraggableTouchMove","currentPosition","onDraggableTouchEnd","activateSearch","deactivateSearch","setSearchText","setActiveSearchItem","scrollToActive","selectResult","navigateResults","r","networkContainerRef","channelRefs","joinChannelLabel","getExpandLabel","functional","render","isVisible","Chat","setActiveChannel","chanInStore","session","signOut","Session","passwordErrors","missing_fields","password_mismatch","password_incorrect","update_failed","passwordChangeStatus","old_password","new_password","verify_password","currentSession","activeSessions","otherSessions","changePassword","success","installPromptEvent","canRegisterProtocol","hasInstallPromptEvent","registerProtocolHandler","lockNetwork","nativeInstallPrompt","prompt","onForceSyncClick","registerProtocol","SettingTabItem","webpush","isIOS","platform","userAgent","playNotification","onPushButtonClick","NetworkList","isDevelopment","touchStartPos","touchCurPos","touchStartTime","menuIsMoving","menuIsAbsolute","sidebar","onTouchMove","distX","distY","onTouchEnd","devicePixelRatio","opacity","diff","absDiff","styles","isPublic","localeTime","colorClass","onHover","nickColor","hover","checkNow","onUpdated","patchChangelog","querySelectorAll","NetworkForm","parseOverrideParams","parsedParams","isArray","VersionChecker","isApple","isTouch","maxTouchPoints","networkData","setNetworkData","moreResultsAvailable","oldScrollTop","oldChatHeight","getDay","clearSearchState","doSearch","jump","currentChatHeight","Navigation","onChange","ignore","checked","inFlight","errorShown","password","onAuthFailed","values","_createElementVNode","_createElementBlock","_normalizeClass","_ctx","_createBlock","_component_Sidebar","_cache","$event","_createVNode","_component_router_view","_component_Mentions","_component_ImageViewer","_component_ContextMenu","_component_ConfirmDialog","_hoisted_1","_hoisted_3","_createCommentVNode","_component_ChannelWrapper","_mergeProps","$props","_toDisplayString","_Fragment","_hoisted_2","_hoisted_4","_hoisted_5","_withModifiers","_hoisted_6","_normalizeStyle","transition","onContextmenu","_renderSlot","$slots","_hoisted_7","_hoisted_16","lang","_component_SidebarToggle","placeholder","enterkeyhint","onKeyup","empty","onDblclick","_component_ParsedMessage","_component_MessageSearchForm","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_resolveDynamicComponent","_hoisted_15","_component_ChatUserList","_component_MessageList","_component_ChatInput","method","onInput","onKeypress","_withKeys","multiple","onMouseleave","tabindex","onKeydown","_renderList","_component_Username","opened","onMouseenter","onWheel","alt","onLoad","onMousedown","$emit","pattern","maxlength","_hoisted_9","_hoisted_26","decoding","onError","onAbort","head","preload","controls","onCanplay","mediaType","_hoisted_17","_hoisted_18","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_20","param","_component_LinkPreview","_hoisted_19","statusmsgGroup","isHtml","_component_Message","_component_DateMarker","_component_MessageCondensed","onToggleLinkPreview","new_ident","new_host","ctcpMessage","invitedYou","hostmask","account","gecos","raw_modes","new_nick","whowas","ident","actual_hostname","_hoisted_8","actual_ip","real_name","registered_nick","operator","helpop","bot","away","_hoisted_22","certfp","server","_hoisted_25","server_info","logonTime","idle","_hoisted_27","idleTime","for","_hoisted_84","_hoisted_85","_hoisted_86","public","_component_RevealPassword","_withCtx","slotProps","hasSTSPolicy","rejectUnauthorized","_hoisted_28","proxyEnabled","_hoisted_30","_hoisted_31","_hoisted_32","proxyHost","_hoisted_33","proxyPort","_hoisted_34","_hoisted_35","proxyUsername","_hoisted_36","_hoisted_37","proxyPassword","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_45","_hoisted_46","_hoisted_47","useHexIp","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","realname","_hoisted_52","_hoisted_53","leaveMessage","_hoisted_54","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_65","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_72","_hoisted_75","_hoisted_78","_hoisted_79","saslAccount","_hoisted_80","_hoisted_81","saslPassword","_hoisted_83","_hoisted_87","onFocus","_component_Channel","_component_NetworkLobby","_component_Draggable","onTouchstart","onTouchmove","onTouchend","onTouchcancel","onToggleJoinChannel","_component_JoinChannel","_component_Chat","onChannelChanged","agent","ip","ldapEnabled","_component_Session","prefetch","_hoisted_38","displayName","_hoisted_44","_component_SettingTabItem","_hoisted_29","_component_router_link","custom","isExactActive","_component_NetworkList","isActive","ban","banned_by","banned_at","num_users","invite","invited_by","invited_at","_toHandlers","mouseenter","version","prerelease","_component_NetworkForm","_hoisted_56","_hoisted_66","_hoisted_70","_hoisted_73","_hoisted_77","_hoisted_90","_hoisted_92","_hoisted_94","_hoisted_100","_hoisted_102","_hoisted_104","_hoisted_107","_hoisted_109","_hoisted_111","_hoisted_117","_hoisted_119","_hoisted_122","_hoisted_124","_hoisted_130","_hoisted_132","_hoisted_135","_hoisted_137","_hoisted_143","_hoisted_145","_hoisted_148","_hoisted_150","_hoisted_156","_hoisted_158","_hoisted_161","_hoisted_163","_hoisted_169","_hoisted_171","_hoisted_174","_hoisted_176","_hoisted_182","_hoisted_184","_hoisted_187","_hoisted_189","_hoisted_195","_hoisted_197","_hoisted_200","_hoisted_202","_hoisted_208","_hoisted_210","_hoisted_213","_hoisted_215","_hoisted_223","_hoisted_225","_hoisted_228","_hoisted_230","_hoisted_236","_hoisted_238","_hoisted_241","_hoisted_243","_hoisted_249","_hoisted_251","_hoisted_254","_hoisted_256","_hoisted_262","_hoisted_264","_hoisted_267","_hoisted_269","_hoisted_275","_hoisted_277","_hoisted_280","_hoisted_282","_hoisted_288","_hoisted_290","_hoisted_293","_hoisted_295","_hoisted_301","_hoisted_303","_hoisted_306","_hoisted_308","_hoisted_351","_hoisted_352","_component_VersionChecker","gitCommit","_hoisted_63","_hoisted_71","_hoisted_82","_hoisted_88","_hoisted_89","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_105","_hoisted_106","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_120","_hoisted_121","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_133","_hoisted_134","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_hoisted_142","_hoisted_146","_hoisted_147","_hoisted_151","_hoisted_152","_hoisted_153","_hoisted_154","_hoisted_155","_hoisted_159","_hoisted_160","_hoisted_164","_hoisted_165","_hoisted_166","_hoisted_167","_hoisted_168","_hoisted_172","_hoisted_173","_hoisted_177","_hoisted_178","_hoisted_179","_hoisted_180","_hoisted_181","_hoisted_185","_hoisted_186","_hoisted_190","_hoisted_191","_hoisted_192","_hoisted_193","_hoisted_194","_hoisted_198","_hoisted_199","_hoisted_203","_hoisted_204","_hoisted_205","_hoisted_206","_hoisted_207","_hoisted_211","_hoisted_212","_hoisted_216","_hoisted_217","_hoisted_218","_hoisted_219","_hoisted_220","_hoisted_221","_hoisted_222","_hoisted_226","_hoisted_227","_hoisted_231","_hoisted_232","_hoisted_233","_hoisted_234","_hoisted_235","_hoisted_239","_hoisted_240","_hoisted_244","_hoisted_245","_hoisted_246","_hoisted_247","_hoisted_248","_hoisted_252","_hoisted_253","_hoisted_257","_hoisted_258","_hoisted_259","_hoisted_260","_hoisted_261","_hoisted_265","_hoisted_266","_hoisted_270","_hoisted_271","_hoisted_272","_hoisted_273","_hoisted_274","_hoisted_278","_hoisted_279","_hoisted_283","_hoisted_284","_hoisted_285","_hoisted_286","_hoisted_287","_hoisted_291","_hoisted_292","_hoisted_296","_hoisted_297","_hoisted_298","_hoisted_299","_hoisted_300","_hoisted_304","_hoisted_305","_hoisted_309","_hoisted_310","_hoisted_311","_hoisted_350","_hoisted_353","_hoisted_354","_component_Navigation","autocapitalize","autocorrect","autofocus","matchFormatting","trim","LinkifyIt","tlds","normalize","noschema","schema","linkify","commonSchemes","matches","makeLinkPart","findLinksWithSchema","lastIndex"],"sourceRoot":""}